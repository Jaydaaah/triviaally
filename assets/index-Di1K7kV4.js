var Av=t=>{throw TypeError(t)};var Cf=(t,e,n)=>e.has(t)||Av("Cannot "+n);var V=(t,e,n)=>(Cf(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>e.has(t)?Av("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z=(t,e,n,r)=>(Cf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),we=(t,e,n)=>(Cf(t,e,"access private method"),n);var Eu=(t,e,n,r)=>({set _(i){Z(t,e,i,n)},get _(){return V(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function JC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j1={exports:{}},vh={},F1={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),eI=Symbol.for("react.fragment"),tI=Symbol.for("react.strict_mode"),nI=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),sI=Symbol.for("react.forward_ref"),oI=Symbol.for("react.suspense"),aI=Symbol.for("react.memo"),lI=Symbol.for("react.lazy"),Cv=Symbol.iterator;function uI(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B1=Object.assign,z1={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||U1}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $1(){}$1.prototype=Uo.prototype;function xm(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||U1}var Am=xm.prototype=new $1;Am.constructor=xm;B1(Am,Uo.prototype);Am.isPureReactComponent=!0;var Iv=Array.isArray,q1=Object.prototype.hasOwnProperty,Cm={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function Q1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)q1.call(e,r)&&!H1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:Cm.current}}function cI(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Im(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function hI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hI(""+t.key):e.toString(36)}function ec(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case ZC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+If(o,0):r,Iv(i)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),ec(i,e,n,"",function(c){return c})):i!=null&&(Im(i)&&(i=cI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Iv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+If(s,a);o+=ec(s,e,n,u,i)}else if(u=uI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+If(s,a++),o+=ec(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tu(t,e,n){if(t==null)return t;var r=[],i=0;return ec(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},tc={transition:null},dI={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:tc,ReactCurrentOwner:Cm};function W1(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Tu,forEach:function(t,e,n){Tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tu(t,function(){e++}),e},toArray:function(t){return Tu(t,function(e){return e})||[]},only:function(t){if(!Im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Uo;ge.Fragment=eI;ge.Profiler=nI;ge.PureComponent=xm;ge.StrictMode=tI;ge.Suspense=oI;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;ge.act=W1;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Cm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)q1.call(e,u)&&!H1.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:iI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rI,_context:t},t.Consumer=t};ge.createElement=Q1;ge.createFactory=function(t){var e=Q1.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:sI,render:t}};ge.isValidElement=Im;ge.lazy=function(t){return{$$typeof:lI,_payload:{_status:-1,_result:t},_init:fI}};ge.memo=function(t,e){return{$$typeof:aI,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=tc.transition;tc.transition={};try{t()}finally{tc.transition=e}};ge.unstable_act=W1;ge.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ge.useContext=function(t){return Xt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ge.useId=function(){return Xt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ge.useRef=function(t){return Xt.current.useRef(t)};ge.useState=function(t){return Xt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Xt.current.useTransition()};ge.version="18.3.1";F1.exports=ge;var N=F1.exports;const ni=JC(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI=N,mI=Symbol.for("react.element"),gI=Symbol.for("react.fragment"),yI=Object.prototype.hasOwnProperty,vI=pI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wI={key:!0,ref:!0,__self:!0,__source:!0};function K1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yI.call(e,r)&&!wI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mI,type:t,key:s,ref:o,props:i,_owner:vI.current}}vh.Fragment=gI;vh.jsx=K1;vh.jsxs=K1;j1.exports=vh;var C=j1.exports,Dd={},G1={exports:{}},gn={},Y1={exports:{}},X1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ne){var J=G.length;G.push(ne);e:for(;0<J;){var me=J-1>>>1,pe=G[me];if(0<i(pe,ne))G[me]=ne,G[J]=pe,J=me;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],J=G.pop();if(J!==ne){G[0]=J;e:for(var me=0,pe=G.length,de=pe>>>1;me<de;){var Ie=2*(me+1)-1,Qe=G[Ie],Ht=Ie+1,Zt=G[Ht];if(0>i(Qe,J))Ht<pe&&0>i(Zt,Qe)?(G[me]=Zt,G[Ht]=J,me=Ht):(G[me]=Qe,G[Ie]=J,me=Ie);else if(Ht<pe&&0>i(Zt,J))G[me]=Zt,G[Ht]=J,me=Ht;else break e}}return ne}function i(G,ne){var J=G.sortIndex-ne.sortIndex;return J!==0?J:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,p=3,y=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=G)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function D(G){if(x=!1,w(G),!_)if(n(u)!==null)_=!0,De(M);else{var ne=n(c);ne!==null&&Le(D,ne.startTime-G)}}function M(G,ne){_=!1,x&&(x=!1,T(g),g=-1),y=!0;var J=p;try{for(w(ne),d=n(u);d!==null&&(!(d.expirationTime>ne)||G&&!R());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var pe=me(d.expirationTime<=ne);ne=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(u)&&r(u),w(ne)}else r(u);d=n(u)}if(d!==null)var de=!0;else{var Ie=n(c);Ie!==null&&Le(D,Ie.startTime-ne),de=!1}return de}finally{d=null,p=J,y=!1}}var U=!1,P=null,g=-1,S=5,A=-1;function R(){return!(t.unstable_now()-A<S)}function O(){if(P!==null){var G=t.unstable_now();A=G;var ne=!0;try{ne=P(!0,G)}finally{ne?I():(U=!1,P=null)}}else U=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ve=xe.port2;xe.port1.onmessage=O,I=function(){ve.postMessage(null)}}else I=function(){b(O,0)};function De(G){P=G,U||(U=!0,I())}function Le(G,ne){g=b(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,De(M))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var J=p;p=ne;try{return G()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=p;p=G;try{return ne()}finally{p=J}},t.unstable_scheduleCallback=function(G,ne,J){var me=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=J+pe,G={id:h++,callback:ne,priorityLevel:G,startTime:J,expirationTime:pe,sortIndex:-1},J>me?(G.sortIndex=J,e(c,G),n(u)===null&&G===n(c)&&(x?(T(g),g=-1):x=!0,Le(D,J-me))):(G.sortIndex=pe,e(u,G),_||y||(_=!0,De(M))),G},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(G){var ne=p;return function(){var J=p;p=ne;try{return G.apply(this,arguments)}finally{p=J}}}})(X1);Y1.exports=X1;var _I=Y1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=N,pn=_I;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J1=new Set,Ja={};function ws(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ja[t]=e,t=0;t<e.length;t++)J1.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,TI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bv={},kv={};function SI(t){return Od.call(kv,t)?!0:Od.call(bv,t)?!1:TI.test(t)?kv[t]=!0:(bv[t]=!0,!1)}function PI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xI(t,e,n,r){if(e===null||typeof e>"u"||PI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rm=/[\-:]([a-z])/g;function bm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rm,bm);Rt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rm,bm);Rt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rm,bm);Rt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function km(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xI(e,n,i,r)&&(n=null),r||i===null?SI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=EI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),js=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),Z1=Symbol.for("react.provider"),eE=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),tE=Symbol.for("react.offscreen"),Dv=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Rf;function Pa(t){if(Rf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rf=e&&e[1]||""}return`
`+Rf+t}var bf=!1;function kf(t,e){if(!t||bf)return"";bf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{bf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function AI(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=kf(t.type,!1),t;case 11:return t=kf(t.type.render,!1),t;case 1:return t=kf(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case js:return"Portal";case Vd:return"Profiler";case Dm:return"StrictMode";case Nd:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eE:return(t.displayName||"Context")+".Consumer";case Z1:return(t._context.displayName||"Context")+".Provider";case Om:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function CI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function II(t){var e=nE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=II(t))}function rE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jd(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ov(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iE(t,e){e=e.checked,e!=null&&km(t,"checked",e,!1)}function Fd(t,e){iE(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ud(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ud(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ud(t,e,n){(e!=="number"||Sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(xa(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function sE(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,aE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RI=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){RI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function lE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function uE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bI=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $d(t,e){if(e){if(bI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function Nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qd=null,no=null,ro=null;function Lv(t){if(t=jl(t)){if(typeof Qd!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Sh(e),Qd(t.stateNode,t.type,e))}}function cE(t){no?ro?ro.push(t):ro=[t]:no=t}function hE(){if(no){var t=no,e=ro;if(ro=no=null,Lv(t),e)for(t=0;t<e.length;t++)Lv(e[t])}}function fE(t,e){return t(e)}function dE(){}var Df=!1;function pE(t,e,n){if(Df)return t(e,n);Df=!0;try{return fE(t,e,n)}finally{Df=!1,(no!==null||ro!==null)&&(dE(),hE())}}function el(t,e){var n=t.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Wd=!1;if(xr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Wd=!1}function kI(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Na=!1,Pc=null,xc=!1,Kd=null,DI={onError:function(t){Na=!0,Pc=t}};function OI(t,e,n,r,i,s,o,a,u){Na=!1,Pc=null,kI.apply(DI,arguments)}function VI(t,e,n,r,i,s,o,a,u){if(OI.apply(this,arguments),Na){if(Na){var c=Pc;Na=!1,Pc=null}else throw Error(K(198));xc||(xc=!0,Kd=c)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jv(t){if(_s(t)!==t)throw Error(K(188))}function NI(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jv(i),t;if(s===r)return jv(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function gE(t){return t=NI(t),t!==null?yE(t):null}function yE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yE(t);if(e!==null)return e;t=t.sibling}return null}var vE=pn.unstable_scheduleCallback,Fv=pn.unstable_cancelCallback,MI=pn.unstable_shouldYield,LI=pn.unstable_requestPaint,nt=pn.unstable_now,jI=pn.unstable_getCurrentPriorityLevel,Mm=pn.unstable_ImmediatePriority,wE=pn.unstable_UserBlockingPriority,Ac=pn.unstable_NormalPriority,FI=pn.unstable_LowPriority,_E=pn.unstable_IdlePriority,wh=null,nr=null;function UI(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:$I,BI=Math.log,zI=Math.LN2;function $I(t){return t>>>=0,t===0?32:31-(BI(t)/zI|0)|0}var Au=64,Cu=4194304;function Aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Aa(a):(s&=o,s!==0&&(r=Aa(s)))}else o=n&~i,o!==0?r=Aa(o):s!==0&&(r=Aa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function qI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=qI(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Gd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EE(){var t=Au;return Au<<=1,!(Au&4194240)&&(Au=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function QI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function TE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SE,jm,PE,xE,AE,Yd=!1,Iu=[],ri=null,ii=null,si=null,tl=new Map,nl=new Map,Hr=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uv(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jl(e),e!==null&&jm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KI(t,e,n,r,i){switch(e){case"focusin":return ri=ma(ri,t,e,n,r,i),!0;case"dragenter":return ii=ma(ii,t,e,n,r,i),!0;case"mouseover":return si=ma(si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return tl.set(s,ma(tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nl.set(s,ma(nl.get(s)||null,t,e,n,r,i)),!0}return!1}function CE(t){var e=zi(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=mE(n),e!==null){t.blockedOn=e,AE(t.priority,function(){PE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hd=r,n.target.dispatchEvent(r),Hd=null}else return e=jl(n),e!==null&&jm(e),t.blockedOn=n,!1;e.shift()}return!0}function Bv(t,e,n){nc(t)&&n.delete(e)}function GI(){Yd=!1,ri!==null&&nc(ri)&&(ri=null),ii!==null&&nc(ii)&&(ii=null),si!==null&&nc(si)&&(si=null),tl.forEach(Bv),nl.forEach(Bv)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Yd||(Yd=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,GI)))}function rl(t){function e(i){return ga(i,t)}if(0<Iu.length){ga(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&ga(ri,t),ii!==null&&ga(ii,t),si!==null&&ga(si,t),tl.forEach(e),nl.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&Hr.shift()}var io=Or.ReactCurrentBatchConfig,Ic=!0;function YI(t,e,n,r){var i=Oe,s=io.transition;io.transition=null;try{Oe=1,Fm(t,e,n,r)}finally{Oe=i,io.transition=s}}function XI(t,e,n,r){var i=Oe,s=io.transition;io.transition=null;try{Oe=4,Fm(t,e,n,r)}finally{Oe=i,io.transition=s}}function Fm(t,e,n,r){if(Ic){var i=Xd(t,e,n,r);if(i===null)$f(t,e,r,Rc,n),Uv(t,r);else if(KI(i,t,e,n,r))r.stopPropagation();else if(Uv(t,r),e&4&&-1<WI.indexOf(t)){for(;i!==null;){var s=jl(i);if(s!==null&&SE(s),s=Xd(t,e,n,r),s===null&&$f(t,e,r,Rc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var Rc=null;function Xd(t,e,n,r){if(Rc=null,t=Nm(r),t=zi(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rc=t,null}function IE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jI()){case Mm:return 1;case wE:return 4;case Ac:case FI:return 16;case _E:return 536870912;default:return 16}default:return 16}}var Zr=null,Um=null,rc=null;function RE(){if(rc)return rc;var t,e=Um,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rc=i.slice(t,1<r?1-r:void 0)}function ic(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function zv(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ru:zv,this.isPropagationStopped=zv,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=yn(Bo),Ll=Ye({},Bo,{view:0,detail:0}),JI=yn(Ll),Vf,Nf,ya,_h=Ye({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(Vf=t.screenX-ya.screenX,Nf=t.screenY-ya.screenY):Nf=Vf=0,ya=t),Vf)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),$v=yn(_h),ZI=Ye({},_h,{dataTransfer:0}),eR=yn(ZI),tR=Ye({},Ll,{relatedTarget:0}),Mf=yn(tR),nR=Ye({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=yn(nR),iR=Ye({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sR=yn(iR),oR=Ye({},Bo,{data:0}),qv=yn(oR),aR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uR[t])?!!e[t]:!1}function zm(){return cR}var hR=Ye({},Ll,{key:function(t){if(t.key){var e=aR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ic(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(t){return t.type==="keypress"?ic(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ic(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fR=yn(hR),dR=Ye({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=yn(dR),pR=Ye({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),mR=yn(pR),gR=Ye({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yR=yn(gR),vR=Ye({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wR=yn(vR),_R=[9,13,27,32],$m=xr&&"CompositionEvent"in window,Ma=null;xr&&"documentMode"in document&&(Ma=document.documentMode);var ER=xr&&"TextEvent"in window&&!Ma,bE=xr&&(!$m||Ma&&8<Ma&&11>=Ma),Qv=" ",Wv=!1;function kE(t,e){switch(t){case"keyup":return _R.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function TR(t,e){switch(t){case"compositionend":return DE(e);case"keypress":return e.which!==32?null:(Wv=!0,Qv);case"textInput":return t=e.data,t===Qv&&Wv?null:t;default:return null}}function SR(t,e){if(Us)return t==="compositionend"||!$m&&kE(t,e)?(t=RE(),rc=Um=Zr=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bE&&e.locale!=="ko"?null:e.data;default:return null}}var PR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PR[t.type]:e==="textarea"}function OE(t,e,n,r){cE(r),e=bc(e,"onChange"),0<e.length&&(n=new Bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var La=null,il=null;function xR(t){qE(t,0)}function Eh(t){var e=$s(t);if(rE(e))return t}function AR(t,e){if(t==="change")return e}var VE=!1;if(xr){var Lf;if(xr){var jf="oninput"in document;if(!jf){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),jf=typeof Gv.oninput=="function"}Lf=jf}else Lf=!1;VE=Lf&&(!document.documentMode||9<document.documentMode)}function Yv(){La&&(La.detachEvent("onpropertychange",NE),il=La=null)}function NE(t){if(t.propertyName==="value"&&Eh(il)){var e=[];OE(e,il,t,Nm(t)),pE(xR,e)}}function CR(t,e,n){t==="focusin"?(Yv(),La=e,il=n,La.attachEvent("onpropertychange",NE)):t==="focusout"&&Yv()}function IR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(il)}function RR(t,e){if(t==="click")return Eh(e)}function bR(t,e){if(t==="input"||t==="change")return Eh(e)}function kR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:kR;function sl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Od.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jv(t,e){var n=Xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function ME(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ME(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LE(){for(var t=window,e=Sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sc(t.document)}return e}function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DR(t){var e=LE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ME(n.ownerDocument.documentElement,n)){if(r!==null&&qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jv(n,s);var o=Jv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OR=xr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Jd=null,ja=null,Zd=!1;function Zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||Bs==null||Bs!==Sc(r)||(r=Bs,"selectionStart"in r&&qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ja&&sl(ja,r)||(ja=r,r=bc(Jd,"onSelect"),0<r.length&&(e=new Bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Ff={},jE={};xr&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Th(t){if(Ff[t])return Ff[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jE)return Ff[t]=e[n];return t}var FE=Th("animationend"),UE=Th("animationiteration"),BE=Th("animationstart"),zE=Th("transitionend"),$E=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){$E.set(t,e),ws(e,[t])}for(var Uf=0;Uf<e0.length;Uf++){var Bf=e0[Uf],VR=Bf.toLowerCase(),NR=Bf[0].toUpperCase()+Bf.slice(1);Ai(VR,"on"+NR)}Ai(FE,"onAnimationEnd");Ai(UE,"onAnimationIteration");Ai(BE,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(zE,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function t0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VI(r,e,void 0,t),t.currentTarget=null}function qE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;t0(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;t0(i,a,c),s=u}}}if(xc)throw t=Kd,xc=!1,Kd=null,t}function ze(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(HE(e,t,2,!1),n.add(r))}function zf(t,e,n){var r=0;e&&(r|=4),HE(n,t,r,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[ku]){t[ku]=!0,J1.forEach(function(n){n!=="selectionchange"&&(MR.has(n)||zf(n,!1,t),zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,zf("selectionchange",!1,e))}}function HE(t,e,n,r){switch(IE(e)){case 1:var i=YI;break;case 4:i=XI;break;default:i=Fm}n=i.bind(null,e,n,t),i=void 0,!Wd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pE(function(){var c=s,h=Nm(n),d=[];e:{var p=$E.get(t);if(p!==void 0){var y=Bm,_=t;switch(t){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":y=fR;break;case"focusin":_="focus",y=Mf;break;case"focusout":_="blur",y=Mf;break;case"beforeblur":case"afterblur":y=Mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=mR;break;case FE:case UE:case BE:y=rR;break;case zE:y=yR;break;case"scroll":y=JI;break;case"wheel":y=wR;break;case"copy":case"cut":case"paste":y=sR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Hv}var x=(e&4)!==0,b=!x&&t==="scroll",T=x?p!==null?p+"Capture":null:p;x=[];for(var v=c,w;v!==null;){w=v;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,T!==null&&(D=el(v,T),D!=null&&x.push(al(v,D,w)))),b)break;v=v.return}0<x.length&&(p=new y(p,_,null,n,h),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Hd&&(_=n.relatedTarget||n.fromElement)&&(zi(_)||_[Ar]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?zi(_):null,_!==null&&(b=_s(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(x=$v,D="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Hv,D="onPointerLeave",T="onPointerEnter",v="pointer"),b=y==null?p:$s(y),w=_==null?p:$s(_),p=new x(D,v+"leave",y,n,h),p.target=b,p.relatedTarget=w,D=null,zi(h)===c&&(x=new x(T,v+"enter",_,n,h),x.target=w,x.relatedTarget=b,D=x),b=D,y&&_)t:{for(x=y,T=_,v=0,w=x;w;w=Vs(w))v++;for(w=0,D=T;D;D=Vs(D))w++;for(;0<v-w;)x=Vs(x),v--;for(;0<w-v;)T=Vs(T),w--;for(;v--;){if(x===T||T!==null&&x===T.alternate)break t;x=Vs(x),T=Vs(T)}x=null}else x=null;y!==null&&n0(d,p,y,x,!1),_!==null&&b!==null&&n0(d,b,_,x,!0)}}e:{if(p=c?$s(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=AR;else if(Kv(p))if(VE)M=bR;else{M=IR;var U=CR}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=RR);if(M&&(M=M(t,c))){OE(d,M,n,h);break e}U&&U(t,p,c),t==="focusout"&&(U=p._wrapperState)&&U.controlled&&p.type==="number"&&Ud(p,"number",p.value)}switch(U=c?$s(c):window,t){case"focusin":(Kv(U)||U.contentEditable==="true")&&(Bs=U,Jd=c,ja=null);break;case"focusout":ja=Jd=Bs=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Zv(d,n,h);break;case"selectionchange":if(OR)break;case"keydown":case"keyup":Zv(d,n,h)}var P;if($m)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Us?kE(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(bE&&n.locale!=="ko"&&(Us||g!=="onCompositionStart"?g==="onCompositionEnd"&&Us&&(P=RE()):(Zr=h,Um="value"in Zr?Zr.value:Zr.textContent,Us=!0)),U=bc(c,g),0<U.length&&(g=new qv(g,t,null,n,h),d.push({event:g,listeners:U}),P?g.data=P:(P=DE(n),P!==null&&(g.data=P)))),(P=ER?TR(t,n):SR(t,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(h=new qv("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=P))}qE(d,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=el(t,n),s!=null&&r.unshift(al(t,s,i)),s=el(t,e),s!=null&&r.push(al(t,s,i))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=el(n,s),u!=null&&o.unshift(al(n,u,a))):i||(u=el(n,s),u!=null&&o.push(al(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(LR,`
`).replace(jR,"")}function Du(t,e,n){if(e=r0(e),r0(t)!==e&&n)throw Error(K(425))}function kc(){}var ep=null,tp=null;function np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,FR=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,UR=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(t){return i0.resolve(null).then(t).catch(BR)}:rp;function BR(t){setTimeout(function(){throw t})}function qf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rl(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),tr="__reactFiber$"+zo,ll="__reactProps$"+zo,Ar="__reactContainer$"+zo,ip="__reactEvents$"+zo,zR="__reactListeners$"+zo,$R="__reactHandles$"+zo;function zi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s0(t);t!==null;){if(n=t[tr])return n;t=s0(t)}return e}t=n,n=t.parentNode}return null}function jl(t){return t=t[tr]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Sh(t){return t[ll]||null}var sp=[],qs=-1;function Ci(t){return{current:t}}function qe(t){0>qs||(t.current=sp[qs],sp[qs]=null,qs--)}function Fe(t,e){qs++,sp[qs]=t.current,t.current=e}var vi={},zt=Ci(vi),rn=Ci(!1),os=vi;function Po(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Dc(){qe(rn),qe(zt)}function o0(t,e,n){if(zt.current!==vi)throw Error(K(168));Fe(zt,e),Fe(rn,n)}function QE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,CI(t)||"Unknown",i));return Ye({},n,r)}function Oc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,os=zt.current,Fe(zt,t),Fe(rn,rn.current),!0}function a0(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=QE(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,qe(rn),qe(zt),Fe(zt,t)):qe(rn),Fe(rn,n)}var gr=null,Ph=!1,Hf=!1;function WE(t){gr===null?gr=[t]:gr.push(t)}function qR(t){Ph=!0,WE(t)}function Ii(){if(!Hf&&gr!==null){Hf=!0;var t=0,e=Oe;try{var n=gr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,Ph=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),vE(Mm,Ii),i}finally{Oe=e,Hf=!1}}return null}var Hs=[],Qs=0,Vc=null,Nc=0,Sn=[],Pn=0,as=null,yr=1,vr="";function Li(t,e){Hs[Qs++]=Nc,Hs[Qs++]=Vc,Vc=t,Nc=e}function KE(t,e,n){Sn[Pn++]=yr,Sn[Pn++]=vr,Sn[Pn++]=as,as=t;var r=yr;t=vr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-zn(e)+i|n<<i|r,vr=s+t}else yr=1<<s|n<<i|r,vr=t}function Hm(t){t.return!==null&&(Li(t,1),KE(t,1,0))}function Qm(t){for(;t===Vc;)Vc=Hs[--Qs],Hs[Qs]=null,Nc=Hs[--Qs],Hs[Qs]=null;for(;t===as;)as=Sn[--Pn],Sn[Pn]=null,vr=Sn[--Pn],Sn[Pn]=null,yr=Sn[--Pn],Sn[Pn]=null}var fn=null,hn=null,He=!1,Fn=null;function GE(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function l0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,hn=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,hn=null,!0):!1;default:return!1}}function op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(He){var e=hn;if(e){var n=e;if(!l0(t,e)){if(op(t))throw Error(K(418));e=oi(n.nextSibling);var r=fn;e&&l0(t,e)?GE(r,n):(t.flags=t.flags&-4097|2,He=!1,fn=t)}}else{if(op(t))throw Error(K(418));t.flags=t.flags&-4097|2,He=!1,fn=t}}}function u0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Ou(t){if(t!==fn)return!1;if(!He)return u0(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!np(t.type,t.memoizedProps)),e&&(e=hn)){if(op(t))throw YE(),Error(K(418));for(;e;)GE(t,e),e=oi(e.nextSibling)}if(u0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=fn?oi(t.stateNode.nextSibling):null;return!0}function YE(){for(var t=hn;t;)t=oi(t.nextSibling)}function xo(){hn=fn=null,He=!1}function Wm(t){Fn===null?Fn=[t]:Fn.push(t)}var HR=Or.ReactCurrentBatchConfig;function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function XE(t){function e(T,v){if(t){var w=T.deletions;w===null?(T.deletions=[v],T.flags|=16):w.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=ci(T,v),T.index=0,T.sibling=null,T}function s(T,v,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<v?(T.flags|=2,v):w):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,w,D){return v===null||v.tag!==6?(v=Jf(w,T.mode,D),v.return=T,v):(v=i(v,w),v.return=T,v)}function u(T,v,w,D){var M=w.type;return M===Fs?h(T,v,w.props.children,D,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$r&&c0(M)===v.type)?(D=i(v,w.props),D.ref=va(T,v,w),D.return=T,D):(D=hc(w.type,w.key,w.props,null,T.mode,D),D.ref=va(T,v,w),D.return=T,D)}function c(T,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Zf(w,T.mode,D),v.return=T,v):(v=i(v,w.children||[]),v.return=T,v)}function h(T,v,w,D,M){return v===null||v.tag!==7?(v=ns(w,T.mode,D,M),v.return=T,v):(v=i(v,w),v.return=T,v)}function d(T,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jf(""+v,T.mode,w),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Su:return w=hc(v.type,v.key,v.props,null,T.mode,w),w.ref=va(T,null,v),w.return=T,w;case js:return v=Zf(v,T.mode,w),v.return=T,v;case $r:var D=v._init;return d(T,D(v._payload),w)}if(xa(v)||da(v))return v=ns(v,T.mode,w,null),v.return=T,v;Vu(T,v)}return null}function p(T,v,w,D){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(T,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:return w.key===M?u(T,v,w,D):null;case js:return w.key===M?c(T,v,w,D):null;case $r:return M=w._init,p(T,v,M(w._payload),D)}if(xa(w)||da(w))return M!==null?null:h(T,v,w,D,null);Vu(T,w)}return null}function y(T,v,w,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(w)||null,a(v,T,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Su:return T=T.get(D.key===null?w:D.key)||null,u(v,T,D,M);case js:return T=T.get(D.key===null?w:D.key)||null,c(v,T,D,M);case $r:var U=D._init;return y(T,v,w,U(D._payload),M)}if(xa(D)||da(D))return T=T.get(w)||null,h(v,T,D,M,null);Vu(v,D)}return null}function _(T,v,w,D){for(var M=null,U=null,P=v,g=v=0,S=null;P!==null&&g<w.length;g++){P.index>g?(S=P,P=null):S=P.sibling;var A=p(T,P,w[g],D);if(A===null){P===null&&(P=S);break}t&&P&&A.alternate===null&&e(T,P),v=s(A,v,g),U===null?M=A:U.sibling=A,U=A,P=S}if(g===w.length)return n(T,P),He&&Li(T,g),M;if(P===null){for(;g<w.length;g++)P=d(T,w[g],D),P!==null&&(v=s(P,v,g),U===null?M=P:U.sibling=P,U=P);return He&&Li(T,g),M}for(P=r(T,P);g<w.length;g++)S=y(P,T,g,w[g],D),S!==null&&(t&&S.alternate!==null&&P.delete(S.key===null?g:S.key),v=s(S,v,g),U===null?M=S:U.sibling=S,U=S);return t&&P.forEach(function(R){return e(T,R)}),He&&Li(T,g),M}function x(T,v,w,D){var M=da(w);if(typeof M!="function")throw Error(K(150));if(w=M.call(w),w==null)throw Error(K(151));for(var U=M=null,P=v,g=v=0,S=null,A=w.next();P!==null&&!A.done;g++,A=w.next()){P.index>g?(S=P,P=null):S=P.sibling;var R=p(T,P,A.value,D);if(R===null){P===null&&(P=S);break}t&&P&&R.alternate===null&&e(T,P),v=s(R,v,g),U===null?M=R:U.sibling=R,U=R,P=S}if(A.done)return n(T,P),He&&Li(T,g),M;if(P===null){for(;!A.done;g++,A=w.next())A=d(T,A.value,D),A!==null&&(v=s(A,v,g),U===null?M=A:U.sibling=A,U=A);return He&&Li(T,g),M}for(P=r(T,P);!A.done;g++,A=w.next())A=y(P,T,g,A.value,D),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?g:A.key),v=s(A,v,g),U===null?M=A:U.sibling=A,U=A);return t&&P.forEach(function(O){return e(T,O)}),He&&Li(T,g),M}function b(T,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Fs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:e:{for(var M=w.key,U=v;U!==null;){if(U.key===M){if(M=w.type,M===Fs){if(U.tag===7){n(T,U.sibling),v=i(U,w.props.children),v.return=T,T=v;break e}}else if(U.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$r&&c0(M)===U.type){n(T,U.sibling),v=i(U,w.props),v.ref=va(T,U,w),v.return=T,T=v;break e}n(T,U);break}else e(T,U);U=U.sibling}w.type===Fs?(v=ns(w.props.children,T.mode,D,w.key),v.return=T,T=v):(D=hc(w.type,w.key,w.props,null,T.mode,D),D.ref=va(T,v,w),D.return=T,T=D)}return o(T);case js:e:{for(U=w.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(T,v.sibling),v=i(v,w.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Zf(w,T.mode,D),v.return=T,T=v}return o(T);case $r:return U=w._init,b(T,v,U(w._payload),D)}if(xa(w))return _(T,v,w,D);if(da(w))return x(T,v,w,D);Vu(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,w),v.return=T,T=v):(n(T,v),v=Jf(w,T.mode,D),v.return=T,T=v),o(T)):n(T,v)}return b}var Ao=XE(!0),JE=XE(!1),Mc=Ci(null),Lc=null,Ws=null,Km=null;function Gm(){Km=Ws=Lc=null}function Ym(t){var e=Mc.current;qe(Mc),t._currentValue=e}function lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){Lc=t,Km=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Km!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(Lc===null)throw Error(K(308));Ws=t,Lc.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var $i=null;function Xm(t){$i===null?$i=[t]:$i.push(t)}function ZE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Jm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cr(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}function h0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(p=e,y=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){d=_.call(y,d,p);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,p=typeof _=="function"?_.call(y,d,p):_,p==null)break e;d=Ye({},d,p);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=d):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=d}}function f0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Fl={},rr=Ci(Fl),ul=Ci(Fl),cl=Ci(Fl);function qi(t){if(t===Fl)throw Error(K(174));return t}function Zm(t,e){switch(Fe(cl,e),Fe(ul,t),Fe(rr,Fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zd(e,t)}qe(rr),Fe(rr,e)}function Co(){qe(rr),qe(ul),qe(cl)}function tT(t){qi(cl.current);var e=qi(rr.current),n=zd(e,t.type);e!==n&&(Fe(ul,t),Fe(rr,n))}function eg(t){ul.current===t&&(qe(rr),qe(ul))}var We=Ci(0);function Fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function tg(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var oc=Or.ReactCurrentDispatcher,Wf=Or.ReactCurrentBatchConfig,ls=0,Ge=null,ft=null,vt=null,Uc=!1,Fa=!1,hl=0,QR=0;function Dt(){throw Error(K(321))}function ng(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function rg(t,e,n,r,i,s){if(ls=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oc.current=t===null||t.memoizedState===null?YR:XR,t=n(r,i),Fa){s=0;do{if(Fa=!1,hl=0,25<=s)throw Error(K(301));s+=1,vt=ft=null,e.updateQueue=null,oc.current=JR,t=n(r,i)}while(Fa)}if(oc.current=Bc,e=ft!==null&&ft.next!==null,ls=0,vt=ft=Ge=null,Uc=!1,e)throw Error(K(300));return t}function ig(){var t=hl!==0;return hl=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Dn(){if(ft===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(K(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function fl(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=Dn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((ls&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,Ge.lanes|=h,us|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Hn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Dn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nT(){}function rT(t,e){var n=Ge,r=Dn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,sg(oT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,dl(9,sT.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(K(349));ls&30||iT(n,e,i)}return i}function iT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sT(t,e,n,r){e.value=n,e.getSnapshot=r,aT(e)&&lT(t)}function oT(t,e,n){return n(function(){aT(e)&&lT(t)})}function aT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function lT(t){var e=Cr(t,1);e!==null&&$n(e,t,1,-1)}function d0(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=GR.bind(null,Ge,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uT(){return Dn().memoizedState}function ac(t,e,n,r){var i=Yn();Ge.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function xh(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&ng(r,o.deps)){i.memoizedState=dl(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=dl(1|e,n,s,r)}function p0(t,e){return ac(8390656,8,t,e)}function sg(t,e){return xh(2048,8,t,e)}function cT(t,e){return xh(4,2,t,e)}function hT(t,e){return xh(4,4,t,e)}function fT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dT(t,e,n){return n=n!=null?n.concat([t]):null,xh(4,4,fT.bind(null,e,t),n)}function og(){}function pT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ng(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ng(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gT(t,e,n){return ls&21?(Hn(n,e)||(n=EE(),Ge.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function WR(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{Oe=n,Wf.transition=r}}function yT(){return Dn().memoizedState}function KR(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vT(t))wT(e,n);else if(n=ZE(t,e,n,r),n!==null){var i=Yt();$n(n,t,r,i),_T(n,e,r)}}function GR(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vT(t))wT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var u=e.interleaved;u===null?(i.next=i,Xm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ZE(t,e,i,r),n!==null&&(i=Yt(),$n(n,t,r,i),_T(n,e,r))}}function vT(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function wT(t,e){Fa=Uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _T(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}var Bc={readContext:kn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},YR={readContext:kn,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:p0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,fT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KR.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:d0,useDebugValue:og,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=d0(!1),e=t[0];return t=WR.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=Yn();if(He){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),wt===null)throw Error(K(349));ls&30||iT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,p0(oT.bind(null,r,s,t),[t]),r.flags|=2048,dl(9,sT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yn(),e=wt.identifierPrefix;if(He){var n=vr,r=yr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XR={readContext:kn,useCallback:pT,useContext:kn,useEffect:sg,useImperativeHandle:dT,useInsertionEffect:cT,useLayoutEffect:hT,useMemo:mT,useReducer:Kf,useRef:uT,useState:function(){return Kf(fl)},useDebugValue:og,useDeferredValue:function(t){var e=Dn();return gT(e,ft.memoizedState,t)},useTransition:function(){var t=Kf(fl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1},JR={readContext:kn,useCallback:pT,useContext:kn,useEffect:sg,useImperativeHandle:dT,useInsertionEffect:cT,useLayoutEffect:hT,useMemo:mT,useReducer:Gf,useRef:uT,useState:function(){return Gf(fl)},useDebugValue:og,useDeferredValue:function(t){var e=Dn();return ft===null?e.memoizedState=t:gT(e,ft.memoizedState,t)},useTransition:function(){var t=Gf(fl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ah={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=ui(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&($n(e,t,i,r),sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=ui(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&($n(e,t,i,r),sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=ui(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=ai(t,i,r),e!==null&&($n(e,t,r,n),sc(e,t,r))}};function m0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sl(n,r)||!sl(i,s):!0}function ET(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=sn(e)?os:zt.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function g0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=sn(e)?os:zt.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(up(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ah.enqueueReplaceState(i,i.state,null),jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=AI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZR=typeof WeakMap=="function"?WeakMap:Map;function TT(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$c||($c=!0,Ep=r),hp(t,e)},n}function ST(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hp(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=db.bind(null,t,e,n),e.then(t,t))}function v0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ai(n,e,1))),n.lanes|=1),t)}var eb=Or.ReactCurrentOwner,nn=!1;function Gt(t,e,n,r){e.child=t===null?JE(e,null,n,r):Ao(e,t.child,n,r)}function _0(t,e,n,r,i){n=n.render;var s=e.ref;return so(e,i),r=rg(t,e,n,r,s,i),n=ig(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(He&&n&&Hm(e),e.flags|=1,Gt(t,e,r,i),e.child)}function E0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PT(t,e,s,r,i)):(t=hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function PT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return fp(t,e,n,r,i)}function xT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Gs,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Gs,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(Gs,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(Gs,cn),cn|=r;return Gt(t,e,i,n),e.child}function AT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fp(t,e,n,r,i){var s=sn(n)?os:zt.current;return s=Po(e,s),so(e,i),n=rg(t,e,n,r,s,i),r=ig(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(He&&r&&Hm(e),e.flags|=1,Gt(t,e,n,i),e.child)}function T0(t,e,n,r,i){if(sn(n)){var s=!0;Oc(e)}else s=!1;if(so(e,i),e.stateNode===null)lc(t,e),ET(e,n,r),cp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=sn(n)?os:zt.current,c=Po(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&g0(e,o,r,c),qr=!1;var p=e.memoizedState;o.state=p,jc(e,r,o,i),u=e.memoizedState,a!==r||p!==u||rn.current||qr?(typeof h=="function"&&(up(e,n,h,r),u=e.memoizedState),(a=qr||m0(e,n,a,r,p,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=kn(u):(u=sn(n)?os:zt.current,u=Po(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&g0(e,o,r,u),qr=!1,p=e.memoizedState,o.state=p,jc(e,r,o,i);var _=e.memoizedState;a!==d||p!==_||rn.current||qr?(typeof y=="function"&&(up(e,n,y,r),_=e.memoizedState),(c=qr||m0(e,n,c,r,p,_,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return dp(t,e,n,r,s,i)}function dp(t,e,n,r,i,s){AT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&a0(e,n,!1),Ir(t,e,s);r=e.stateNode,eb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):Gt(t,e,a,s),e.memoizedState=r.state,i&&a0(e,n,!0),e.child}function CT(t){var e=t.stateNode;e.pendingContext?o0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o0(t,e.context,!1),Zm(t,e.containerInfo)}function S0(t,e,n,r,i){return xo(),Wm(i),e.flags|=256,Gt(t,e,n,r),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function IT(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(We,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rh(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mp(n),e.memoizedState=pp,t):ag(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ci(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ci(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pp,r}return s=t.child,t=s.sibling,r=ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ag(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&Wm(r),Ao(e,t.child,null,n),t=ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yf(Error(K(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rh({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=mp(o),e.memoizedState=pp,s);if(!(e.mode&1))return Nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Yf(s,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,nn||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cr(t,i),$n(r,t,i,-1))}return dg(),r=Yf(Error(K(421))),Nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=oi(i.nextSibling),fn=e,He=!0,Fn=null,t!==null&&(Sn[Pn++]=yr,Sn[Pn++]=vr,Sn[Pn++]=as,yr=t.id,vr=t.overflow,as=e),e=ag(e,r.children),e.flags|=4096,e)}function P0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lp(t.return,e,n)}function Xf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,n,e);else if(t.tag===19)P0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xf(e,!0,n,null,s);break;case"together":Xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nb(t,e,n){switch(e.tag){case 3:CT(e),xo();break;case 5:tT(e);break;case 1:sn(e.type)&&Oc(e);break;case 4:Zm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?IT(t,e,n):(Fe(We,We.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Fe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,xT(t,e,n)}return Ir(t,e,n)}var bT,gp,kT,DT;bT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gp=function(){};kT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qi(rr.current);var s=null;switch(n){case"input":i=jd(t,i),r=jd(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Bd(t,i),r=Bd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kc)}$d(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ze("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DT=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rb(t,e,n){var r=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return sn(e.type)&&Dc(),Ot(e),null;case 3:return r=e.stateNode,Co(),qe(rn),qe(zt),tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Pp(Fn),Fn=null))),gp(t,e),Ot(e),null;case 5:eg(e);var i=qi(cl.current);if(n=e.type,t!==null&&e.stateNode!=null)kT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Ot(e),null}if(t=qi(rr.current),Ou(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[ll]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Ca.length;i++)ze(Ca[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Ov(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":Nv(r,s),ze("invalid",r)}$d(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),i=["children",""+a]):Ja.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Pu(r),Vv(r,s,!0);break;case"textarea":Pu(r),Mv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[ll]=r,bT(t,e,!1,!1),e.stateNode=t;e:{switch(o=qd(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ca.length;i++)ze(Ca[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Ov(t,r),i=jd(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Nv(t,r),i=Bd(t,r),ze("invalid",t);break;default:i=r}$d(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?uE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&aE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Za(t,u):typeof u=="number"&&Za(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ja.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ze("scroll",t):u!=null&&km(t,s,u,o))}switch(n){case"input":Pu(t),Vv(t,r,!1);break;case"textarea":Pu(t),Mv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?to(t,!!r.multiple,s,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)DT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=qi(cl.current),qi(rr.current),Ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Du(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Du(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Ot(e),null;case 13:if(qe(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&hn!==null&&e.mode&1&&!(e.flags&128))YE(),xo(),e.flags|=98560,s=!1;else if(s=Ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[tr]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else Fn!==null&&(Pp(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?dt===0&&(dt=3):dg())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Co(),gp(t,e),t===null&&ol(e.stateNode.containerInfo),Ot(e),null;case 10:return Ym(e.type._context),Ot(e),null;case 17:return sn(e.type)&&Dc(),Ot(e),null;case 19:if(qe(We),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wa(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fc(t),o!==null){for(e.flags|=128,wa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>Ro&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Ot(e),null}else 2*nt()-s.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=We.current,Fe(We,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function ib(t,e){switch(Qm(e),e.tag){case 1:return sn(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),qe(rn),qe(zt),tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eg(e),null;case 13:if(qe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(We),null;case 4:return Co(),null;case 10:return Ym(e.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var Mu=!1,jt=!1,sb=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function yp(t,e,n){try{n()}catch(r){et(t,e,r)}}var x0=!1;function ob(t,e){if(ep=Ic,t=LE(),qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:t,selectionRange:n},Ic=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,b=_.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:Mn(e.type,x),b);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(D){et(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=x0,x0=!1,_}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yp(e,n,s)}i=i.next}while(i!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OT(t){var e=t.alternate;e!==null&&(t.alternate=null,OT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[ll],delete e[ip],delete e[zR],delete e[$R])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VT(t){return t.tag===5||t.tag===3||t.tag===4}function A0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kc));else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}var Tt=null,jn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)NT(t,e,n),n=n.sibling}function NT(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:jt||Ks(n,e);case 6:var r=Tt,i=jn;Tt=null,Fr(t,e,n),Tt=r,jn=i,Tt!==null&&(jn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(jn?(t=Tt,n=n.stateNode,t.nodeType===8?qf(t.parentNode,n):t.nodeType===1&&qf(t,n),rl(t)):qf(Tt,n.stateNode));break;case 4:r=Tt,i=jn,Tt=n.stateNode.containerInfo,jn=!0,Fr(t,e,n),Tt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yp(n,e,o),i=i.next}while(i!==r)}Fr(t,e,n);break;case 1:if(!jt&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Fr(t,e,n),jt=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function C0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sb),e.forEach(function(r){var i=mb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,jn=!1;break e;case 3:Tt=a.stateNode.containerInfo,jn=!0;break e;case 4:Tt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(Tt===null)throw Error(K(160));NT(s,o,i),Tt=null,jn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MT(e,t),e=e.sibling}function MT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Gn(t),r&4){try{Ua(3,t,t.return),Ch(3,t)}catch(x){et(t,t.return,x)}try{Ua(5,t,t.return)}catch(x){et(t,t.return,x)}}break;case 1:Nn(e,t),Gn(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(Nn(e,t),Gn(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var i=t.stateNode;try{Za(i,"")}catch(x){et(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iE(i,s),qd(a,o);var c=qd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?uE(i,d):h==="dangerouslySetInnerHTML"?aE(i,d):h==="children"?Za(i,d):km(i,h,d,c)}switch(a){case"input":Fd(i,s);break;case"textarea":sE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?to(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[ll]=s}catch(x){et(t,t.return,x)}}break;case 6:if(Nn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){et(t,t.return,x)}}break;case 3:if(Nn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(e.containerInfo)}catch(x){et(t,t.return,x)}break;case 4:Nn(e,t),Gn(t);break;case 13:Nn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cg=nt())),r&4&&C0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(c=jt)||h,Nn(e,t),jt=c):Nn(e,t),Gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(d=X=h;X!==null;){switch(p=X,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ua(4,p,p.return);break;case 1:Ks(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){et(r,n,x)}}break;case 5:Ks(p,p.return);break;case 22:if(p.memoizedState!==null){R0(d);continue}}y!==null?(y.return=p,X=y):R0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=lE("display",o))}catch(x){et(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){et(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),Gn(t),r&4&&C0(t);break;case 21:break;default:Nn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Za(i,""),r.flags&=-33);var s=A0(t);_p(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A0(t);wp(t,a,o);break;default:throw Error(K(161))}}catch(u){et(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ab(t,e,n){X=t,LT(t)}function LT(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||jt;a=Mu;var c=jt;if(Mu=o,(jt=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?b0(i):u!==null?(u.return=o,X=u):b0(i);for(;s!==null;)X=s,LT(s),s=s.sibling;X=i,Mu=a,jt=c}I0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):I0(t)}}function I0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&rl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}jt||e.flags&512&&vp(e)}catch(p){et(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function R0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function b0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(u){et(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){et(e,i,u)}}var s=e.return;try{vp(e)}catch(u){et(e,s,u)}break;case 5:var o=e.return;try{vp(e)}catch(u){et(e,o,u)}}}catch(u){et(e,e.return,u)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var lb=Math.ceil,zc=Or.ReactCurrentDispatcher,lg=Or.ReactCurrentOwner,Cn=Or.ReactCurrentBatchConfig,Pe=0,wt=null,ut=null,Ct=0,cn=0,Gs=Ci(0),dt=0,pl=null,us=0,Ih=0,ug=0,Ba=null,tn=null,cg=0,Ro=1/0,mr=null,$c=!1,Ep=null,li=null,Lu=!1,ei=null,qc=0,za=0,Tp=null,uc=-1,cc=0;function Yt(){return Pe&6?nt():uc!==-1?uc:uc=nt()}function ui(t){return t.mode&1?Pe&2&&Ct!==0?Ct&-Ct:HR.transition!==null?(cc===0&&(cc=EE()),cc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:IE(t.type)),t):1}function $n(t,e,n,r){if(50<za)throw za=0,Tp=null,Error(K(185));Ml(t,n,r),(!(Pe&2)||t!==wt)&&(t===wt&&(!(Pe&2)&&(Ih|=n),dt===4&&Qr(t,Ct)),on(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ro=nt()+500,Ph&&Ii()))}function on(t,e){var n=t.callbackNode;HI(t,e);var r=Cc(t,t===wt?Ct:0);if(r===0)n!==null&&Fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fv(n),e===1)t.tag===0?qR(k0.bind(null,t)):WE(k0.bind(null,t)),UR(function(){!(Pe&6)&&Ii()}),n=null;else{switch(TE(r)){case 1:n=Mm;break;case 4:n=wE;break;case 16:n=Ac;break;case 536870912:n=_E;break;default:n=Ac}n=HT(n,jT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jT(t,e){if(uc=-1,cc=0,Pe&6)throw Error(K(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=Cc(t,t===wt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hc(t,r);else{e=r;var i=Pe;Pe|=2;var s=UT();(wt!==t||Ct!==e)&&(mr=null,Ro=nt()+500,ts(t,e));do try{hb();break}catch(a){FT(t,a)}while(!0);Gm(),zc.current=s,Pe=i,ut!==null?e=0:(wt=null,Ct=0,e=dt)}if(e!==0){if(e===2&&(i=Gd(t),i!==0&&(r=i,e=Sp(t,i))),e===1)throw n=pl,ts(t,0),Qr(t,r),on(t,nt()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!ub(i)&&(e=Hc(t,r),e===2&&(s=Gd(t),s!==0&&(r=s,e=Sp(t,s))),e===1))throw n=pl,ts(t,0),Qr(t,r),on(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:ji(t,tn,mr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=cg+500-nt(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rp(ji.bind(null,t,tn,mr),e);break}ji(t,tn,mr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lb(r/1960))-r,10<r){t.timeoutHandle=rp(ji.bind(null,t,tn,mr),r);break}ji(t,tn,mr);break;case 5:ji(t,tn,mr);break;default:throw Error(K(329))}}}return on(t,nt()),t.callbackNode===n?jT.bind(null,t):null}function Sp(t,e){var n=Ba;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=Hc(t,e),t!==2&&(e=tn,tn=n,e!==null&&Pp(e)),t}function Pp(t){tn===null?tn=t:tn.push.apply(tn,t)}function ub(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~ug,e&=~Ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function k0(t){if(Pe&6)throw Error(K(327));oo();var e=Cc(t,0);if(!(e&1))return on(t,nt()),null;var n=Hc(t,e);if(t.tag!==0&&n===2){var r=Gd(t);r!==0&&(e=r,n=Sp(t,r))}if(n===1)throw n=pl,ts(t,0),Qr(t,e),on(t,nt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ji(t,tn,mr),on(t,nt()),null}function hg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ro=nt()+500,Ph&&Ii())}}function cs(t){ei!==null&&ei.tag===0&&!(Pe&6)&&oo();var e=Pe;Pe|=1;var n=Cn.transition,r=Oe;try{if(Cn.transition=null,Oe=1,t)return t()}finally{Oe=r,Cn.transition=n,Pe=e,!(Pe&6)&&Ii()}}function fg(){cn=Gs.current,qe(Gs)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FR(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dc();break;case 3:Co(),qe(rn),qe(zt),tg();break;case 5:eg(r);break;case 4:Co();break;case 13:qe(We);break;case 19:qe(We);break;case 10:Ym(r.type._context);break;case 22:case 23:fg()}n=n.return}if(wt=t,ut=t=ci(t.current,null),Ct=cn=e,dt=0,pl=null,ug=Ih=us=0,tn=Ba=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$i=null}return t}function FT(t,e){do{var n=ut;try{if(Gm(),oc.current=Bc,Uc){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uc=!1}if(ls=0,vt=ft=Ge=null,Fa=!1,hl=0,lg.current=null,n===null||n.return===null){dt=1,pl=e,ut=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ct,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=v0(o);if(y!==null){y.flags&=-257,w0(y,o,a,s,e),y.mode&1&&y0(s,c,e),e=y,u=c;var _=e.updateQueue;if(_===null){var x=new Set;x.add(u),e.updateQueue=x}else _.add(u);break e}else{if(!(e&1)){y0(s,c,e),dg();break e}u=Error(K(426))}}else if(He&&a.mode&1){var b=v0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),w0(b,o,a,s,e),Wm(Io(u,a));break e}}s=u=Io(u,a),dt!==4&&(dt=2),Ba===null?Ba=[s]:Ba.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=TT(s,u,e);h0(s,T);break e;case 1:a=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(li===null||!li.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=ST(s,a,e);h0(s,D);break e}}s=s.return}while(s!==null)}zT(n)}catch(M){e=M,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function UT(){var t=zc.current;return zc.current=Bc,t===null?Bc:t}function dg(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(us&268435455)&&!(Ih&268435455)||Qr(wt,Ct)}function Hc(t,e){var n=Pe;Pe|=2;var r=UT();(wt!==t||Ct!==e)&&(mr=null,ts(t,e));do try{cb();break}catch(i){FT(t,i)}while(!0);if(Gm(),Pe=n,zc.current=r,ut!==null)throw Error(K(261));return wt=null,Ct=0,dt}function cb(){for(;ut!==null;)BT(ut)}function hb(){for(;ut!==null&&!MI();)BT(ut)}function BT(t){var e=qT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?zT(t):ut=e,lg.current=null}function zT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ib(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ut=null;return}}else if(n=rb(n,e,cn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);dt===0&&(dt=5)}function ji(t,e,n){var r=Oe,i=Cn.transition;try{Cn.transition=null,Oe=1,fb(t,e,n,r)}finally{Cn.transition=i,Oe=r}return null}function fb(t,e,n,r){do oo();while(ei!==null);if(Pe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QI(t,s),t===wt&&(ut=wt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,HT(Ac,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=Oe;Oe=1;var a=Pe;Pe|=4,lg.current=null,ob(t,n),MT(n,t),DR(tp),Ic=!!ep,tp=ep=null,t.current=n,ab(n),LI(),Pe=a,Oe=o,Cn.transition=s}else t.current=n;if(Lu&&(Lu=!1,ei=t,qc=i),s=t.pendingLanes,s===0&&(li=null),UI(n.stateNode),on(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,t=Ep,Ep=null,t;return qc&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===Tp?za++:(za=0,Tp=t):za=0,Ii(),null}function oo(){if(ei!==null){var t=TE(qc),e=Cn.transition,n=Oe;try{if(Cn.transition=null,Oe=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,qc=0,Pe&6)throw Error(K(331));var i=Pe;for(Pe|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Ua(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var p=h.sibling,y=h.return;if(OT(h),h===c){X=null;break}if(p!==null){p.return=y,X=p;break}X=y}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ua(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}var v=t.current;for(X=v;X!==null;){o=X;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,X=w;else e:for(o=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(M){et(a,a.return,M)}if(a===o){X=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,X=D;break e}X=a.return}}if(Pe=i,Ii(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(wh,t)}catch{}r=!0}return r}finally{Oe=n,Cn.transition=e}}return!1}function D0(t,e,n){e=Io(n,e),e=TT(t,e,1),t=ai(t,e,1),e=Yt(),t!==null&&(Ml(t,1,e),on(t,e))}function et(t,e,n){if(t.tag===3)D0(t,t,n);else for(;e!==null;){if(e.tag===3){D0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=Io(n,t),t=ST(e,t,1),e=ai(e,t,1),t=Yt(),e!==null&&(Ml(e,1,t),on(e,t));break}}e=e.return}}function db(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(Ct&n)===n&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>nt()-cg?ts(t,0):ug|=n),on(t,e)}function $T(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=Yt();t=Cr(t,e),t!==null&&(Ml(t,e,n),on(t,n))}function pb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$T(t,n)}function mb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),$T(t,n)}var qT;qT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,nb(t,e,n);nn=!!(t.flags&131072)}else nn=!1,He&&e.flags&1048576&&KE(e,Nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lc(t,e),t=e.pendingProps;var i=Po(e,zt.current);so(e,n),i=rg(null,e,r,t,i,n);var s=ig();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Oc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jm(e),i.updater=Ah,e.stateNode=i,i._reactInternals=e,cp(e,r,t,n),e=dp(null,e,r,!0,s,n)):(e.tag=0,He&&s&&Hm(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yb(r),t=Mn(r,t),i){case 0:e=fp(null,e,r,t,n);break e;case 1:e=T0(null,e,r,t,n);break e;case 11:e=_0(null,e,r,t,n);break e;case 14:e=E0(null,e,r,Mn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),fp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),T0(t,e,r,i,n);case 3:e:{if(CT(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eT(t,e),jc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error(K(423)),e),e=S0(t,e,r,n,i);break e}else if(r!==i){i=Io(Error(K(424)),e),e=S0(t,e,r,n,i);break e}else for(hn=oi(e.stateNode.containerInfo.firstChild),fn=e,He=!0,Fn=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=Ir(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return tT(e),t===null&&ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,np(r,i)?o=null:s!==null&&np(r,s)&&(e.flags|=32),AT(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&ap(e),null;case 13:return IT(t,e,n);case 4:return Zm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),_0(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Mc,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!rn.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=_r(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),lp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=kn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),E0(t,e,r,i,n);case 15:return PT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),lc(t,e),e.tag=1,sn(r)?(t=!0,Oc(e)):t=!1,so(e,n),ET(e,r,i),cp(e,r,i,n),dp(null,e,r,!0,t,n);case 19:return RT(t,e,n);case 22:return xT(t,e,n)}throw Error(K(156,e.tag))};function HT(t,e){return vE(t,e)}function gb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new gb(t,e,n,r)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yb(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Om)return 11;if(t===Vm)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fs:return ns(n.children,i,s,e);case Dm:o=8,i|=8;break;case Vd:return t=An(12,n,e,i|2),t.elementType=Vd,t.lanes=s,t;case Nd:return t=An(13,n,e,i),t.elementType=Nd,t.lanes=s,t;case Md:return t=An(19,n,e,i),t.elementType=Md,t.lanes=s,t;case tE:return Rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z1:o=10;break e;case eE:o=9;break e;case Om:o=11;break e;case Vm:o=14;break e;case $r:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=An(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=An(22,t,r,e),t.elementType=tE,t.lanes=n,t.stateNode={isHidden:!1},t}function Jf(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Zf(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mg(t,e,n,r,i,s,o,a,u){return t=new vb(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jm(s),t}function wb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QT(t){if(!t)return vi;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(sn(n))return QE(t,n,e)}return e}function WT(t,e,n,r,i,s,o,a,u){return t=mg(n,r,!0,t,i,s,o,a,u),t.context=QT(null),n=t.current,r=Yt(),i=ui(n),s=_r(r,i),s.callback=e??null,ai(n,s,i),t.current.lanes=i,Ml(t,i,r),on(t,r),t}function bh(t,e,n,r){var i=e.current,s=Yt(),o=ui(i);return n=QT(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ai(i,e,o),t!==null&&($n(t,i,o,s),sc(t,i,o)),o}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gg(t,e){O0(t,e),(t=t.alternate)&&O0(t,e)}function _b(){return null}var KT=typeof reportError=="function"?reportError:function(t){console.error(t)};function yg(t){this._internalRoot=t}kh.prototype.render=yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));bh(t,e,null,null)};kh.prototype.unmount=yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){bh(null,t,null,null)}),e[Ar]=null}};function kh(t){this._internalRoot=t}kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=xE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&CE(t)}};function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function Eb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qc(o);s.call(c)}}var o=WT(e,r,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[Ar]=o.current,ol(t.nodeType===8?t.parentNode:t),cs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qc(u);a.call(c)}}var u=mg(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=u,t[Ar]=u.current,ol(t.nodeType===8?t.parentNode:t),cs(function(){bh(e,u,n,r)}),u}function Oh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Qc(o);a.call(u)}}bh(e,o,t,i)}else o=Eb(n,e,t,i,r);return Qc(o)}SE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Aa(e.pendingLanes);n!==0&&(Lm(e,n|1),on(e,nt()),!(Pe&6)&&(Ro=nt()+500,Ii()))}break;case 13:cs(function(){var r=Cr(t,1);if(r!==null){var i=Yt();$n(r,t,1,i)}}),gg(t,1)}};jm=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Yt();$n(e,t,134217728,n)}gg(t,134217728)}};PE=function(t){if(t.tag===13){var e=ui(t),n=Cr(t,e);if(n!==null){var r=Yt();$n(n,t,e,r)}gg(t,e)}};xE=function(){return Oe};AE=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Qd=function(t,e,n){switch(e){case"input":if(Fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sh(r);if(!i)throw Error(K(90));rE(r),Fd(r,i)}}}break;case"textarea":sE(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};fE=hg;dE=cs;var Tb={usingClientEntryPoint:!1,Events:[jl,$s,Sh,cE,hE,hg]},_a={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sb={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gE(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||_b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{wh=ju.inject(Sb),nr=ju}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(e))throw Error(K(200));return wb(t,e,null,n)};gn.createRoot=function(t,e){if(!vg(t))throw Error(K(299));var n=!1,r="",i=KT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mg(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,ol(t.nodeType===8?t.parentNode:t),new yg(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=gE(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return cs(t)};gn.hydrate=function(t,e,n){if(!Dh(e))throw Error(K(200));return Oh(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!vg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WT(e,null,t,1,n??null,i,!1,s,o),t[Ar]=e.current,ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kh(e)};gn.render=function(t,e,n){if(!Dh(e))throw Error(K(200));return Oh(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(K(40));return t._reactRootContainer?(cs(function(){Oh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};gn.unstable_batchedUpdates=hg;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Oh(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function GT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GT)}catch(t){console.error(t)}}GT(),G1.exports=gn;var Pb=G1.exports,N0=Pb;Dd.createRoot=N0.createRoot,Dd.hydrateRoot=N0.hydrateRoot;var Ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bo=typeof window>"u"||"Deno"in globalThis;function Tn(){}function xb(t,e){return typeof t=="function"?t(e):t}function xp(t){return typeof t=="number"&&t>=0&&t!==1/0}function YT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ao(t,e){return typeof t=="function"?t(e):t}function Un(t,e){return typeof t=="function"?t(e):t}function M0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wg(o,e.options))return!1}else if(!gl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function L0(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ml(e.options.mutationKey)!==ml(s))return!1}else if(!gl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wg(t,e){return((e==null?void 0:e.queryKeyHashFn)||ml)(t)}function ml(t){return JSON.stringify(t,(e,n)=>Cp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function gl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gl(t[n],e[n])):!1}function XT(t,e){if(t===e)return t;const n=j0(t)&&j0(e);if(n||Cp(t)&&Cp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=XT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function Ap(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function j0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cp(t){if(!F0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ab(t){return new Promise(e=>{setTimeout(e,t)})}function Ip(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XT(t,e):e}function Cb(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Ib(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var JT=Symbol();function ZT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ki,Wr,uo,R1,Rb=(R1=class extends Ul{constructor(){super();ue(this,Ki);ue(this,Wr);ue(this,uo);Z(this,uo,e=>{if(!bo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Wr)||this.setEventListener(V(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Wr))==null||e.call(this),Z(this,Wr,void 0))}setEventListener(e){var n;Z(this,uo,e),(n=V(this,Wr))==null||n.call(this),Z(this,Wr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Ki)!==e&&(Z(this,Ki,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Ki)=="boolean"?V(this,Ki):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ki=new WeakMap,Wr=new WeakMap,uo=new WeakMap,R1),_g=new Rb,co,Kr,ho,b1,bb=(b1=class extends Ul{constructor(){super();ue(this,co,!0);ue(this,Kr);ue(this,ho);Z(this,ho,e=>{if(!bo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,Kr)||this.setEventListener(V(this,ho))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Kr))==null||e.call(this),Z(this,Kr,void 0))}setEventListener(e){var n;Z(this,ho,e),(n=V(this,Kr))==null||n.call(this),Z(this,Kr,e(this.setOnline.bind(this)))}setOnline(e){V(this,co)!==e&&(Z(this,co,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,co)}},co=new WeakMap,Kr=new WeakMap,ho=new WeakMap,b1),Wc=new bb;function kb(t){return Math.min(1e3*2**t,3e4)}function eS(t){return(t??"online")==="online"?Wc.isOnline():!0}var tS=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ed(t){return t instanceof tS}function nS(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((T,v)=>{s=T,o=v}),u=T=>{var v;r||(_(new tS(T)),(v=t.abort)==null||v.call(t))},c=()=>{e=!0},h=()=>{e=!1},d=()=>_g.isFocused()&&(t.networkMode==="always"||Wc.isOnline())&&t.canRun(),p=()=>eS(t.networkMode)&&t.canRun(),y=T=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,T),i==null||i(),s(T))},_=T=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,T),i==null||i(),o(T))},x=()=>new Promise(T=>{var v;i=w=>{(r||d())&&T(w)},(v=t.onPause)==null||v.call(t)}).then(()=>{var T;i=void 0,r||(T=t.onContinue)==null||T.call(t)}),b=()=>{if(r)return;let T;const v=n===0?t.initialPromise:void 0;try{T=v??t.fn()}catch(w){T=Promise.reject(w)}Promise.resolve(T).then(y).catch(w=>{var g;if(r)return;const D=t.retry??(bo?0:3),M=t.retryDelay??kb,U=typeof M=="function"?M(n,w):M,P=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,w);if(e||!P){_(w);return}n++,(g=t.onFail)==null||g.call(t,n,w),Ab(U).then(()=>d()?void 0:x()).then(()=>{e?_(w):b()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:h,canStart:p,start:()=>(p()?b():x().then(b),a)}}function Db(){let t=[],e=0,n=p=>{p()},r=p=>{p()},i=p=>setTimeout(p,0);const s=p=>{i=p},o=p=>{let y;e++;try{y=p()}finally{e--,e||c()}return y},a=p=>{e?t.push(p):i(()=>{n(p)})},u=p=>(...y)=>{a(()=>{p(...y)})},c=()=>{const p=t;t=[],p.length&&i(()=>{r(()=>{p.forEach(y=>{n(y)})})})};return{batch:o,batchCalls:u,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:s}}var xt=Db(),Gi,k1,rS=(k1=class{constructor(){ue(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xp(this.gcTime)&&Z(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bo?1/0:5*60*1e3))}clearGcTimeout(){V(this,Gi)&&(clearTimeout(V(this,Gi)),Z(this,Gi,void 0))}},Gi=new WeakMap,k1),fo,po,En,Nt,kl,Yi,Ln,pr,D1,Ob=(D1=class extends rS{constructor(n){super();ue(this,Ln);ue(this,fo);ue(this,po);ue(this,En);ue(this,Nt);ue(this,kl);ue(this,Yi);Z(this,Yi,!1),Z(this,kl,n.defaultOptions),this.setOptions(n.options),this.observers=[],Z(this,En,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Z(this,fo,n.state||Vb(this.options)),this.state=V(this,fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,Nt))==null?void 0:n.promise}setOptions(n){this.options={...V(this,kl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,En).remove(this)}setData(n,r){const i=Ip(this.state.data,n,this.options);return we(this,Ln,pr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){we(this,Ln,pr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=V(this,Nt))==null?void 0:i.promise;return(s=V(this,Nt))==null||s.cancel(n),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,fo))}isActive(){return this.observers.some(n=>Un(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!YT(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,Nt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,Nt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,En).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,Nt)&&(V(this,Yi)?V(this,Nt).cancel({revert:!0}):V(this,Nt).cancelRetry()),this.scheduleGc()),V(this,En).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,Ln,pr).call(this,{type:"invalidate"})}fetch(n,r){var c,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,Nt))return V(this,Nt).continueRetry(),V(this,Nt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Z(this,Yi,!0),i.signal)})},o=()=>{const p=ZT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return s(y),Z(this,Yi,!1),this.options.persister?this.options.persister(p,y,this):p(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Z(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&we(this,Ln,pr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const u=p=>{var y,_,x,b;ed(p)&&p.silent||we(this,Ln,pr).call(this,{type:"error",error:p}),ed(p)||((_=(y=V(this,En).config).onError)==null||_.call(y,p,this),(b=(x=V(this,En).config).onSettled)==null||b.call(x,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Z(this,Nt,nS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var y,_,x,b;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(_=(y=V(this,En).config).onSuccess)==null||_.call(y,p,this),(b=(x=V(this,En).config).onSettled)==null||b.call(x,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(p,y)=>{we(this,Ln,pr).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{we(this,Ln,pr).call(this,{type:"pause"})},onContinue:()=>{we(this,Ln,pr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),V(this,Nt).start()}},fo=new WeakMap,po=new WeakMap,En=new WeakMap,Nt=new WeakMap,kl=new WeakMap,Yi=new WeakMap,Ln=new WeakSet,pr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...iS(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return ed(s)&&s.revert&&V(this,po)?{...V(this,po),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),xt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),V(this,En).notify({query:this,type:"updated",action:n})})},D1);function iS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xn,O1,Nb=(O1=class extends Ul{constructor(e={}){super();ue(this,Xn);this.config=e,Z(this,Xn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??wg(i,n);let o=this.get(s);return o||(o=new Ob({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){V(this,Xn).has(e.queryHash)||(V(this,Xn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Xn).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Xn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Xn).get(e)}getAll(){return[...V(this,Xn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>M0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>M0(e,r)):n}notify(e){xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xn=new WeakMap,O1),Jn,Wt,Xi,Zn,Br,V1,Mb=(V1=class extends rS{constructor(n){super();ue(this,Zn);ue(this,Jn);ue(this,Wt);ue(this,Xi);this.mutationId=n.mutationId,Z(this,Wt,n.mutationCache),Z(this,Jn,[]),this.state=n.state||Lb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){V(this,Jn).includes(n)||(V(this,Jn).push(n),this.clearGcTimeout(),V(this,Wt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Z(this,Jn,V(this,Jn).filter(r=>r!==n)),this.scheduleGc(),V(this,Wt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){V(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():V(this,Wt).remove(this))}continue(){var n;return((n=V(this,Xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,h,d,p,y,_,x,b,T,v,w,D,M,U,P,g;Z(this,Xi,nS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{we(this,Zn,Br).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{we(this,Zn,Br).call(this,{type:"pause"})},onContinue:()=>{we(this,Zn,Br).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Wt).canRun(this)}));const r=this.state.status==="pending",i=!V(this,Xi).canStart();try{if(!r){we(this,Zn,Br).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=V(this,Wt).config).onMutate)==null?void 0:o.call(s,n,this));const A=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));A!==this.state.context&&we(this,Zn,Br).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const S=await V(this,Xi).start();return await((h=(c=V(this,Wt).config).onSuccess)==null?void 0:h.call(c,S,n,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,S,n,this.state.context)),await((_=(y=V(this,Wt).config).onSettled)==null?void 0:_.call(y,S,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,S,null,n,this.state.context)),we(this,Zn,Br).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(T=V(this,Wt).config).onError)==null?void 0:v.call(T,S,n,this.state.context,this)),await((D=(w=this.options).onError)==null?void 0:D.call(w,S,n,this.state.context)),await((U=(M=V(this,Wt).config).onSettled)==null?void 0:U.call(M,void 0,S,this.state.variables,this.state.context,this)),await((g=(P=this.options).onSettled)==null?void 0:g.call(P,void 0,S,n,this.state.context)),S}finally{we(this,Zn,Br).call(this,{type:"error",error:S})}}finally{V(this,Wt).runNext(this)}}},Jn=new WeakMap,Wt=new WeakMap,Xi=new WeakMap,Zn=new WeakSet,Br=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xt.batch(()=>{V(this,Jn).forEach(i=>{i.onMutationUpdate(n)}),V(this,Wt).notify({mutation:this,type:"updated",action:n})})},V1);function Lb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,Dl,N1,jb=(N1=class extends Ul{constructor(e={}){super();ue(this,un);ue(this,Dl);this.config=e,Z(this,un,new Map),Z(this,Dl,Date.now())}build(e,n,r){const i=new Mb({mutationCache:this,mutationId:++Eu(this,Dl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Fu(e),r=V(this,un).get(n)??[];r.push(e),V(this,un).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fu(e);if(V(this,un).has(n)){const i=(r=V(this,un).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?V(this,un).delete(n):V(this,un).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,un).get(Fu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,un).get(Fu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,un).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L0(n,r))}findAll(e={}){return this.getAll().filter(n=>L0(e,n))}notify(e){xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return xt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Tn))))}},un=new WeakMap,Dl=new WeakMap,N1);function Fu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Fb(t){return{onFetch:(e,n)=>{const r=async()=>{var _,x,b,T,v;const i=e.options,s=(b=(x=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:x.fetchMore)==null?void 0:b.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const h=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=ZT(e.options,e.fetchOptions),p=async(w,D,M)=>{if(c)return Promise.reject();if(D==null&&w.pages.length)return Promise.resolve(w);const U={queryKey:e.queryKey,pageParam:D,direction:M?"backward":"forward",meta:e.options.meta};h(U);const P=await d(U),{maxPages:g}=e.options,S=M?Ib:Cb;return{pages:S(w.pages,P,g),pageParams:S(w.pageParams,D,g)}};let y;if(s&&o.length){const w=s==="backward",D=w?Ub:U0,M={pages:o,pageParams:a},U=D(i,M);y=await p(M,U,w)}else{y=await p(u,a[0]??i.initialPageParam);const w=t??o.length;for(let D=1;D<w;D++){const M=U0(i,y);if(M==null)break;y=await p(y,M)}}return y};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function U0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ub(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,Gr,Yr,mo,go,Xr,yo,vo,M1,Bb=(M1=class{constructor(t={}){ue(this,Ze);ue(this,Gr);ue(this,Yr);ue(this,mo);ue(this,go);ue(this,Xr);ue(this,yo);ue(this,vo);Z(this,Ze,t.queryCache||new Nb),Z(this,Gr,t.mutationCache||new jb),Z(this,Yr,t.defaultOptions||{}),Z(this,mo,new Map),Z(this,go,new Map),Z(this,Xr,0)}mount(){Eu(this,Xr)._++,V(this,Xr)===1&&(Z(this,yo,_g.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Ze).onFocus())})),Z(this,vo,Wc.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Ze).onOnline())})))}unmount(){var t,e;Eu(this,Xr)._--,V(this,Xr)===0&&((t=V(this,yo))==null||t.call(this),Z(this,yo,void 0),(e=V(this,vo))==null||e.call(this),Z(this,vo,void 0))}isFetching(t){return V(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Gr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ao(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=V(this,Ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=xb(e,s);if(o!==void 0)return V(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return xt.batch(()=>V(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Ze);xt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Ze),r={type:"active",...t};return xt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=xt.batch(()=>V(this,Ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t={},e={}){return xt.batch(()=>{if(V(this,Ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=xt.batch(()=>V(this,Ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Tn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Ze).build(this,e);return n.isStaleByTime(ao(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=Fb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}resumePausedMutations(){return Wc.isOnline()?V(this,Gr).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Ze)}getMutationCache(){return V(this,Gr)}getDefaultOptions(){return V(this,Yr)}setDefaultOptions(t){Z(this,Yr,t)}setQueryDefaults(t,e){V(this,mo).set(ml(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,mo).values()];let n={};return e.forEach(r=>{gl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,go).set(ml(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,go).values()];let n={};return e.forEach(r=>{gl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Yr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===JT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Yr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Ze).clear(),V(this,Gr).clear()}},Ze=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,mo=new WeakMap,go=new WeakMap,Xr=new WeakMap,yo=new WeakMap,vo=new WeakMap,M1),en,_e,Ol,Kt,Ji,wo,er,Vl,_o,Eo,Zi,es,Jr,To,ke,Ia,Rp,bp,kp,Dp,Op,Vp,Np,sS,L1,zb=(L1=class extends Ul{constructor(e,n){super();ue(this,ke);ue(this,en);ue(this,_e);ue(this,Ol);ue(this,Kt);ue(this,Ji);ue(this,wo);ue(this,er);ue(this,Vl);ue(this,_o);ue(this,Eo);ue(this,Zi);ue(this,es);ue(this,Jr);ue(this,To,new Set);this.options=n,Z(this,en,e),Z(this,er,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,_e).addObserver(this),B0(V(this,_e),this.options)?we(this,ke,Ia).call(this):this.updateResult(),we(this,ke,Dp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mp(V(this,_e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mp(V(this,_e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,ke,Op).call(this),we(this,ke,Vp).call(this),V(this,_e).removeObserver(this)}setOptions(e,n){const r=this.options,i=V(this,_e);if(this.options=V(this,en).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Un(this.options.enabled,V(this,_e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,ke,Np).call(this),V(this,_e).setOptions(this.options),r._defaulted&&!Ap(this.options,r)&&V(this,en).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,_e),observer:this});const s=this.hasListeners();s&&z0(V(this,_e),i,this.options,r)&&we(this,ke,Ia).call(this),this.updateResult(n),s&&(V(this,_e)!==i||Un(this.options.enabled,V(this,_e))!==Un(r.enabled,V(this,_e))||ao(this.options.staleTime,V(this,_e))!==ao(r.staleTime,V(this,_e)))&&we(this,ke,Rp).call(this);const o=we(this,ke,bp).call(this);s&&(V(this,_e)!==i||Un(this.options.enabled,V(this,_e))!==Un(r.enabled,V(this,_e))||o!==V(this,Jr))&&we(this,ke,kp).call(this,o)}getOptimisticResult(e){const n=V(this,en).getQueryCache().build(V(this,en),e),r=this.createResult(n,e);return qb(this,r)&&(Z(this,Kt,r),Z(this,wo,this.options),Z(this,Ji,V(this,_e).state)),r}getCurrentResult(){return V(this,Kt)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){V(this,To).add(e)}getCurrentQuery(){return V(this,_e)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,en).defaultQueryOptions(e),r=V(this,en).getQueryCache().build(V(this,en),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return we(this,ke,Ia).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Kt)))}createResult(e,n){var P;const r=V(this,_e),i=this.options,s=V(this,Kt),o=V(this,Ji),a=V(this,wo),c=e!==r?e.state:V(this,Ol),{state:h}=e;let d={...h},p=!1,y;if(n._optimisticResults){const g=this.hasListeners(),S=!g&&B0(e,n),A=g&&z0(e,r,n,i);(S||A)&&(d={...d,...iS(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:_,errorUpdatedAt:x,status:b}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===V(this,Vl))y=V(this,_o);else try{Z(this,Vl,n.select),y=n.select(d.data),y=Ip(s==null?void 0:s.data,y,n),Z(this,_o,y),Z(this,er,null)}catch(g){Z(this,er,g)}else y=d.data;if(n.placeholderData!==void 0&&y===void 0&&b==="pending"){let g;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))g=s.data;else if(g=typeof n.placeholderData=="function"?n.placeholderData((P=V(this,Eo))==null?void 0:P.state.data,V(this,Eo)):n.placeholderData,n.select&&g!==void 0)try{g=n.select(g),Z(this,er,null)}catch(S){Z(this,er,S)}g!==void 0&&(b="success",y=Ip(s==null?void 0:s.data,g,n),p=!0)}V(this,er)&&(_=V(this,er),y=V(this,_o),x=Date.now(),b="error");const T=d.fetchStatus==="fetching",v=b==="pending",w=b==="error",D=v&&T,M=y!==void 0;return{status:b,fetchStatus:d.fetchStatus,isPending:v,isSuccess:b==="success",isError:w,isInitialLoading:D,isLoading:D,data:y,dataUpdatedAt:d.dataUpdatedAt,error:_,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:T,isRefetching:T&&!v,isLoadingError:w&&!M,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&M,isStale:Eg(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Kt),r=this.createResult(V(this,_e),this.options);if(Z(this,Ji,V(this,_e).state),Z(this,wo,this.options),V(this,Ji).data!==void 0&&Z(this,Eo,V(this,_e)),Ap(r,n))return;Z(this,Kt,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,To).size)return!0;const u=new Set(a??V(this,To));return this.options.throwOnError&&u.add("error"),Object.keys(V(this,Kt)).some(c=>{const h=c;return V(this,Kt)[h]!==n[h]&&u.has(h)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),we(this,ke,sS).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,ke,Dp).call(this)}},en=new WeakMap,_e=new WeakMap,Ol=new WeakMap,Kt=new WeakMap,Ji=new WeakMap,wo=new WeakMap,er=new WeakMap,Vl=new WeakMap,_o=new WeakMap,Eo=new WeakMap,Zi=new WeakMap,es=new WeakMap,Jr=new WeakMap,To=new WeakMap,ke=new WeakSet,Ia=function(e){we(this,ke,Np).call(this);let n=V(this,_e).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Tn)),n},Rp=function(){we(this,ke,Op).call(this);const e=ao(this.options.staleTime,V(this,_e));if(bo||V(this,Kt).isStale||!xp(e))return;const r=YT(V(this,Kt).dataUpdatedAt,e)+1;Z(this,Zi,setTimeout(()=>{V(this,Kt).isStale||this.updateResult()},r))},bp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,_e)):this.options.refetchInterval)??!1},kp=function(e){we(this,ke,Vp).call(this),Z(this,Jr,e),!(bo||Un(this.options.enabled,V(this,_e))===!1||!xp(V(this,Jr))||V(this,Jr)===0)&&Z(this,es,setInterval(()=>{(this.options.refetchIntervalInBackground||_g.isFocused())&&we(this,ke,Ia).call(this)},V(this,Jr)))},Dp=function(){we(this,ke,Rp).call(this),we(this,ke,kp).call(this,we(this,ke,bp).call(this))},Op=function(){V(this,Zi)&&(clearTimeout(V(this,Zi)),Z(this,Zi,void 0))},Vp=function(){V(this,es)&&(clearInterval(V(this,es)),Z(this,es,void 0))},Np=function(){const e=V(this,en).getQueryCache().build(V(this,en),this.options);if(e===V(this,_e))return;const n=V(this,_e);Z(this,_e,e),Z(this,Ol,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},sS=function(e){xt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Kt))}),V(this,en).getQueryCache().notify({query:V(this,_e),type:"observerResultsUpdated"})})},L1);function $b(t,e){return Un(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function B0(t,e){return $b(t,e)||t.state.data!==void 0&&Mp(t,e,e.refetchOnMount)}function Mp(t,e,n){if(Un(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Eg(t,e)}return!1}function z0(t,e,n,r){return(t!==e||Un(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Eg(t,n)}function Eg(t,e){return Un(e.enabled,t)!==!1&&t.isStaleByTime(ao(e.staleTime,t))}function qb(t,e){return!Ap(t.getCurrentResult(),e)}var oS=N.createContext(void 0),aS=t=>{const e=N.useContext(oS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Hb=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(oS.Provider,{value:t,children:e})),lS=N.createContext(!1),Qb=()=>N.useContext(lS);lS.Provider;function Wb(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Kb=N.createContext(Wb()),Gb=()=>N.useContext(Kb);function Yb(t,e){return typeof t=="function"?t(...e):!!t}var Xb=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Jb=t=>{N.useEffect(()=>{t.clearReset()},[t])},Zb=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Yb(n,[t.error,r]),e2=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},t2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,n2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function r2(t,e,n){var c,h,d,p;const r=aS(),i=Qb(),s=Gb(),o=r.defaultQueryOptions(t);(h=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||h.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",e2(o),Xb(o,s),Jb(s);const[a]=N.useState(()=>new e(r,o)),u=a.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(y=>{const _=i?()=>{}:a.subscribe(xt.batchCalls(y));return a.updateResult(),_},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),N.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),t2(o,u))throw n2(o,a,s);if(Zb({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,u),o.notifyOnChangeProps?u:a.trackResult(u)}function i2(t,e){return r2(t,zb)}const uS=N.createContext(void 0);function cS({header:t,children:e,footer:n,hasExtraGap:r}){const[i,s]=N.useState(0);r==null&&(r=!0);const o=N.useCallback(a=>{a>=-1&&a<e.length&&s(a)},[e]);return C.jsxs(uS.Provider,{value:{screen:i,setScreen:o},children:[t,C.jsx("div",{className:"flex flex-col flex-grow",children:e[i]}),r&&C.jsx("div",{className:"h-20 w-1 flex-shrink-0"}),n]})}const yl=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Vh=N.createContext({}),Nh=N.createContext(null),Tg=typeof window<"u",hS=Tg?N.useLayoutEffect:N.useEffect,fS=N.createContext({strict:!1}),Mh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),s2="framerAppearId",dS="data-"+Mh(s2),o2={skipAnimations:!1,useManualTiming:!1};function a2(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,d=!1)=>{const y=d&&r?e:n;return h&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,u.process(c))}};return u}const Uu=["read","resolveKeyframes","update","preRender","render","postRender"],l2=40;function pS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Uu.reduce((T,v)=>(T[v]=a2(s),T),{}),{read:a,resolveKeyframes:u,update:c,preRender:h,render:d,postRender:p}=o,y=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,l2),1),i.timestamp=T,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},_=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Uu.reduce((T,v)=>{const w=o[v];return T[v]=(D,M=!1,U=!1)=>(n||_(),w.schedule(D,M,U)),T},{}),cancel:T=>{for(let v=0;v<Uu.length;v++)o[Uu[v]].cancel(T)},state:i,steps:o}}const{schedule:Sg,cancel:L5}=pS(queueMicrotask,!1);function Ys(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const mS=N.createContext({});let $0=!1;function u2(t,e,n,r,i){const{visualElement:s}=N.useContext(Vh),o=N.useContext(fS),a=N.useContext(Nh),u=N.useContext(yl).reducedMotion,c=N.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,d=N.useContext(mS);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&h2(c.current,n,i,d),N.useInsertionEffect(()=>{h&&h.update(n,a)});const p=N.useRef(!!(n[dS]&&!window.HandoffComplete));return hS(()=>{h&&(h.updateFeatures(),Sg.render(h.render),p.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(p.current=!1,$0||($0=!0,queueMicrotask(c2))))}),h}function c2(){window.HandoffComplete=!0}function h2(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gS(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ys(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function gS(t){if(t)return t.options.allowProjection!==!1?t.projection:gS(t.parent)}function f2(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ys(n)&&(n.current=r))},[e])}function vl(t){return typeof t=="string"||Array.isArray(t)}function wl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xg=["initial",...Pg];function Lh(t){return wl(t.animate)||xg.some(e=>vl(t[e]))}function yS(t){return!!(Lh(t)||t.variants)}function d2(t,e){if(Lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vl(n)?n:void 0,animate:vl(r)?r:void 0}}return t.inherit!==!1?e:{}}function p2(t){const{initial:e,animate:n}=d2(t,N.useContext(Vh));return N.useMemo(()=>({initial:e,animate:n}),[q0(e),q0(n)])}function q0(t){return Array.isArray(t)?t.join(" "):t}const H0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ko={};for(const t in H0)ko[t]={isEnabled:e=>H0[t].some(n=>!!e[n])};function m2(t){for(const e in t)ko[e]={...ko[e],...t[e]}}const Ag=N.createContext({}),g2=Symbol.for("motionComponentSymbol"),Bt=t=>t;let Lp=Bt;function y2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&m2(t);function s(a,u){let c;const h={...N.useContext(yl),...a,layoutId:v2(a)},{isStatic:d}=h,p=p2(a),y=r(a,d);if(!d&&Tg){w2();const _=_2(h);c=_.MeasureLayout,p.visualElement=u2(i,y,h,e,_.ProjectionNode)}return C.jsxs(Vh.Provider,{value:p,children:[c&&p.visualElement?C.jsx(c,{visualElement:p.visualElement,...h}):null,n(i,a,f2(y,p.visualElement,u),y,d,p.visualElement)]})}const o=N.forwardRef(s);return o[g2]=i,o}function v2({layoutId:t}){const e=N.useContext(Ag).id;return e&&t!==void 0?e+"-"+t:t}function w2(t,e){N.useContext(fS).strict}function _2(t){const{drag:e,layout:n}=ko;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function E2(t){function e(r,i={}){return y2(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const T2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cg(t){return typeof t!="string"||t.includes("-")?!1:!!(T2.indexOf(t)>-1||/[A-Z]/u.test(t))}const Kc={};function S2(t){Object.assign(Kc,t)}const Bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ri=new Set(Bl);function vS(t,{layout:e,layoutId:n}){return Ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kc[t]||t==="opacity")}const Ut=t=>!!(t&&t.getVelocity),P2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x2=Bl.length;function A2(t,e,n){let r="";for(let i=0;i<x2;i++){const s=Bl[i];if(t[s]!==void 0){const o=P2[s]||s;r+=`${o}(${t[s]}) `}}return r=r.trim(),n?r=n(t,e?"":r):e&&(r="none"),r}const wS=t=>e=>typeof e=="string"&&e.startsWith(t),_S=wS("--"),C2=wS("var(--"),Ig=t=>C2(t)?I2.test(t.split("/*")[0].trim()):!1,I2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,R2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wi=(t,e,n)=>n>e?e:n<t?t:n,$o={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$a={...$o,transform:t=>wi(0,1,t)},Bu={...$o,default:1},qa=t=>Math.round(t*1e5)/1e5,Rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,b2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,k2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function zl(t){return typeof t=="string"}function D2(t){return t==null}const $l=t=>({test:e=>zl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=$l("deg"),ir=$l("%"),oe=$l("px"),O2=$l("vh"),V2=$l("vw"),Q0={...ir,parse:t=>ir.parse(t)/100,transform:t=>ir.transform(t*100)},W0={...$o,transform:Math.round},ES={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:zr,skewX:zr,skewY:zr,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:$a,originX:Q0,originY:Q0,originZ:oe,zIndex:W0,backgroundPositionX:oe,backgroundPositionY:oe,fillOpacity:$a,strokeOpacity:$a,numOctaves:W0};function bg(t,e,n){const{style:r,vars:i,transform:s,transformOrigin:o}=t;let a=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(_S(h)){i[h]=d;continue}const p=ES[h],y=R2(d,p);if(Ri.has(h)){if(a=!0,s[h]=y,!c)continue;d!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,o[h]=y):r[h]=y}if(e.transform||(a||n?r.transform=A2(t.transform,c,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:p=0}=o;r.transformOrigin=`${h} ${d} ${p}`}}const kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TS(t,e,n){for(const r in e)!Ut(e[r])&&!vS(r,n)&&(t[r]=e[r])}function N2({transformTemplate:t},e){return N.useMemo(()=>{const n=kg();return bg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function M2(t,e){const n=t.style||{},r={};return TS(r,n,t),Object.assign(r,N2(t,e)),r}function L2(t,e){const n={},r=M2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const j2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j2.has(t)}let SS=t=>!Gc(t);function PS(t){t&&(SS=e=>e.startsWith("on")?!Gc(e):t(e))}try{PS(require("@emotion/is-prop-valid").default)}catch{}function F2(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SS(i)||n===!0&&Gc(i)||!e&&!Gc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function K0(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function U2(t,e,n){const r=K0(e,t.x,t.width),i=K0(n,t.y,t.height);return`${r} ${i}`}const B2={offset:"stroke-dashoffset",array:"stroke-dasharray"},z2={offset:"strokeDashoffset",array:"strokeDasharray"};function $2(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?B2:z2;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function Dg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,d){if(bg(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:_}=t;p.transform&&(_&&(y.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=U2(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&$2(p,o,a,u,!1)}const xS=()=>({...kg(),attrs:{}}),Og=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q2(t,e,n,r){const i=N.useMemo(()=>{const s=xS();return Dg(s,e,Og(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};TS(s,t.style,t),i.style={...s,...i.style}}return i}function H2(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(Cg(n)?q2:L2)(r,s,o,n),c=F2(r,typeof n=="string",t),h=n!==N.Fragment?{...c,...u,ref:i}:{},{children:d}=r,p=N.useMemo(()=>Ut(d)?d.get():d,[d]);return N.createElement(n,{...h,children:p})}}function AS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const CS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IS(t,e,n,r){AS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CS.has(i)?i:Mh(i),e.attrs[i])}function Vg(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ut(i[o])||e.style&&Ut(e.style[o])||vS(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function RS(t,e,n){const r=Vg(t,e,n);for(const i in t)if(Ut(t[i])||Ut(e[i])){const s=Bl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function G0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ng(t,e,n,r){if(typeof e=="function"){const[i,s]=G0(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=G0(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function jh(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const jp=t=>Array.isArray(t),Q2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),W2=t=>jp(t)?t[t.length-1]||0:t;function fc(t){const e=Ut(t)?t.get():t;return Q2(e)?e.toValue():e}const bS=new Set(["opacity","clipPath","filter","transform"]);function kS(t){if(Ri.has(t))return"transform";if(bS.has(t))return Mh(t)}function Fh(t,e){t.indexOf(e)===-1&&t.push(e)}function Uh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function K2({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const u={latestValues:Y2(i,s,o,a?!1:t,e),renderState:n()};return r&&(u.mount=c=>r(i,c,u)),u}const DS=t=>(e,n)=>{const r=N.useContext(Vh),i=N.useContext(Nh),s=()=>K2(t,e,r,i,n);return n?s():jh(s)};function G2(t,e){const n=kS(e);n&&Fh(t,n)}function Y0(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=Ng(t,r[i]);if(s){const{transitionEnd:o,transition:a,...u}=s;n(u,o)}}}function Y2(t,e,n,r,i){var s;const o={},a=[],u=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const b in c)o[b]=fc(c[b]);let{initial:h,animate:d}=t;const p=Lh(t),y=yS(t);e&&y&&!p&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let _=n?n.initial===!1:!1;_=_||h===!1;const x=_?d:h;return x&&typeof x!="boolean"&&!wl(x)&&Y0(t,x,(b,T)=>{for(const v in b){let w=b[v];if(Array.isArray(w)){const D=_?w.length-1:0;w=w[D]}w!==null&&(o[v]=w)}for(const v in T)o[v]=T[v]}),u&&(d&&h!==!1&&!wl(d)&&Y0(t,d,b=>{for(const T in b)G2(a,T)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:Ne,cancel:Rr,state:St,steps:td}=pS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0),X2={useVisualState:DS({scrapeMotionValuesFromProps:RS,createRenderState:xS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{Dg(n,r,Og(e.tagName),t.transformTemplate),IS(e,n)})}})},J2={useVisualState:DS({applyWillChange:!0,scrapeMotionValuesFromProps:Vg,createRenderState:kg})};function Z2(t,{forwardMotionProps:e=!1},n,r){return{...Cg(t)?X2:J2,preloadedFeatures:n,useRender:H2(e),createVisualElement:r,Component:t}}function wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const OS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const ek=t=>e=>OS(e)&&t(e,Bh(e));function Er(t,e,n,r){return wr(t,e,ek(n),r)}const tk=(t,e)=>n=>e(t(n)),Tr=(...t)=>t.reduce(tk);function VS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const X0=VS("dragHorizontal"),J0=VS("dragVertical");function NS(t){let e=!1;if(t==="y")e=J0();else if(t==="x")e=X0();else{const n=X0(),r=J0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function MS(){const t=NS(!0);return t?(t(),!1):!0}class bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Z0(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||MS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const u=a[r];u&&Ne.postRender(()=>u(s,o))};return Er(t.current,n,i,{passive:!t.getProps()[r]})}class nk extends bi{mount(){this.unmount=Tr(Z0(this.node,!0),Z0(this.node,!1))}unmount(){}}class rk extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tr(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LS=(t,e)=>e?t===e?!0:LS(t,e.parentElement):!1;function nd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Bh(n))}class ik extends bi{constructor(){super(...arguments),this.removeStartListeners=Bt,this.removeEndListeners=Bt,this.removeAccessibleListeners=Bt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Er(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),p=!d&&!LS(this.node.current,a.target)?h:c;p&&Ne.update(()=>p(a,u))},{passive:!(r.onTap||r.onPointerUp)}),o=Er(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Tr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||nd("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&Ne.postRender(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",o),nd("down",(a,u)=>{this.startPress(a,u)})},n=wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&nd("cancel",(s,o)=>this.cancelPress(s,o))},i=wr(this.node.current,"blur",r);this.removeAccessibleListeners=Tr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!MS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Er(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fp=new WeakMap,rd=new WeakMap,sk=t=>{const e=Fp.get(t.target);e&&e(t)},ok=t=>{t.forEach(sk)};function ak({root:t,...e}){const n=t||document;rd.has(n)||rd.set(n,{});const r=rd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ok,{root:t,...e})),r[i]}function lk(t,e,n){const r=ak(e);return Fp.set(t,n),r.observe(t),()=>{Fp.delete(t),r.unobserve(t)}}const uk={some:0,all:1};class ck extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uk[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(u)};return lk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hk(e,n))&&this.startObserver()}unmount(){}}function hk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fk={inView:{Feature:ck},tap:{Feature:ik},focus:{Feature:rk},hover:{Feature:nk}};function jS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zh(t,e,n){const r=t.getProps();return Ng(r,e,n!==void 0?n:r.custom,t)}const hi=t=>t*1e3,Sr=t=>t/1e3,dk={type:"spring",stiffness:500,damping:25,restSpeed:10},pk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mk={type:"keyframes",duration:.8},gk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yk=(t,{keyframes:e})=>e.length>2?mk:Ri.has(t)?t.startsWith("scale")?pk(e[1]):dk:gk;function vk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function Mg(t,e){return t[e]||t.default||t}const wk=t=>t!==null;function $h(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(wk),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let dc;function _k(){dc=void 0}const fi={now:()=>(dc===void 0&&fi.set(St.isProcessing||o2.useManualTiming?St.timestamp:performance.now()),dc),set:t=>{dc=t,queueMicrotask(_k)}},FS=t=>/^0[^.\s]+$/u.test(t);function Ek(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FS(t):!0}const US=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Tk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sk(t){const e=Tk.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BS(t,e,n=1){const[r,i]=Sk(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return US(o)?parseFloat(o):o}return Ig(i)?BS(i,e,n+1):i}const Pk=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ew=t=>t===$o||t===oe,tw=(t,e)=>parseFloat(t.split(", ")[e]),nw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return tw(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?tw(s[1],t):0}},xk=new Set(["x","y","z"]),Ak=Bl.filter(t=>!xk.has(t));function Ck(t){const e=[];return Ak.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Do={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nw(4,13),y:nw(5,14)};Do.translateX=Do.x;Do.translateY=Do.y;const zS=t=>e=>e.test(t),Ik={test:t=>t==="auto",parse:t=>t},$S=[$o,oe,ir,zr,V2,O2,Ik],rw=t=>$S.find(zS(t)),rs=new Set;let Up=!1,Bp=!1;function qS(){if(Bp){const t=Array.from(rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Ck(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bp=!1,Up=!1,rs.forEach(t=>t.complete()),rs.clear()}function HS(){rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bp=!0)})}function Rk(){HS(),qS()}class Lg{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),Up||(Up=!0,Ne.read(HS),Ne.resolveKeyframes(qS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jg=(t,e)=>n=>!!(zl(n)&&k2.test(n)&&n.startsWith(t)||e&&!D2(n)&&Object.prototype.hasOwnProperty.call(n,e)),QS=(t,e,n)=>r=>{if(!zl(r))return r;const[i,s,o,a]=r.match(Rg);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bk=t=>wi(0,255,t),id={...$o,transform:t=>Math.round(bk(t))},Hi={test:jg("rgb","red"),parse:QS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+id.transform(t)+", "+id.transform(e)+", "+id.transform(n)+", "+qa($a.transform(r))+")"};function kk(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zp={test:jg("#"),parse:kk,transform:Hi.transform},Xs={test:jg("hsl","hue"),parse:QS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ir.transform(qa(e))+", "+ir.transform(qa(n))+", "+qa($a.transform(r))+")"},Mt={test:t=>Hi.test(t)||zp.test(t)||Xs.test(t),parse:t=>Hi.test(t)?Hi.parse(t):Xs.test(t)?Xs.parse(t):zp.parse(t),transform:t=>zl(t)?t:t.hasOwnProperty("red")?Hi.transform(t):Xs.transform(t)};function Dk(t){var e,n;return isNaN(t)&&zl(t)&&(((e=t.match(Rg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(b2))===null||n===void 0?void 0:n.length)||0)>0}const WS="number",KS="color",Ok="var",Vk="var(",iw="${}",Nk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _l(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Nk,u=>(Mt.test(u)?(r.color.push(s),i.push(KS),n.push(Mt.parse(u))):u.startsWith(Vk)?(r.var.push(s),i.push(Ok),n.push(u)):(r.number.push(s),i.push(WS),n.push(parseFloat(u))),++s,iw)).split(iw);return{values:n,split:a,indexes:r,types:i}}function GS(t){return _l(t).values}function YS(t){const{split:e,types:n}=_l(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===WS?s+=qa(i[o]):a===KS?s+=Mt.transform(i[o]):s+=i[o]}return s}}const Mk=t=>typeof t=="number"?0:t;function Lk(t){const e=GS(t);return YS(t)(e.map(Mk))}const _i={test:Dk,parse:GS,createTransformer:YS,getAnimatableNone:Lk},jk=new Set(["brightness","contrast","saturate","opacity"]);function Fk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Rg)||[];if(!r)return t;const i=n.replace(r,"");let s=jk.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Uk=/\b([a-z-]*)\(.*?\)/gu,$p={..._i,getAnimatableNone:t=>{const e=t.match(Uk);return e?e.map(Fk).join(" "):t}},Bk={...ES,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:$p,WebkitFilter:$p},Fg=t=>Bk[t];function XS(t,e){let n=Fg(t);return n!==$p&&(n=_i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zk=new Set(["auto","none","0"]);function $k(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!zk.has(s)&&_l(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=XS(n,i)}class JS extends Lg{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Ig(c))){const h=BS(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Pk.has(r)||e.length!==2)return;const[i,s]=e,o=rw(i),a=rw(s);if(o!==a)if(ew(o)&&ew(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Ek(e[i])&&r.push(i);r.length&&$k(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Do[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function ZS(t){let e;return()=>(e===void 0&&(e=t()),e)}const sw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_i.test(t)||t==="0")&&!t.startsWith("url("));function qk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Hk(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=sw(i,e),a=sw(s,e);return!o||!a?!1:qk(t)||n==="spring"&&r}class eP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Rk(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:u,isGenerator:c}=this.options;if(!c&&!Hk(e,r,i,s))if(o)this.options.duration=0;else{u==null||u($h(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function tP(t,e){return e?t*(1e3/e):0}const Qk=5;function nP(t,e,n){const r=Math.max(e-Qk,0);return tP(n-t(r),e-r)}const sd=.001,Wk=.01,Kk=10,Gk=.05,Yk=1;function Xk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=wi(Gk,Yk,o),t=wi(Wk,Kk,Sr(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,y=qp(c,o),_=Math.exp(-d);return sd-p/y*_},s=c=>{const d=c*o*t,p=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-d),x=qp(Math.pow(c,2),o);return(-i(c)+sd>0?-1:1)*((p-y)*_)/x}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-sd+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,u=Zk(i,s,a);if(t=hi(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Jk=12;function Zk(t,e,n){let r=n;for(let i=1;i<Jk;i++)r=r-t(r)/e(r);return r}function qp(t,e){return t*Math.sqrt(1-e*e)}const eD=["duration","bounce"],tD=["stiffness","damping","mass"];function ow(t,e){return e.some(n=>t[n]!==void 0)}function nD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ow(t,tD)&&ow(t,eD)){const n=Xk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function rP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=nD({...r,velocity:-Sr(r.velocity||0)}),y=d||0,_=u/(2*Math.sqrt(a*c)),x=s-i,b=Sr(Math.sqrt(a/c)),T=Math.abs(x)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let v;if(_<1){const w=qp(b,_);v=D=>{const M=Math.exp(-_*b*D);return s-M*((y+_*b*x)/w*Math.sin(w*D)+x*Math.cos(w*D))}}else if(_===1)v=w=>s-Math.exp(-b*w)*(x+(y+b*x)*w);else{const w=b*Math.sqrt(_*_-1);v=D=>{const M=Math.exp(-_*b*D),U=Math.min(w*D,300);return s-M*((y+_*b*x)*Math.sinh(U)+w*x*Math.cosh(U))/w}}return{calculatedDuration:p&&h||null,next:w=>{const D=v(w);if(p)o.done=w>=h;else{let M=y;w!==0&&(_<1?M=nP(v,w,D):M=0);const U=Math.abs(M)<=n,P=Math.abs(s-D)<=e;o.done=U&&P}return o.value=o.done?s:D,o}}}function aw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=g=>a!==void 0&&g<a||u!==void 0&&g>u,_=g=>a===void 0?u:u===void 0||Math.abs(a-g)<Math.abs(u-g)?a:u;let x=n*e;const b=d+x,T=o===void 0?b:o(b);T!==b&&(x=T-d);const v=g=>-x*Math.exp(-g/r),w=g=>T+v(g),D=g=>{const S=v(g),A=w(g);p.done=Math.abs(S)<=c,p.value=p.done?T:A};let M,U;const P=g=>{y(p.value)&&(M=g,U=rP({keyframes:[p.value,_(p.value)],velocity:nP(w,g,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return P(0),{calculatedDuration:null,next:g=>{let S=!1;return!U&&M===void 0&&(S=!0,D(g),P(g)),M!==void 0&&g>=M?U.next(g-M):(!S&&D(g),p)}}}const iP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rD=1e-7,iD=12;function sD(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=iP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>rD&&++a<iD);return o}function ql(t,e,n,r){if(t===e&&n===r)return Bt;const i=s=>sD(s,0,1,t,n);return s=>s===0||s===1?s:iP(i(s),e,r)}const oD=ql(.42,0,1,1),aD=ql(0,0,.58,1),sP=ql(.42,0,.58,1),lD=t=>Array.isArray(t)&&typeof t[0]!="number",oP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aP=t=>e=>1-t(1-e),Ug=t=>1-Math.sin(Math.acos(t)),lP=aP(Ug),uD=oP(Ug),uP=ql(.33,1.53,.69,.99),Bg=aP(uP),cD=oP(Bg),hD=t=>(t*=2)<1?.5*Bg(t):.5*(2-Math.pow(2,-10*(t-1))),lw={linear:Bt,easeIn:oD,easeInOut:sP,easeOut:aD,circIn:Ug,circInOut:uD,circOut:lP,backIn:Bg,backInOut:cD,backOut:uP,anticipate:hD},uw=t=>{if(Array.isArray(t)){Lp(t.length===4);const[e,n,r,i]=t;return ql(e,n,r,i)}else if(typeof t=="string")return Lp(lw[t]!==void 0),lw[t];return t},El=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ke=(t,e,n)=>t+(e-t)*n;function od(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=od(u,a,t+1/3),s=od(u,a,t),o=od(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Yc(t,e){return n=>n>0?e:t}const ad=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},dD=[zp,Hi,Xs],pD=t=>dD.find(e=>e.test(t));function cw(t){const e=pD(t);if(!e)return!1;let n=e.parse(t);return e===Xs&&(n=fD(n)),n}const hw=(t,e)=>{const n=cw(t),r=cw(e);if(!n||!r)return Yc(t,e);const i={...n};return s=>(i.red=ad(n.red,r.red,s),i.green=ad(n.green,r.green,s),i.blue=ad(n.blue,r.blue,s),i.alpha=Ke(n.alpha,r.alpha,s),Hi.transform(i))},Hp=new Set(["none","hidden"]);function mD(t,e){return Hp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gD(t,e){return n=>Ke(t,e,n)}function zg(t){return typeof t=="number"?gD:typeof t=="string"?Ig(t)?Yc:Mt.test(t)?hw:wD:Array.isArray(t)?cP:typeof t=="object"?Mt.test(t)?hw:yD:Yc}function cP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>zg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function yD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=zg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function vD(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=u,i[o]++}return r}const wD=(t,e)=>{const n=_i.createTransformer(e),r=_l(t),i=_l(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hp.has(t)&&!i.values.length||Hp.has(e)&&!r.values.length?mD(t,e):Tr(cP(vD(r,i),i.values),n):Yc(t,e)};function hP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ke(t,e,n):zg(t)(t,e)}function _D(t,e,n){const r=[],i=n||hP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Bt:e;a=Tr(u,a)}r.push(a)}return r}function ED(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Lp(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_D(e,r,i),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=El(t[h],t[h+1],c);return o[h](d)};return n?c=>u(wi(t[0],t[s-1],c)):u}function TD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=El(0,e,r);t.push(Ke(n,1,i))}}function SD(t){const e=[0];return TD(e,t.length-1),e}function PD(t,e){return t.map(n=>n*e)}function xD(t,e){return t.map(()=>e||sP).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lD(r)?r.map(uw):uw(r),s={done:!1,value:e[0]},o=PD(n&&n.length===e.length?n:SD(e),t),a=ED(o,e,{ease:Array.isArray(i)?i:xD(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const fw=2e4;function AD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fw;)e+=n,r=t.next(e);return e>=fw?1/0:e}const CD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ne.update(e,!0),stop:()=>Rr(e),now:()=>St.isProcessing?St.timestamp:fi.now()}},ID={decay:aw,inertia:aw,tween:Xc,keyframes:Xc,spring:rP},RD=t=>t/100;class $g extends eP{constructor({KeyframeResolver:e=Lg,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,u)=>this.onKeyframesResolved(a,u);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=ID[n]||Xc;let u,c;a!==Xc&&typeof e[0]!="number"&&(u=Tr(RD,hP(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=AD(h));const{calculatedDuration:d}=h,p=d+i,y=p*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:d,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:g}=this.options;return{done:!0,value:g[g.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:_,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?T<0:T>h;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,D=s;if(y){const g=Math.min(this.currentTime,h)/d;let S=Math.floor(g),A=g%1;!A&&g>=1&&(A=1),A===1&&S--,S=Math.min(S,y+1),!!(S%2)&&(_==="reverse"?(A=1-A,x&&(A-=x/d)):_==="mirror"&&(D=o)),w=wi(0,1,A)*d}const M=v?{done:!1,value:u[0]}:D.next(w);a&&(M.value=a(M.value));let{done:U}=M;!v&&c!==null&&(U=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return P&&i!==void 0&&(M.value=$h(u,this.options,i)),b&&b(M.value),P&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Sr(e.calculatedDuration):0}get time(){return Sr(this.currentTime)}set time(e){e=hi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Sr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=CD,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fP=t=>Array.isArray(t)&&typeof t[0]=="number";function dP(t){return!!(!t||typeof t=="string"&&t in qg||fP(t)||Array.isArray(t)&&t.every(dP))}const Ra=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ra([0,.65,.55,1]),circOut:Ra([.55,0,1,.45]),backIn:Ra([.31,.01,.66,-.59]),backOut:Ra([.33,1.53,.69,.99])};function bD(t){return pP(t)||qg.easeOut}function pP(t){if(t)return fP(t)?Ra(t):Array.isArray(t)?t.map(bD):qg[t]}function kD(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=pP(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const DD=ZS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jc=10,OD=2e4;function VD(t){return t.type==="spring"||!dP(t.ease)}function ND(t,e){const n=new $g({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<OD;)r=n.sample(s),i.push(r.value),s+=Jc;return{times:void 0,keyframes:i,duration:s-Jc,ease:"linear"}}class dw extends eP{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new JS(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:u,name:c}=this.options;if(!(!((r=u.owner)===null||r===void 0)&&r.current))return!1;if(VD(this.options)){const{onComplete:d,onUpdate:p,motionValue:y,..._}=this.options,x=ND(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const h=kD(u.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=fi.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;u.set($h(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Sr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Sr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=hi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Bt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Bt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,...p}=this.options,y=new $g({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=hi(this.time);c.setWithVelocity(y.sample(_-Jc).value,y.sample(_).value,Jc)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return DD()&&r&&bS.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function MD(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ne.update(r,!0),()=>Rr(r)}const LD=ZS(()=>window.ScrollTimeline!==void 0);class jD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(LD()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),MD(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Hg=(t,e,n,r={},i,s,o)=>a=>{const u=Mg(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-hi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{a(),u.onComplete&&u.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};vk(u)||(d={...d,...yk(t,d)}),d.duration&&(d.duration=hi(d.duration)),d.repeatDelay&&(d.repeatDelay=hi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const y=$h(d.keyframes,u);if(y!==void 0)return Ne.update(()=>{d.onUpdate(y),d.onComplete()}),new jD([])}return!s&&dw.supports(d)?new dw(d):new $g(d)};class Qg{constructor(){this.subscriptions=[]}add(e){return Fh(this.subscriptions,e),()=>Uh(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pw=30,FD=t=>!isNaN(parseFloat(t));class mP{constructor(e,n={}){this.version="11.3.19",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=fi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return tP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new mP(t,e)}function UD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function BD(t,e){const n=zh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=W2(s[o]);UD(t,o,a)}}function gP(t){return t.getProps()[dS]}class zD extends mP{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=kS(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(Uh(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function $D(t){return!!(Ut(t)&&t.add)}function Qp(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new zD("auto"),t.addValue("willChange",r)),$D(r))return r.add(e)}function qD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in u){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),y=u[d];if(y===void 0||h&&qD(h,d))continue;const _={delay:n,elapsed:0,...Mg(o||{},d)};let x=!1;if(window.HandoffAppearAnimations){const T=gP(t);if(T){const v=window.HandoffAppearAnimations(T,d,p,Ne);v!==null&&(_.elapsed=v,x=!0)}}p.start(Hg(d,p,y,t.shouldReduceMotion&&Ri.has(d)?{type:!1}:_,t,x,Qp(t,d)));const b=p.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Ne.update(()=>{a&&BD(t,a)})}),c}function Wp(t,e,n={}){var r;const i=zh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(yP(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return HD(t,e,h+c,d,p,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[c,h]=u==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function HD(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,u=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(QD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Wp(c,e,{...s,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function QD(t,e){return t.sortNodePosition(e)}function WD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Wp(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Wp(t,e,n);else{const i=typeof e=="function"?zh(t,e,n.custom):e;r=Promise.all(yP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const KD=[...Pg].reverse(),GD=Pg.length;function YD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>WD(t,n,r)))}function XD(t){let e=YD(t),n=mw(),r=!0;const i=u=>(c,h)=>{var d;const p=zh(t,h,u==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:y,transitionEnd:_,...x}=p;c={...c,...x,..._}}return c};function s(u){e=u(t)}function o(u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let y={},_=1/0;for(let b=0;b<GD;b++){const T=KD[b],v=n[T],w=c[T]!==void 0?c[T]:h[T],D=vl(w),M=T===u?v.isActive:null;M===!1&&(_=b);let U=w===h[T]&&w!==c[T]&&D;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),v.protectedKeys={...y},!v.isActive&&M===null||!w&&!v.prevProp||wl(w)||typeof w=="boolean")continue;let g=JD(v.prevProp,w)||T===u&&v.isActive&&!U&&D||b>_&&D,S=!1;const A=Array.isArray(w)?w:[w];let R=A.reduce(i(T),{});M===!1&&(R={});const{prevResolvedValues:O={}}=v,I={...O,...R},xe=ve=>{g=!0,p.has(ve)&&(S=!0,p.delete(ve)),v.needsAnimating[ve]=!0;const De=t.getValue(ve);De&&(De.liveStyle=!1)};for(const ve in I){const De=R[ve],Le=O[ve];if(y.hasOwnProperty(ve))continue;let G=!1;jp(De)&&jp(Le)?G=!jS(De,Le):G=De!==Le,G?De!=null?xe(ve):p.add(ve):De!==void 0&&p.has(ve)?xe(ve):v.protectedKeys[ve]=!0}v.prevProp=w,v.prevResolvedValues=R,v.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(g=!1),g&&(!U||S)&&d.push(...A.map(ve=>({animation:ve,options:{type:T}})))}if(p.size){const b={};p.forEach(T=>{const v=t.getBaseTarget(T),w=t.getValue(T);w&&(w.liveStyle=!0),b[T]=v??null}),d.push({animation:b})}let x=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(u,c)}),n[u].isActive=c;const d=o(u);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=mw(),r=!0}}}function JD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jS(e,t):!1}function Mi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mw(){return{animate:Mi(!0),whileInView:Mi(),whileHover:Mi(),whileTap:Mi(),whileDrag:Mi(),whileFocus:Mi(),exit:Mi()}}class ZD extends bi{constructor(e){super(e),e.animationState||(e.animationState=XD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let eO=0;class tO extends bi{constructor(){super(...arguments),this.id=eO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nO={animation:{Feature:ZD},exit:{Feature:tO}},gw=(t,e)=>Math.abs(t-e);function rO(t,e){const n=gw(t.x,e.x),r=gw(t.y,e.y);return Math.sqrt(n**2+r**2)}class vP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ud(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=rO(d.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:_}=d,{timestamp:x}=St;this.history.push({..._,timestamp:x});const{onStart:b,onMove:T}=this.handlers;p||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ld(p,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:_,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ud(d.type==="pointercancel"?this.lastMoveEventInfo:ld(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,b),_&&_(d,b)},!OS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Bh(e),a=ld(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=St;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,ud(a,this.history)),this.removeListeners=Tr(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr(this.updatePoint)}}function ld(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ud({point:t},e){return{point:t,delta:yw(t,wP(e)),offset:yw(t,iO(e)),velocity:sO(e,.1)}}function iO(t){return t[0]}function wP(t){return t[t.length-1]}function sO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>hi(e)));)n--;if(!r)return{x:0,y:0};const s=Sr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const _P=1e-4,oO=1-_P,aO=1+_P,EP=.01,lO=0-EP,uO=0+EP;function mn(t){return t.max-t.min}function cO(t,e,n){return Math.abs(t-e)<=n}function vw(t,e,n,r=.5){t.origin=r,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oO&&t.scale<=aO||isNaN(t.scale))&&(t.scale=1),(t.translate>=lO&&t.translate<=uO||isNaN(t.translate))&&(t.translate=0)}function Ha(t,e,n,r){vw(t.x,e.x,n.x,r?r.originX:void 0),vw(t.y,e.y,n.y,r?r.originY:void 0)}function ww(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function hO(t,e,n){ww(t.x,e.x,n.x),ww(t.y,e.y,n.y)}function _w(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function Qa(t,e,n){_w(t.x,e.x,n.x),_w(t.y,e.y,n.y)}function fO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ke(n,t,r.max):Math.min(t,n)),t}function Ew(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dO(t,{top:e,left:n,bottom:r,right:i}){return{x:Ew(t.x,n,i),y:Ew(t.y,e,r)}}function Tw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pO(t,e){return{x:Tw(t.x,e.x),y:Tw(t.y,e.y)}}function mO(t,e){let n=.5;const r=mn(t),i=mn(e);return i>r?n=El(e.min,e.max-r,t.min):r>i&&(n=El(t.min,t.max-i,e.min)),wi(0,1,n)}function gO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kp=.35;function yO(t=Kp){return t===!1?t=0:t===!0&&(t=Kp),{x:Sw(t,"left","right"),y:Sw(t,"top","bottom")}}function Sw(t,e,n){return{min:Pw(t,e),max:Pw(t,n)}}function Pw(t,e){return typeof t=="number"?t:t[e]||0}const xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:xw(),y:xw()}),Aw=()=>({min:0,max:0}),tt=()=>({x:Aw(),y:Aw()});function _n(t){return[t("x"),t("y")]}function TP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cd(t){return t===void 0||t===1}function Gp({scale:t,scaleX:e,scaleY:n}){return!cd(t)||!cd(e)||!cd(n)}function Fi(t){return Gp(t)||SP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SP(t){return Cw(t.x)||Cw(t.y)}function Cw(t){return t&&t!=="0%"}function Zc(t,e,n){const r=t-n,i=e*r;return n+i}function Iw(t,e,n,r,i){return i!==void 0&&(t=Zc(t,i,r)),Zc(t,n,r)+e}function Yp(t,e=0,n=1,r,i){t.min=Iw(t.min,e,n,r,i),t.max=Iw(t.max,e,n,r,i)}function PP(t,{x:e,y:n}){Yp(t.x,e.translate,e.scale,e.originPoint),Yp(t.y,n.translate,n.scale,n.originPoint)}const Rw=.999999999999,bw=1.0000000000001;function _O(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&eo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,PP(t,o)),r&&Fi(s.latestValues)&&eo(t,s.latestValues))}e.x<bw&&e.x>Rw&&(e.x=1),e.y<bw&&e.y>Rw&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function kw(t,e,n,r,i=.5){const s=Ke(t.min,t.max,i);Yp(t,e,n,s,r)}function eo(t,e){kw(t.x,e.x,e.scaleX,e.scale,e.originX),kw(t.y,e.y,e.scaleY,e.scale,e.originY)}function xP(t,e){return TP(wO(t.getBoundingClientRect(),e))}function EO(t,e,n){const r=xP(t,n),{scroll:i}=e;return i&&(Zs(r.x,i.offset.x),Zs(r.y,i.offset.y)),r}const AP=({current:t})=>t?t.ownerDocument.defaultView:null,TO=new WeakMap;class SO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bh(h,"page").point)},s=(h,d)=>{var p;const{drag:y,dragPropagation:_,onDragStart:x}=this.getProps();if(y&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=NS(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(T=>{let v=this.getAxisMotionValue(T).get()||0;if(ir.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[T];D&&(v=mn(D)*(parseFloat(v)/100))}}this.originPoint[T]=v}),x&&Ne.postRender(()=>x(h,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=Qp(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:_,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=d;if(y&&this.currentDirection===null){this.currentDirection=PO(b),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),x&&x(h,d)},a=(h,d)=>this.stop(h,d),u=()=>_n(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new vP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:AP(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ne.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=fO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ys(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dO(i.layoutBox,n):this.constraints=!1,this.elastic=yO(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gO(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ys(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=EO(r,i.root,this.visualElement.getTransformPagePoint());let o=pO(i.layout.layoutBox,s);if(n){const a=n(vO(o));this.hasMutatedConstraints=!!a,a&&(o=TP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=_n(h=>{if(!zu(h,n,this.currentDirection))return;let d=u&&u[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Hg(e,r,0,n,this.visualElement,!1,Qp(this.visualElement,e)))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:r}=this.getProps();if(!zu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ys(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_n(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=mO({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(o=>{if(!zu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Ke(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;TO.set(this.visualElement,this);const e=this.visualElement.current,n=Er(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ys(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ne.read(r);const o=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(_n(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Kp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xO extends bi{constructor(e){super(e),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new SO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dw=t=>(e,n)=>{t&&Ne.postRender(()=>t(e,n))};class AO extends bi{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(e){this.session=new vP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Dw(e),onStart:Dw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ne.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function CO(){const t=N.useContext(Nh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=N.useId();N.useEffect(()=>r(i),[]);const s=N.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ow(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=Ow(t,e.target.x),r=Ow(t,e.target.y);return`${n}% ${r}%`}},IO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_i.parse(t);if(i.length>5)return r;const s=_i.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=Ke(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class RO extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;S2(bO),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CP(t){const[e,n]=CO(),r=N.useContext(Ag);return C.jsx(RO,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(mS),isPresent:e,safeToRemove:n})}const bO={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:IO},IP=["TopLeft","TopRight","BottomLeft","BottomRight"],kO=IP.length,Vw=t=>typeof t=="string"?parseFloat(t):t,Nw=t=>typeof t=="number"||oe.test(t);function DO(t,e,n,r,i,s){i?(t.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,OO(r)),t.opacityExit=Ke(e.opacity!==void 0?e.opacity:1,0,VO(r))):s&&(t.opacity=Ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<kO;o++){const a=`border${IP[o]}Radius`;let u=Mw(e,a),c=Mw(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Nw(u)===Nw(c)?(t[a]=Math.max(Ke(Vw(u),Vw(c),r),0),(ir.test(c)||ir.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,r))}function Mw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OO=RP(0,.5,lP),VO=RP(.5,.95,Bt);function RP(t,e,n){return r=>r<t?0:r>e?1:n(El(t,e,r))}function Lw(t,e){t.min=e.min,t.max=e.max}function wn(t,e){Lw(t.x,e.x),Lw(t.y,e.y)}function jw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Fw(t,e,n,r,i){return t-=e,t=Zc(t,1/n,r),i!==void 0&&(t=Zc(t,1/i,r)),t}function NO(t,e=0,n=1,r=.5,i,s=t,o=t){if(ir.test(e)&&(e=parseFloat(e),e=Ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ke(s.min,s.max,r);t===s&&(a-=e),t.min=Fw(t.min,e,n,a,i),t.max=Fw(t.max,e,n,a,i)}function Uw(t,e,[n,r,i],s,o){NO(t,e[n],e[r],e[i],e.scale,s,o)}const MO=["x","scaleX","originX"],LO=["y","scaleY","originY"];function Bw(t,e,n,r){Uw(t.x,e,MO,n?n.x:void 0,r?r.x:void 0),Uw(t.y,e,LO,n?n.y:void 0,r?r.y:void 0)}function zw(t){return t.translate===0&&t.scale===1}function bP(t){return zw(t.x)&&zw(t.y)}function $w(t,e){return t.min===e.min&&t.max===e.max}function jO(t,e){return $w(t.x,e.x)&&$w(t.y,e.y)}function qw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kP(t,e){return qw(t.x,e.x)&&qw(t.y,e.y)}function Hw(t){return mn(t.x)/mn(t.y)}function Qw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FO{constructor(){this.members=[]}add(e){Fh(this.members,e),e.scheduleRender()}remove(e){if(Uh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UO(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:y,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const BO=(t,e)=>t.depth-e.depth;class zO{constructor(){this.children=[],this.isDirty=!1}add(e){Fh(this.children,e),this.isDirty=!0}remove(e){Uh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BO),this.isDirty=!1,this.children.forEach(e)}}function $O(t,e){const n=fi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Rr(r),t(s-e))};return Ne.read(r,!0),()=>Rr(r)}function qO(t){return t instanceof SVGElement&&t.tagName!=="svg"}function HO(t,e,n){const r=Ut(t)?t:Tl(t);return r.start(Hg("",r,e,n)),r.animation}const Ui={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ba=typeof window<"u"&&window.MotionDebug!==void 0,hd=["","X","Y","Z"],QO={visibility:"hidden"},Ww=1e3;let WO=0;function fd(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?gP(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?DP(t.parent):!1:!1}function OP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba&&(Ui.totalNodes=Ui.resolvedTargetDeltas=Ui.recalculatedProjection=0),this.nodes.forEach(YO),this.nodes.forEach(tV),this.nodes.forEach(nV),this.nodes.forEach(XO),ba&&window.MotionDebug.record(Ui)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Qg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qO(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=$O(p,250),pc.hasAnimatedSinceResize&&(pc.hasAnimatedSinceResize=!1,this.nodes.forEach(Gw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||aV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:T}=h.getProps(),v=!this.targetLayout||!kP(this.targetLayout,_)||y,w=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const D={...Mg(x,"layout"),onPlay:b,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else p||Gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&DP(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}this.isUpdating||this.nodes.forEach(ZO),this.isUpdating=!1,this.nodes.forEach(eV),this.nodes.forEach(KO),this.nodes.forEach(GO),this.clearAllSnapshots();const a=fi.now();St.delta=wi(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,td.update.process(St),td.preRender.process(St),td.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JO),this.sharedNodes.forEach(iV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bP(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Fi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),lV(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return tt();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(uV))){const{scroll:h}=this.root;h&&(Zs(u.x,h.offset.x),Zs(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=tt();if(wn(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&wn(u,o),Zs(u.x,d.offset.x),Zs(u.y,d.offset.y))}return u}applyTransform(o,a=!1){const u=tt();wn(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&eo(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Fi(h.latestValues)&&eo(u,h.latestValues)}return Fi(this.latestValues)&&eo(u,this.latestValues),u}removeTransform(o){const a=tt();wn(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Fi(c.latestValues))continue;Gp(c.latestValues)&&c.updateSnapshot();const h=tt(),d=c.measurePageBox();wn(h,d),Bw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Fi(this.latestValues)&&Bw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Qa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),PP(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Qa(this.relativeTargetOrigin,this.target,y.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba&&Ui.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gp(this.parent.latestValues)||SP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===St.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;_O(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=tt());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jw(this.prevProjectionDelta.x,this.projectionDelta.x),jw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ha(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!Qw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),ba&&Ui.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Js(),this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},d=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=tt(),y=u?u.source:void 0,_=this.layout?this.layout.source:void 0,x=y!==_,b=this.getStack(),T=!b||b.members.length<=1,v=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(oV));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const M=D/1e3;Yw(d.x,o.x,M),Yw(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qa(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sV(this.relativeTarget,this.relativeTargetOrigin,p,M),w&&jO(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=tt()),wn(w,this.relativeTarget)),x&&(this.animationValues=h,DO(h,c,this.latestValues,M,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{pc.hasAnimatedSinceResize=!0,this.currentAnimation=HO(0,Ww,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ww),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&VP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||tt();const d=mn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=mn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}wn(a,u),eo(a,h),Ha(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&fd("z",o,c,this.animationValues);for(let h=0;h<hd.length;h++)fd(`rotate${hd[h]}`,o,c,this.animationValues),fd(`skew${hd[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QO;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=fc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=UO(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,d.animationValues?c.opacity=d===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Kc){if(p[x]===void 0)continue;const{correct:b,applyTo:T}=Kc[x],v=c.transform==="none"?p[x]:b(p[x],d);if(T){const w=T.length;for(let D=0;D<w;D++)c[T[D]]=v}else c[x]=v}return this.options.layoutId&&(c.pointerEvents=d===this?fc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function KO(t){t.updateLayout()}function GO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?_n(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=mn(p);p.min=r[d].min,p.max=p.min+y}):VP(s,n.layoutBox,r)&&_n(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=mn(r[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=Js();Ha(a,r,n.layoutBox);const u=Js();o?Ha(u,t.applyTransform(i,!0),n.measuredBox):Ha(u,r,n.layoutBox);const c=!bP(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const _=tt();Qa(_,n.layoutBox,p.layoutBox);const x=tt();Qa(x,r,y.layoutBox),kP(_,x)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=_,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function YO(t){ba&&Ui.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JO(t){t.clearSnapshot()}function Kw(t){t.clearMeasurements()}function ZO(t){t.isLayoutDirty=!1}function eV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tV(t){t.resolveTargetDelta()}function nV(t){t.calcProjection()}function rV(t){t.resetSkewAndRotation()}function iV(t){t.removeLeadSnapshot()}function Yw(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xw(t,e,n,r){t.min=Ke(e.min,n.min,r),t.max=Ke(e.max,n.max,r)}function sV(t,e,n,r){Xw(t.x,e.x,n.x,r),Xw(t.y,e.y,n.y,r)}function oV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aV={duration:.45,ease:[.4,0,.1,1]},Jw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zw=Jw("applewebkit/")&&!Jw("chrome/")?Math.round:Bt;function e_(t){t.min=Zw(t.min),t.max=Zw(t.max)}function lV(t){e_(t.x),e_(t.y)}function VP(t,e,n){return t==="position"||t==="preserve-aspect"&&!cO(Hw(e),Hw(n),.2)}function uV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const cV=OP({attachResizeListener:(t,e)=>wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dd={current:void 0},NP=OP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dd.current){const t=new cV({});t.mount(window),t.setOptions({layoutScroll:!0}),dd.current=t}return dd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hV={pan:{Feature:AO},drag:{Feature:xO,ProjectionNode:NP,MeasureLayout:CP}},Xp={current:null},MP={current:!1};function fV(){if(MP.current=!0,!!Tg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xp.current=t.matches;t.addListener(e),e()}else Xp.current=!1}function dV(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ut(i))t.addValue(r,i);else if(Ut(s))t.addValue(r,Tl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Tl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const t_=new WeakMap,pV=[...$S,Mt,_i],mV=t=>pV.find(zS(t)),n_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gV=xg.length;class yV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.resolveKeyframes=(p,y,_,x)=>new this.KeyframeResolver(p,y,_,x,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ne.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Lh(n),this.isVariantNode=yS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const y=d[p];u[p]!==void 0&&Ut(y)&&y.set(u[p],!1)}}mount(e){this.current=e,t_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),MP.current||fV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){t_.delete(this.current),this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=Ri.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ko){const n=ko[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<n_.length;r++){const i=n_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=dV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<gV;r++){const i=xg[r],s=this.props[i];(vl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(US(i)||FS(i))?i=parseFloat(i):!mV(i)&&_i.test(n)&&(i=XS(e,n)),this.setBaseTarget(e,Ut(i)?i.get():i)),Ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Ng(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ut(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LP extends yV{constructor(){super(...arguments),this.KeyframeResolver=JS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function vV(t){return window.getComputedStyle(t)}class wV extends LP{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=AS}readValueFromInstance(e,n){if(Ri.has(n)){const r=Fg(n);return r&&r.default||0}else{const r=vV(e),i=(_S(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xP(e,n)}build(e,n,r){bg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Vg(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class _V extends LP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ri.has(n)){const r=Fg(n);return r&&r.default||0}return n=CS.has(n)?n:Mh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RS(e,n,r)}build(e,n,r){Dg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){IS(e,n,r,i)}mount(e){this.isSVGTag=Og(e.tagName),super.mount(e)}}const EV=(t,e)=>Cg(t)?new _V(e):new wV(e,{allowProjection:t!==N.Fragment}),TV={layout:{ProjectionNode:NP,MeasureLayout:CP}},SV={...nO,...fk,...hV,...TV},$t=E2((t,e)=>Z2(t,e,SV,EV));class PV extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xV({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=N.useContext(yl);return N.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),C.jsx(PV,{isPresent:e,childRef:r,sizeRef:i,children:N.cloneElement(t,{ref:r})})}const AV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=jh(CV),u=N.useId(),c=N.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return N.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=C.jsx(xV,{isPresent:n,children:t})),C.jsx(Nh.Provider,{value:c,children:t})};function CV(){return new Map}const $u=t=>t.key||"";function r_(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const IV=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=N.useMemo(()=>r_(t),[t]),u=a.map($u),c=N.useRef(!0),h=N.useRef(a),d=jh(()=>new Map),[p,y]=N.useState(a),[_,x]=N.useState(a);hS(()=>{c.current=!1,h.current=a;for(let v=0;v<_.length;v++){const w=$u(_[v]);u.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[_,u.length,u.join("-")]);const b=[];if(a!==p){let v=[...a];for(let w=0;w<_.length;w++){const D=_[w],M=$u(D);u.includes(M)||(v.splice(w,0,D),b.push(D))}o==="wait"&&b.length&&(v=b),x(r_(v)),y(a);return}const{forceRender:T}=N.useContext(Ag);return C.jsx(C.Fragment,{children:_.map(v=>{const w=$u(v),D=a===_||u.includes(w),M=()=>{if(d.has(w))d.set(w,!0);else return;let U=!0;d.forEach(P=>{P||(U=!1)}),U&&(T==null||T(),x(h.current),i&&i())};return C.jsx(AV,{isPresent:D,initial:!c.current||r?void 0:!1,custom:D?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:D?void 0:M,children:v},w)})})};function jP({children:t,isValidProp:e,...n}){e&&PS(e),n={...N.useContext(yl),...n},n.isStatic=jh(()=>n.isStatic);const r=N.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return C.jsx(yl.Provider,{value:r,children:t})}var Et=[];for(var pd=0;pd<256;++pd)Et.push((pd+256).toString(16).slice(1));function RV(t,e=0){return(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase()}var qu,bV=new Uint8Array(16);function kV(){if(!qu&&(qu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qu(bV)}var DV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const i_={randomUUID:DV};function FP(t,e,n){if(i_.randomUUID&&!e&&!t)return i_.randomUUID();t=t||{};var r=t.random||(t.rng||kV)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,RV(r)}function qh({title:t,children:e,className:n,overrideClass:r,isStatic:i}){return C.jsxs(C.Fragment,{children:[C.jsx("header",{className:`${!r&&`bg-base-300 text-base-content shadow flex p-4 pt-3 pb-3 top-0 left-0 w-screen z-20 ${!i&&"sticky"} justify-center transition-colors duration-1000`}  ${n}`,children:C.jsx("h1",{className:"text-xl font-semibold",children:t})},`${FP()}-${t}`),C.jsx($t.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-grow flex flex-col w-full max-w-5xl self-center",children:e})]})}var UP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s_=ni.createContext&&ni.createContext(UP),OV=["attr","size","title"];function VV(t,e){if(t==null)return{};var n=NV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){MV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MV(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t){var e=jV(t,"string");return typeof e=="symbol"?e:e+""}function jV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BP(t){return t&&t.map((e,n)=>ni.createElement(e.tag,th({key:n},e.attr),BP(e.child)))}function On(t){return e=>ni.createElement(FV,eh({attr:th({},t.attr)},e),BP(t.child))}function FV(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=VV(t,OV),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ni.createElement("svg",eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:th(th({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ni.createElement("title",null,s),t.children)};return s_!==void 0?ni.createElement(s_.Consumer,null,n=>e(n)):e(UP)}function a_(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-8c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10 .002 8H6v-8h12zm-9-2V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9z"},child:[]}]})(t)}function UV(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.445 21.832a1 1 0 0 0 1.11 0l9-6A.998.998 0 0 0 21.8 14.4l-9-12c-.377-.504-1.223-.504-1.6 0l-9 12a1 1 0 0 0 .245 1.432l9 6zm8.12-7.078L12 19.798V4.667l7.565 10.087z"},child:[]}]})(t)}const hs=[{id:9,name:"General Knowledge",gradient:"bg-blue-to-purple",description:"A mix of trivia from various fields.",src:"/category/computer.jpg"},{id:10,name:"Entertainment: Books",gradient:"bg-pink-to-orange",description:"Questions about literature and authors.",src:"/category/books.jpg"},{id:11,name:"Entertainment: Film",gradient:"bg-teal-to-blue",description:"Trivia about movies and directors.",src:"/category/film.jpg"},{id:12,name:"Entertainment: Music",gradient:"bg-red-to-yellow",description:"Questions on music genres and artists.",src:"/category/music.jpg"},{id:13,name:"Entertainment: Musicals & Theatres",gradient:"bg-green-to-teal",description:"Trivia about stage productions and musicals.",src:"/category/music-theatre.jpg"},{id:14,name:"Entertainment: Television",gradient:"bg-indigo-to-blue",description:"Questions about TV shows and actors.",src:"/category/television.jpg"},{id:15,name:"Entertainment: Video Games",gradient:"bg-purple-to-pink",description:"Trivia on video games and gaming culture.",src:"/category/videogames.jpg"},{id:16,name:"Entertainment: Board Games",gradient:"bg-orange-to-red",description:"Questions about popular board games.",src:"/category/boardgames.jpg"},{id:17,name:"Science & Nature",gradient:"bg-gray-to-blue",description:"Trivia about natural phenomena and science.",src:"/category/nature.jpg"},{id:18,name:"Science: Computers",gradient:"bg-cyan-to-purple",description:"Questions on computers and IT.",src:"/category/computer.jpg"},{id:19,name:"Science: Mathematics",gradient:"bg-yellow-to-pink",description:"Trivia about math concepts and problems.",src:"/category/math.jpg"},{id:20,name:"Mythology",gradient:"bg-blue-to-green",description:"Questions about myths and legends.",src:"/category/myth.jpg"},{id:21,name:"Sports",gradient:"bg-red-to-pink",description:"Trivia about sports and athletes.",src:"/category/sports.jpg"},{id:22,name:"Geography",gradient:"bg-lime-to-teal",description:"Questions on countries and landmarks.",src:"/category/geography.jpg"},{id:23,name:"History",gradient:"bg-fuchsia-to-blue",description:"Trivia about historical events and figures.",src:"/category/history.jpg"},{id:24,name:"Politics",gradient:"bg-rose-to-orange",description:"Questions about political systems and leaders.",src:"/category/politics.jpg"},{id:25,name:"Art",gradient:"bg-blue-to-purple",description:"Trivia about visual arts and artists.",src:"/category/art.jpg"},{id:26,name:"Celebrities",gradient:"bg-pink-to-orange",description:"Questions about famous personalities.",src:"/category/celebrity.jpg"},{id:27,name:"Animals",gradient:"bg-teal-to-blue",description:"Trivia about animal species and habitats.",src:"/category/animals.jpg"},{id:28,name:"Vehicles",gradient:"bg-red-to-yellow",description:"Questions about cars, bikes, and other vehicles.",src:"/category/vehicle.jpg"},{id:29,name:"Entertainment: Comics",gradient:"bg-green-to-teal",description:"Trivia about comic books and graphic novels.",src:"/category/comics.jpg"},{id:30,name:"Science: Gadgets",gradient:"bg-indigo-to-blue",description:"Questions about modern gadgets and technology.",src:"/category/gadgets.jpg"},{id:32,name:"Entertainment: Cartoon & Animations",gradient:"bg-orange-to-red",description:"Questions about animated shows and cartoons.",src:"/category/cartoon.jpg"}];var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(p=64)),r.push(n[h],n[d],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new zV;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $V=function(t){const e=zP(t);return $P.encodeByteArray(e,!0)},nh=function(t){return $V(t).replace(/\./g,"")},qV=function(t){try{return $P.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=()=>HV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qV(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return QV()||WV()||KV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GV=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YV=t=>{const e=GV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qP=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){var t;const e=(t=Wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nN(){return!eN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HP(){try{return typeof indexedDB=="object"}catch{return!1}}function QP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function rN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="FirebaseError";class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iN,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ki(i,a,r)}}function sN(t,e){return t.replace(oN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oN=/\{\$([^}]+)}/g;function rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u_(s)&&u_(o)){if(!rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1e3,lN=2,uN=4*60*60*1e3,cN=.5;function c_(t,e=aN,n=lN){const r=e*Math.pow(n,t),i=Math.round(cN*r*(Math.random()-.5)*2);return Math.min(uN,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dN(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fN(t){return t===Bi?void 0:t}function dN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const mN={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},gN=Se.INFO,yN={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},vN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=vN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const wN=(t,e)=>e.some(n=>t instanceof n);let h_,f_;function _N(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EN(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WP=new WeakMap,Jp=new WeakMap,KP=new WeakMap,md=new WeakMap,Gg=new WeakMap;function TN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WP.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function SN(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PN(t){Zp=t(Zp)}function xN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gd(this),e,...n);return KP.set(r,e.sort?e.sort():[e]),di(r)}:EN().includes(t)?function(...e){return t.apply(gd(this),e),di(WP.get(this))}:function(...e){return di(t.apply(gd(this),e))}}function AN(t){return typeof t=="function"?xN(t):(t instanceof IDBTransaction&&SN(t),wN(t,_N())?new Proxy(t,Zp):t)}function di(t){if(t instanceof IDBRequest)return TN(t);if(md.has(t))return md.get(t);const e=AN(t);return e!==t&&(md.set(t,e),Gg.set(e,t)),e}const gd=t=>Gg.get(t);function GP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(di(o.result),u.oldVersion,u.newVersion,di(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const CN=["get","getKey","getAll","getAllKeys","count"],IN=["put","add","delete","clear"],yd=new Map;function d_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CN.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return yd.set(e,s),s}PN(t=>({...t,get:(e,n,r)=>d_(e,n)||t.get(e,n,r),has:(e,n)=>!!d_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",p_="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Kg("@firebase/app"),kN="@firebase/app-compat",DN="@firebase/analytics-compat",ON="@firebase/analytics",VN="@firebase/app-check-compat",NN="@firebase/app-check",MN="@firebase/auth",LN="@firebase/auth-compat",jN="@firebase/database",FN="@firebase/database-compat",UN="@firebase/functions",BN="@firebase/functions-compat",zN="@firebase/installations",$N="@firebase/installations-compat",qN="@firebase/messaging",HN="@firebase/messaging-compat",QN="@firebase/performance",WN="@firebase/performance-compat",KN="@firebase/remote-config",GN="@firebase/remote-config-compat",YN="@firebase/storage",XN="@firebase/storage-compat",JN="@firebase/firestore",ZN="@firebase/vertexai-preview",eM="@firebase/firestore-compat",tM="firebase",nM="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",rM={[em]:"fire-core",[kN]:"fire-core-compat",[ON]:"fire-analytics",[DN]:"fire-analytics-compat",[NN]:"fire-app-check",[VN]:"fire-app-check-compat",[MN]:"fire-auth",[LN]:"fire-auth-compat",[jN]:"fire-rtdb",[FN]:"fire-rtdb-compat",[UN]:"fire-fn",[BN]:"fire-fn-compat",[zN]:"fire-iid",[$N]:"fire-iid-compat",[qN]:"fire-fcm",[HN]:"fire-fcm-compat",[QN]:"fire-perf",[WN]:"fire-perf-compat",[KN]:"fire-rc",[GN]:"fire-rc-compat",[YN]:"fire-gcs",[XN]:"fire-gcs-compat",[JN]:"fire-fst",[eM]:"fire-fst-compat",[ZN]:"fire-vertex","fire-js":"fire-js",[tM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,iM=new Map,nm=new Map;function m_(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(nm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(const n of ih.values())m_(n,t);for(const n of iM.values())m_(n,t);return!0}function Hl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Hh("app","Firebase",sM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=nM;function YP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=qP()),!n)throw pi.create("no-options");const s=ih.get(i);if(s){if(rh(n,s.options)&&rh(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new pN(i);for(const u of nm.values())o.addComponent(u);const a=new oM(n,r,o);return ih.set(i,a),a}function XP(t=tm){const e=ih.get(t);if(!e&&t===tm&&qP())return YP();if(!e)throw pi.create("no-app",{appName:t});return e}function sr(t,e,n){var r;let i=(r=rM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}Ti(new br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firebase-heartbeat-database",uM=1,Sl="firebase-heartbeat-store";let vd=null;function JP(){return vd||(vd=GP(lM,uM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),vd}async function cM(t){try{const n=(await JP()).transaction(Sl),r=await n.objectStore(Sl).get(ZP(t));return await n.done,r}catch(e){if(e instanceof ki)fs.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function g_(t,e){try{const r=(await JP()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,ZP(t)),await r.done}catch(n){if(n instanceof ki)fs.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function ZP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=1024,fM=30*24*60*60*1e3;class dM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:r,unsentEntries:i}=pM(this._heartbeatsCache.heartbeats),s=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function y_(){return new Date().toISOString().substring(0,10)}function pM(t,e=hM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),v_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HP()?QP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){Ti(new br("platform-logger",e=>new RN(e),"PRIVATE")),Ti(new br("heartbeat",e=>new dM(e),"PRIVATE")),sr(em,p_,t),sr(em,p_,"esm2017"),sr("fire-js","")}gM("");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,ex;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,g){function S(){}S.prototype=g.prototype,P.D=g.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(A,R,O){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return g.prototype[R].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,g,S){S||(S=0);var A=Array(16);if(typeof g=="string")for(var R=0;16>R;++R)A[R]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(R=0;16>R;++R)A[R]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=P.g[0],S=P.g[1],R=P.g[2];var O=P.g[3],I=g+(O^S&(R^O))+A[0]+3614090360&4294967295;g=S+(I<<7&4294967295|I>>>25),I=O+(R^g&(S^R))+A[1]+3905402710&4294967295,O=g+(I<<12&4294967295|I>>>20),I=R+(S^O&(g^S))+A[2]+606105819&4294967295,R=O+(I<<17&4294967295|I>>>15),I=S+(g^R&(O^g))+A[3]+3250441966&4294967295,S=R+(I<<22&4294967295|I>>>10),I=g+(O^S&(R^O))+A[4]+4118548399&4294967295,g=S+(I<<7&4294967295|I>>>25),I=O+(R^g&(S^R))+A[5]+1200080426&4294967295,O=g+(I<<12&4294967295|I>>>20),I=R+(S^O&(g^S))+A[6]+2821735955&4294967295,R=O+(I<<17&4294967295|I>>>15),I=S+(g^R&(O^g))+A[7]+4249261313&4294967295,S=R+(I<<22&4294967295|I>>>10),I=g+(O^S&(R^O))+A[8]+1770035416&4294967295,g=S+(I<<7&4294967295|I>>>25),I=O+(R^g&(S^R))+A[9]+2336552879&4294967295,O=g+(I<<12&4294967295|I>>>20),I=R+(S^O&(g^S))+A[10]+4294925233&4294967295,R=O+(I<<17&4294967295|I>>>15),I=S+(g^R&(O^g))+A[11]+2304563134&4294967295,S=R+(I<<22&4294967295|I>>>10),I=g+(O^S&(R^O))+A[12]+1804603682&4294967295,g=S+(I<<7&4294967295|I>>>25),I=O+(R^g&(S^R))+A[13]+4254626195&4294967295,O=g+(I<<12&4294967295|I>>>20),I=R+(S^O&(g^S))+A[14]+2792965006&4294967295,R=O+(I<<17&4294967295|I>>>15),I=S+(g^R&(O^g))+A[15]+1236535329&4294967295,S=R+(I<<22&4294967295|I>>>10),I=g+(R^O&(S^R))+A[1]+4129170786&4294967295,g=S+(I<<5&4294967295|I>>>27),I=O+(S^R&(g^S))+A[6]+3225465664&4294967295,O=g+(I<<9&4294967295|I>>>23),I=R+(g^S&(O^g))+A[11]+643717713&4294967295,R=O+(I<<14&4294967295|I>>>18),I=S+(O^g&(R^O))+A[0]+3921069994&4294967295,S=R+(I<<20&4294967295|I>>>12),I=g+(R^O&(S^R))+A[5]+3593408605&4294967295,g=S+(I<<5&4294967295|I>>>27),I=O+(S^R&(g^S))+A[10]+38016083&4294967295,O=g+(I<<9&4294967295|I>>>23),I=R+(g^S&(O^g))+A[15]+3634488961&4294967295,R=O+(I<<14&4294967295|I>>>18),I=S+(O^g&(R^O))+A[4]+3889429448&4294967295,S=R+(I<<20&4294967295|I>>>12),I=g+(R^O&(S^R))+A[9]+568446438&4294967295,g=S+(I<<5&4294967295|I>>>27),I=O+(S^R&(g^S))+A[14]+3275163606&4294967295,O=g+(I<<9&4294967295|I>>>23),I=R+(g^S&(O^g))+A[3]+4107603335&4294967295,R=O+(I<<14&4294967295|I>>>18),I=S+(O^g&(R^O))+A[8]+1163531501&4294967295,S=R+(I<<20&4294967295|I>>>12),I=g+(R^O&(S^R))+A[13]+2850285829&4294967295,g=S+(I<<5&4294967295|I>>>27),I=O+(S^R&(g^S))+A[2]+4243563512&4294967295,O=g+(I<<9&4294967295|I>>>23),I=R+(g^S&(O^g))+A[7]+1735328473&4294967295,R=O+(I<<14&4294967295|I>>>18),I=S+(O^g&(R^O))+A[12]+2368359562&4294967295,S=R+(I<<20&4294967295|I>>>12),I=g+(S^R^O)+A[5]+4294588738&4294967295,g=S+(I<<4&4294967295|I>>>28),I=O+(g^S^R)+A[8]+2272392833&4294967295,O=g+(I<<11&4294967295|I>>>21),I=R+(O^g^S)+A[11]+1839030562&4294967295,R=O+(I<<16&4294967295|I>>>16),I=S+(R^O^g)+A[14]+4259657740&4294967295,S=R+(I<<23&4294967295|I>>>9),I=g+(S^R^O)+A[1]+2763975236&4294967295,g=S+(I<<4&4294967295|I>>>28),I=O+(g^S^R)+A[4]+1272893353&4294967295,O=g+(I<<11&4294967295|I>>>21),I=R+(O^g^S)+A[7]+4139469664&4294967295,R=O+(I<<16&4294967295|I>>>16),I=S+(R^O^g)+A[10]+3200236656&4294967295,S=R+(I<<23&4294967295|I>>>9),I=g+(S^R^O)+A[13]+681279174&4294967295,g=S+(I<<4&4294967295|I>>>28),I=O+(g^S^R)+A[0]+3936430074&4294967295,O=g+(I<<11&4294967295|I>>>21),I=R+(O^g^S)+A[3]+3572445317&4294967295,R=O+(I<<16&4294967295|I>>>16),I=S+(R^O^g)+A[6]+76029189&4294967295,S=R+(I<<23&4294967295|I>>>9),I=g+(S^R^O)+A[9]+3654602809&4294967295,g=S+(I<<4&4294967295|I>>>28),I=O+(g^S^R)+A[12]+3873151461&4294967295,O=g+(I<<11&4294967295|I>>>21),I=R+(O^g^S)+A[15]+530742520&4294967295,R=O+(I<<16&4294967295|I>>>16),I=S+(R^O^g)+A[2]+3299628645&4294967295,S=R+(I<<23&4294967295|I>>>9),I=g+(R^(S|~O))+A[0]+4096336452&4294967295,g=S+(I<<6&4294967295|I>>>26),I=O+(S^(g|~R))+A[7]+1126891415&4294967295,O=g+(I<<10&4294967295|I>>>22),I=R+(g^(O|~S))+A[14]+2878612391&4294967295,R=O+(I<<15&4294967295|I>>>17),I=S+(O^(R|~g))+A[5]+4237533241&4294967295,S=R+(I<<21&4294967295|I>>>11),I=g+(R^(S|~O))+A[12]+1700485571&4294967295,g=S+(I<<6&4294967295|I>>>26),I=O+(S^(g|~R))+A[3]+2399980690&4294967295,O=g+(I<<10&4294967295|I>>>22),I=R+(g^(O|~S))+A[10]+4293915773&4294967295,R=O+(I<<15&4294967295|I>>>17),I=S+(O^(R|~g))+A[1]+2240044497&4294967295,S=R+(I<<21&4294967295|I>>>11),I=g+(R^(S|~O))+A[8]+1873313359&4294967295,g=S+(I<<6&4294967295|I>>>26),I=O+(S^(g|~R))+A[15]+4264355552&4294967295,O=g+(I<<10&4294967295|I>>>22),I=R+(g^(O|~S))+A[6]+2734768916&4294967295,R=O+(I<<15&4294967295|I>>>17),I=S+(O^(R|~g))+A[13]+1309151649&4294967295,S=R+(I<<21&4294967295|I>>>11),I=g+(R^(S|~O))+A[4]+4149444226&4294967295,g=S+(I<<6&4294967295|I>>>26),I=O+(S^(g|~R))+A[11]+3174756917&4294967295,O=g+(I<<10&4294967295|I>>>22),I=R+(g^(O|~S))+A[2]+718787259&4294967295,R=O+(I<<15&4294967295|I>>>17),I=S+(O^(R|~g))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+g&4294967295,P.g[1]=P.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,g){g===void 0&&(g=P.length);for(var S=g-this.blockSize,A=this.B,R=this.h,O=0;O<g;){if(R==0)for(;O<=S;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<g;)if(A[R++]=P.charCodeAt(O++),R==this.blockSize){i(this,A),R=0;break}}else for(;O<g;)if(A[R++]=P[O++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=g},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var g=1;g<P.length-8;++g)P[g]=0;var S=8*this.o;for(g=P.length-8;g<P.length;++g)P[g]=S&255,S/=256;for(this.u(P),P=Array(16),g=S=0;4>g;++g)for(var A=0;32>A;A+=8)P[S++]=this.g[g]>>>A&255;return P};function s(P,g){var S=a;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=g(P)}function o(P,g){this.h=g;for(var S=[],A=!0,R=P.length-1;0<=R;R--){var O=P[R]|0;A&&O==g||(S[R]=O,A=!1)}this.g=S}var a={};function u(P){return-128<=P&&128>P?s(P,function(g){return new o([g|0],0>g?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return b(c(-P));for(var g=[],S=1,A=0;P>=S;A++)g[A]=P/S|0,S*=4294967296;return new o(g,0)}function h(P,g){if(P.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(P.charAt(0)=="-")return b(h(P.substring(1),g));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(g,8)),A=d,R=0;R<P.length;R+=8){var O=Math.min(8,P.length-R),I=parseInt(P.substring(R,R+O),g);8>O?(O=c(Math.pow(g,O)),A=A.j(O).add(c(I))):(A=A.j(S),A=A.add(c(I)))}return A}var d=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-b(this).m();for(var P=0,g=1,S=0;S<this.g.length;S++){var A=this.i(S);P+=(0<=A?A:4294967296+A)*g,g*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(x(this))return"-"+b(this).toString(P);for(var g=c(Math.pow(P,6)),S=this,A="";;){var R=D(S,g).g;S=T(S,R.j(g));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=R,_(S))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var g=0;g<P.g.length;g++)if(P.g[g]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=T(this,P),x(P)?-1:_(P)?0:1};function b(P){for(var g=P.g.length,S=[],A=0;A<g;A++)S[A]=~P.g[A];return new o(S,~P.h).add(p)}t.abs=function(){return x(this)?b(this):this},t.add=function(P){for(var g=Math.max(this.g.length,P.g.length),S=[],A=0,R=0;R<=g;R++){var O=A+(this.i(R)&65535)+(P.i(R)&65535),I=(O>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);A=I>>>16,O&=65535,I&=65535,S[R]=I<<16|O}return new o(S,S[S.length-1]&-2147483648?-1:0)};function T(P,g){return P.add(b(g))}t.j=function(P){if(_(this)||_(P))return d;if(x(this))return x(P)?b(this).j(b(P)):b(b(this).j(P));if(x(P))return b(this.j(b(P)));if(0>this.l(y)&&0>P.l(y))return c(this.m()*P.m());for(var g=this.g.length+P.g.length,S=[],A=0;A<2*g;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<P.g.length;R++){var O=this.i(A)>>>16,I=this.i(A)&65535,xe=P.i(R)>>>16,ve=P.i(R)&65535;S[2*A+2*R]+=I*ve,v(S,2*A+2*R),S[2*A+2*R+1]+=O*ve,v(S,2*A+2*R+1),S[2*A+2*R+1]+=I*xe,v(S,2*A+2*R+1),S[2*A+2*R+2]+=O*xe,v(S,2*A+2*R+2)}for(A=0;A<g;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=g;A<2*g;A++)S[A]=0;return new o(S,0)};function v(P,g){for(;(P[g]&65535)!=P[g];)P[g+1]+=P[g]>>>16,P[g]&=65535,g++}function w(P,g){this.g=P,this.h=g}function D(P,g){if(_(g))throw Error("division by zero");if(_(P))return new w(d,d);if(x(P))return g=D(b(P),g),new w(b(g.g),b(g.h));if(x(g))return g=D(P,b(g)),new w(b(g.g),g.h);if(30<P.g.length){if(x(P)||x(g))throw Error("slowDivide_ only works with positive integers.");for(var S=p,A=g;0>=A.l(P);)S=M(S),A=M(A);var R=U(S,1),O=U(A,1);for(A=U(A,2),S=U(S,2);!_(A);){var I=O.add(A);0>=I.l(P)&&(R=R.add(S),O=I),A=U(A,1),S=U(S,1)}return g=T(P,R.j(g)),new w(R,g)}for(R=d;0<=P.l(g);){for(S=Math.max(1,Math.floor(P.m()/g.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=c(S),I=O.j(g);x(I)||0<I.l(P);)S-=A,O=c(S),I=O.j(g);_(O)&&(O=p),R=R.add(O),P=T(P,I)}return new w(R,P)}t.A=function(P){return D(this,P).h},t.and=function(P){for(var g=Math.max(this.g.length,P.g.length),S=[],A=0;A<g;A++)S[A]=this.i(A)&P.i(A);return new o(S,this.h&P.h)},t.or=function(P){for(var g=Math.max(this.g.length,P.g.length),S=[],A=0;A<g;A++)S[A]=this.i(A)|P.i(A);return new o(S,this.h|P.h)},t.xor=function(P){for(var g=Math.max(this.g.length,P.g.length),S=[],A=0;A<g;A++)S[A]=this.i(A)^P.i(A);return new o(S,this.h^P.h)};function M(P){for(var g=P.g.length+1,S=[],A=0;A<g;A++)S[A]=P.i(A)<<1|P.i(A-1)>>>31;return new o(S,P.h)}function U(P,g){var S=g>>5;g%=32;for(var A=P.g.length-S,R=[],O=0;O<A;O++)R[O]=0<g?P.i(O+S)>>>g|P.i(O+S+1)<<32-g:P.i(O+S);return new o(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ex=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,is=o}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tx,nx,ka,rx,mc,rm,ix,sx,ox;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in m))break e;m=m[L]}l=l[l.length-1],E=m[l],f=f(E),f!=E&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var m=0,E=!1,L={next:function(){if(!E&&m<l.length){var B=m++;return{value:f(B,l[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,m){return l.call.apply(l.bind,arguments)}function d(l,f,m){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function y(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function _(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(E,L,B){for(var Y=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Y[Me-2]=arguments[Me];return f.prototype[L].apply(E,Y)}}function x(l){const f=l.length;if(0<f){const m=Array(f);for(let E=0;E<f;E++)m[E]=l[E];return m}return[]}function b(l,f){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const L=l.length||0,B=E.length||0;l.length=L+B;for(let Y=0;Y<B;Y++)l[L+Y]=E[Y]}else l.push(E)}}class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(l,f,m){for(const E in l)f.call(m,l[E],E,l)}function P(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function g(l){const f={};for(const m in l)f[m]=l[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)l[m]=E[m];for(let B=0;B<S.length;B++)m=S[B],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function R(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function I(){var l=ne;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class xe{constructor(){this.h=this.g=null}add(f,m){const E=ve.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var ve=new T(()=>new De,l=>l.reset());class De{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,G=!1,ne=new xe,J=()=>{const l=a.Promise.resolve(void 0);Le=()=>{l.then(me)}};var me=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){O(m)}var f=ve;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}G=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Qe(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(M){e:{try{D(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ht[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qe.aa.h.call(this)}}_(Qe,de);var Ht={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),ur=0;function cr(l,f,m,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=L,this.key=++ur,this.da=this.fa=!1}function vn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rt(l){this.src=l,this.g={},this.h=0}rt.prototype.add=function(l,f,m,E,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var Y=mt(l,f,E,L);return-1<Y?(f=l[Y],m||(f.fa=!1)):(f=new cr(f,this.src,B,!!E,L),f.fa=m,l.push(f)),f};function Qt(l,f){var m=f.type;if(m in l.g){var E=l.g[m],L=Array.prototype.indexOf.call(E,f,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(vn(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function mt(l,f,m,E){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==f&&B.capture==!!m&&B.ha==E)return L}return-1}var Xo="closure_lm_"+(1e6*Math.random()|0),Jo={};function iu(l,f,m,E,L){if(Array.isArray(f)){for(var B=0;B<f.length;B++)iu(l,f[B],m,E,L);return null}return m=ta(m),l&&l[Zt]?l.K(f,m,c(E)?!!E.capture:!!E,L):su(l,f,m,!1,E,L)}function su(l,f,m,E,L,B){if(!f)throw Error("Invalid event type");var Y=c(L)?!!L.capture:!!L,Me=ea(l);if(Me||(l[Xo]=Me=new rt(l)),m=Me.add(f,m,E,Y,B),m.proxy)return m;if(E=Ss(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)Ie||(L=Y),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(Zo(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ss(){function l(m){return f.call(l.src,l.listener,m)}const f=Vr;return l}function Ps(l,f,m,E,L){if(Array.isArray(f))for(var B=0;B<f.length;B++)Ps(l,f[B],m,E,L);else E=c(E)?!!E.capture:!!E,m=ta(m),l&&l[Zt]?(l=l.i,f=String(f).toString(),f in l.g&&(B=l.g[f],m=mt(B,m,E,L),-1<m&&(vn(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete l.g[f],l.h--)))):l&&(l=ea(l))&&(f=l.g[f.toString()],l=-1,f&&(l=mt(f,m,E,L)),(m=-1<l?f[l]:null)&&Di(m))}function Di(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Zt])Qt(f.i,l);else{var m=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(m,E,l.capture):f.detachEvent?f.detachEvent(Zo(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=ea(f))?(Qt(m,l),m.h==0&&(m.src=null,f[Xo]=null)):vn(l)}}}function Zo(l){return l in Jo?Jo[l]:Jo[l]="on"+l}function Vr(l,f){if(l.da)l=!0;else{f=new Qe(f,this);var m=l.listener,E=l.ha||l.src;l.fa&&Di(l),l=m.call(E,f)}return l}function ea(l){return l=l[Xo],l instanceof rt?l:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(l){return typeof l=="function"?l:(l[xs]||(l[xs]=function(f){return l.handleEvent(f)}),l[xs])}function gt(){pe.call(this),this.i=new rt(this),this.M=this,this.F=null}_(gt,pe),gt.prototype[Zt]=!0,gt.prototype.removeEventListener=function(l,f,m,E){Ps(this,l,f,m,E)};function it(l,f){var m,E=l.F;if(E)for(m=[];E;E=E.F)m.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var L=f;f=new de(E,l),A(f,L)}if(L=!0,m)for(var B=m.length-1;0<=B;B--){var Y=f.g=m[B];L=As(Y,E,!0,f)&&L}if(Y=f.g=l,L=As(Y,E,!0,f)&&L,L=As(Y,E,!1,f)&&L,m)for(B=0;B<m.length;B++)Y=f.g=m[B],L=As(Y,E,!1,f)&&L}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],E=0;E<m.length;E++)vn(m[E]);delete l.g[f],l.h--}}this.F=null},gt.prototype.K=function(l,f,m,E){return this.i.add(String(l),f,!1,m,E)},gt.prototype.L=function(l,f,m,E){return this.i.add(String(l),f,!0,m,E)};function As(l,f,m,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,B=0;B<f.length;++B){var Y=f[B];if(Y&&!Y.da&&Y.capture==m){var Me=Y.listener,_t=Y.ha||Y.src;Y.fa&&Qt(l.i,Y),L=Me.call(_t,E)!==!1&&L}}return L&&!E.defaultPrevented}function na(l,f,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function ou(l){l.g=na(()=>{l.g=null,l.i&&(l.i=!1,ou(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class au extends pe{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(l){pe.call(this),this.h=l,this.g={}}_(Kn,pe);var Cs=[];function Is(l){U(l.g,function(f,m){this.g.hasOwnProperty(m)&&Di(f)},l),l.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),Is(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ra=a.JSON.stringify,$=a.JSON.parse,k=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function F(){}F.prototype.h=null;function H(l){return l.h||(l.h=l.i())}function j(){}var q={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){de.call(this,"d")}_(se,de);function re(){de.call(this,"c")}_(re,de);var ae={},Re=null;function Ve(){return Re=Re||new gt}ae.La="serverreachability";function je(l){de.call(this,ae.La,l)}_(je,de);function Ae(l){const f=Ve();it(f,new je(f))}ae.STAT_EVENT="statevent";function st(l,f){de.call(this,ae.STAT_EVENT,l),this.stat=f}_(st,de);function Ee(l){const f=Ve();it(f,new st(f,l))}ae.Ma="timingevent";function ot(l,f){de.call(this,ae.Ma,l),this.size=f}_(ot,de);function hr(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function Rs(l,f,m,E,L,B){l.info(function(){if(l.g)if(B)for(var Y="",Me=B.split("&"),_t=0;_t<Me.length;_t++){var Ce=Me[_t].split("=");if(1<Ce.length){var bt=Ce[0];Ce=Ce[1];var kt=bt.split("_");Y=2<=kt.length&&kt[1]=="type"?Y+(bt+"="+Ce+"&"):Y+(bt+"=redacted&")}}else Y=null;else Y=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+m+`
`+Y})}function bC(l,f,m,E,L,B,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+m+`
`+B+" "+Y})}function bs(l,f,m,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+DC(l,m)+(E?" "+E:"")})}function kC(l,f){l.info(function(){return"TIMEOUT: "+f})}Nr.prototype.info=function(){};function DC(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var E=m[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return ra(m)}catch{return f}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},By={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function uu(){}_(uu,F),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},mf=new uu;function Mr(l,f,m,E){this.j=l,this.i=f,this.l=m,this.R=E||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zy}function zy(){this.i=null,this.g="",this.h=!1}var $y={},gf={};function yf(l,f,m){l.L=1,l.v=du(fr(f)),l.m=m,l.P=!0,qy(l,null)}function qy(l,f){l.F=Date.now(),cu(l),l.A=fr(l.v);var m=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),iv(m.i,"t",E),l.C=0,m=l.j.J,l.h=new zy,l.g=Tv(l.j,m?f:null,!l.m),0<l.O&&(l.M=new au(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Cs[0]=L.toString()),L=Cs);for(var B=0;B<L.length;B++){var Y=iu(m,L[B],E||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?g(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Ae(),Rs(l.i,l.u,l.A,l.l,l.R,l.m)}Mr.prototype.ca=function(l){l=l.target;const f=this.M;f&&dr(l)==3?f.j():this.Y(l)},Mr.prototype.Y=function(l){try{if(l==this.g)e:{const kt=dr(this.g);var f=this.g.Ba();const Os=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||hv(this.g)))){this.J||kt!=4||f==7||(f==8||0>=Os?Ae(3):Ae(2)),vf(this);var m=this.g.Z();this.X=m;t:if(Hy(this)){var E=hv(this.g);l="";var L=E.length,B=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ia(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(B&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,bC(this.i,this.u,this.A,this.l,this.R,kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,_t=this.g;if((Me=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Me)){var Ce=Me;break t}}Ce=null}if(m=Ce)bs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,m);else{this.o=!1,this.s=3,Ee(12),Oi(this),ia(this);break e}}if(this.P){m=!0;let Vn;for(;!this.J&&this.C<Y.length;)if(Vn=OC(this,Y),Vn==gf){kt==4&&(this.s=4,Ee(14),m=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==$y){this.s=4,Ee(15),bs(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else bs(this.i,this.l,Vn,null),wf(this,Vn);if(Hy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||Y.length!=0||this.h.h||(this.s=1,Ee(16),m=!1),this.o=this.o&&m,!m)bs(this.i,this.l,Y,"[Invalid Chunked Response]"),Oi(this),ia(this);else if(0<Y.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),xf(bt),bt.M=!0,Ee(11))}}else bs(this.i,this.l,Y,null),wf(this,Y);kt==4&&Oi(this),this.o&&!this.J&&(kt==4?vv(this.j,this):(this.o=!1,cu(this)))}else YC(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Oi(this),ia(this)}}}catch{}finally{}};function Hy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function OC(l,f){var m=l.C,E=f.indexOf(`
`,m);return E==-1?gf:(m=Number(f.substring(m,E)),isNaN(m)?$y:(E+=1,E+m>f.length?gf:(f=f.slice(E,E+m),l.C=E+m,f)))}Mr.prototype.cancel=function(){this.J=!0,Oi(this)};function cu(l){l.S=Date.now()+l.I,Qy(l,l.I)}function Qy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=hr(p(l.ba,l),f)}function vf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Mr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(kC(this.i,this.A),this.L!=2&&(Ae(),Ee(17)),Oi(this),this.s=2,ia(this)):Qy(this,this.S-l)};function ia(l){l.j.G==0||l.J||vv(l.j,l)}function Oi(l){vf(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Is(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function wf(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||_f(m.h,l))){if(!l.K&&_f(m.h,l)&&m.G==3){try{var E=m.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)vu(m),gu(m);else break e;Pf(m),Ee(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=hr(p(m.Za,m),6e3));if(1>=Gy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ni(m,11)}else if((l.K||m.g==l)&&vu(m),!v(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let Ce=L[f];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const bt=Ce[3];bt!=null&&(m.la=bt,m.j.info("VER="+m.la));const kt=Ce[4];kt!=null&&(m.Aa=kt,m.j.info("SVER="+m.Aa));const Os=Ce[5];Os!=null&&typeof Os=="number"&&0<Os&&(E=1.5*Os,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const Vn=l.g;if(Vn){const _u=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var B=E.h;B.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ef(B,B.h),B.h=null))}if(E.D){const Af=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Af&&(E.ya=Af,Be(E.I,E.D,Af))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var Y=l;if(E.qa=Ev(E,E.J?E.ia:null,E.W),Y.K){Yy(E.h,Y);var Me=Y,_t=E.L;_t&&(Me.I=_t),Me.B&&(vf(Me),cu(Me)),E.g=Y}else gv(E);0<m.i.length&&yu(m)}else Ce[0]!="stop"&&Ce[0]!="close"||Ni(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ni(m,7):Sf(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Ae(4)}catch{}}var VC=class{constructor(l,f){this.g=l,this.map=f}};function Wy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ky(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Gy(l){return l.h?1:l.g?l.g.size:0}function _f(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ef(l,f){l.g?l.g.add(f):l.h=f}function Yy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Wy.prototype.cancel=function(){if(this.i=Xy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Xy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return x(l.i)}function NC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,E=0;E<m;E++)f.push(l[E]);return f}f=[],m=0;for(E in l)f[m++]=l[E];return f}function MC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const E in l)f[m++]=E;return f}}}function Jy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=MC(l),E=NC(l),L=E.length,B=0;B<L;B++)f.call(void 0,E[B],m&&m[B],l)}var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LC(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var E=l[m].indexOf("="),L=null;if(0<=E){var B=l[m].substring(0,E);L=l[m].substring(E+1)}else B=l[m];f(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vi){this.h=l.h,hu(this,l.j),this.o=l.o,this.g=l.g,fu(this,l.s),this.l=l.l;var f=l.i,m=new aa;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),ev(this,m),this.m=l.m}else l&&(f=String(l).match(Zy))?(this.h=!1,hu(this,f[1]||"",!0),this.o=sa(f[2]||""),this.g=sa(f[3]||"",!0),fu(this,f[4]),this.l=sa(f[5]||"",!0),ev(this,f[6]||"",!0),this.m=sa(f[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}Vi.prototype.toString=function(){var l=[],f=this.j;f&&l.push(oa(f,tv,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(oa(f,tv,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(oa(m,m.charAt(0)=="/"?UC:FC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",oa(m,zC)),l.join("")};function fr(l){return new Vi(l)}function hu(l,f,m){l.j=m?sa(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function fu(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function ev(l,f,m){f instanceof aa?(l.i=f,$C(l.i,l.h)):(m||(f=oa(f,BC)),l.i=new aa(f,l.h))}function Be(l,f,m){l.i.set(f,m)}function du(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function sa(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function oa(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,jC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function jC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var tv=/[#\/\?@]/g,FC=/[#\?:]/g,UC=/[#\?]/g,BC=/[#\?@]/g,zC=/#/g;function aa(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Lr(l){l.g||(l.g=new Map,l.h=0,l.i&&LC(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=aa.prototype,t.add=function(l,f){Lr(this),this.i=null,l=ks(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function nv(l,f){Lr(l),f=ks(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function rv(l,f){return Lr(l),f=ks(l,f),l.g.has(f)}t.forEach=function(l,f){Lr(this),this.g.forEach(function(m,E){m.forEach(function(L){l.call(f,L,E,this)},this)},this)},t.na=function(){Lr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let E=0;E<f.length;E++){const L=l[E];for(let B=0;B<L.length;B++)m.push(f[E])}return m},t.V=function(l){Lr(this);let f=[];if(typeof l=="string")rv(this,l)&&(f=f.concat(this.g.get(ks(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return Lr(this),this.i=null,l=ks(this,l),rv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function iv(l,f,m){nv(l,f),0<m.length&&(l.i=null,l.g.set(ks(l,f),x(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var E=f[m];const B=encodeURIComponent(String(E)),Y=this.V(E);for(E=0;E<Y.length;E++){var L=B;Y[E]!==""&&(L+="="+encodeURIComponent(String(Y[E]))),l.push(L)}}return this.i=l.join("&")};function ks(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function $C(l,f){f&&!l.j&&(Lr(l),l.i=null,l.g.forEach(function(m,E){var L=E.toLowerCase();E!=L&&(nv(this,E),iv(this,L,m))},l)),l.j=f}function qC(l,f){const m=new Nr;if(a.Image){const E=new Image;E.onload=y(jr,m,"TestLoadImage: loaded",!0,f,E),E.onerror=y(jr,m,"TestLoadImage: error",!1,f,E),E.onabort=y(jr,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=y(jr,m,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function HC(l,f){const m=new Nr,E=new AbortController,L=setTimeout(()=>{E.abort(),jr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?jr(m,"TestPingServer: ok",!0,f):jr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),jr(m,"TestPingServer: error",!1,f)})}function jr(l,f,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function QC(){this.g=new k}function WC(l,f,m){const E=m||"";try{Jy(l,function(L,B){let Y=L;c(L)&&(Y=ra(L)),f.push(E+B+"="+encodeURIComponent(Y))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function la(l){this.l=l.Ub||null,this.j=l.eb||!1}_(la,F),la.prototype.g=function(){return new pu(this.l,this.j)},la.prototype.i=function(l){return function(){return l}}({});function pu(l,f){gt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(pu,gt),t=pu.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ca(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function sv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ua(this):ca(this),this.readyState==3&&sv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ua(this))},t.Qa=function(l){this.g&&(this.response=l,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ca(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function ca(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ov(l){let f="";return U(l,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function Tf(l,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=ov(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Be(l,f,m))}function Je(l){gt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Je,gt);var KC=/^https?$/i,GC=["POST","PUT"];t=Je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?H(this.o):H(mf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){av(this,B);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())m.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GC,f,void 0))||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Y]of m)this.g.setRequestHeader(B,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cv(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){av(this,B)}};function av(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,lv(l),mu(l)}function lv(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,it(this,"complete"),it(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uv(this):this.bb())},t.bb=function(){uv(this)};function uv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||dr(l)!=4||l.Z()!=2)){if(l.u&&dr(l)==4)na(l.Ea,0,l);else if(it(l,"readystatechange"),dr(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=Y===0){var L=String(l.D).match(Zy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),E=!KC.test(L?L.toLowerCase():"")}m=E}if(m)it(l,"complete"),it(l,"success");else{l.m=6;try{var B=2<dr(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",lv(l)}}finally{mu(l)}}}}function mu(l,f){if(l.g){cv(l);const m=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||it(l,"ready");try{m.onreadystatechange=E}catch{}}}function cv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function dr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),$(f)}};function hv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function YC(l){const f={};l=(l.g&&2<=dr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(v(l[E]))continue;var m=R(l[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=f[L]||[];f[L]=B,B.push(m)}P(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function fv(l){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,l),this.cb=ha("retryDelaySeedMs",1e4,l),this.Wa=ha("forwardChannelMaxRetries",2,l),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Wy(l&&l.concurrentRequestLimit),this.Da=new QC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fv.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,E){Ee(0),this.W=l,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Ev(this,null,this.W),yu(this)};function Sf(l){if(dv(l),l.G==3){var f=l.U++,m=fr(l.I);if(Be(m,"SID",l.K),Be(m,"RID",f),Be(m,"TYPE","terminate"),fa(l,m),f=new Mr(l,l.j,f),f.L=2,f.v=du(fr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Tv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),cu(f)}_v(l)}function gu(l){l.g&&(xf(l),l.g.cancel(),l.g=null)}function dv(l){gu(l),l.u&&(a.clearTimeout(l.u),l.u=null),vu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yu(l){if(!Ky(l.h)&&!l.s){l.s=!0;var f=l.Ga;Le||J(),G||(Le(),G=!0),ne.add(f,l),l.B=0}}function XC(l,f){return Gy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=hr(p(l.Ga,l,f),wv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Mr(this,this.j,l);let B=this.o;if(this.S&&(B?(B=g(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=mv(this,L,f),m=fr(this.I),Be(m,"RID",l),Be(m,"CVER",22),this.D&&Be(m,"X-HTTP-Session-Id",this.D),fa(this,m),B&&(this.O?f="headers="+encodeURIComponent(String(ov(B)))+"&"+f:this.m&&Tf(m,this.m,B)),Ef(this.h,L),this.Ua&&Be(m,"TYPE","init"),this.P?(Be(m,"$req",f),Be(m,"SID","null"),L.T=!0,yf(L,m,null)):yf(L,m,f),this.G=2}}else this.G==3&&(l?pv(this,l):this.i.length==0||Ky(this.h)||pv(this))};function pv(l,f){var m;f?m=f.l:m=l.U++;const E=fr(l.I);Be(E,"SID",l.K),Be(E,"RID",m),Be(E,"AID",l.T),fa(l,E),l.m&&l.o&&Tf(E,l.m,l.o),m=new Mr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=mv(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ef(l.h,m),yf(m,E,f)}function fa(l,f){l.H&&U(l.H,function(m,E){Be(f,E,m)}),l.l&&Jy({},function(m,E){Be(f,E,m)})}function mv(l,f,m){m=Math.min(l.i.length,m);var E=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const Y=["count="+m];B==-1?0<m?(B=L[0].g,Y.push("ofs="+B)):B=0:Y.push("ofs="+B);let Me=!0;for(let _t=0;_t<m;_t++){let Ce=L[_t].g;const bt=L[_t].map;if(Ce-=B,0>Ce)B=Math.max(0,L[_t].g-100),Me=!1;else try{WC(bt,Y,"req"+Ce+"_")}catch{E&&E(bt)}}if(Me){E=Y.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,E}function gv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Le||J(),G||(Le(),G=!0),ne.add(f,l),l.v=0}}function Pf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=hr(p(l.Fa,l),wv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,yv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=hr(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),gu(this),yv(this))};function xf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function yv(l){l.g=new Mr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=fr(l.qa);Be(f,"RID","rpc"),Be(f,"SID",l.K),Be(f,"AID",l.T),Be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(f,"TO",l.ja),Be(f,"TYPE","xmlhttp"),fa(l,f),l.m&&l.o&&Tf(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=du(fr(f)),m.m=null,m.P=!0,qy(m,l)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),Pf(this),Ee(19))};function vu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function vv(l,f){var m=null;if(l.g==f){vu(l),xf(l),l.g=null;var E=2}else if(_f(l.h,f))m=f.D,Yy(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=Ve(),it(E,new ot(E,m)),yu(l)}else gv(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&XC(l,f)||E==2&&Pf(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),L){case 1:Ni(l,5);break;case 4:Ni(l,10);break;case 3:Ni(l,6);break;default:Ni(l,2)}}}function wv(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Ni(l,f){if(l.j.info("Error code "+f),f==2){var m=p(l.fb,l),E=l.Xa;const L=!E;E=new Vi(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hu(E,"https"),du(E),L?qC(E.toString(),m):HC(E.toString(),m)}else Ee(2);l.G=0,l.l&&l.l.sa(f),_v(l),dv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function _v(l){if(l.G=0,l.ka=[],l.l){const f=Xy(l.h);(f.length!=0||l.i.length!=0)&&(b(l.ka,f),b(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function Ev(l,f,m){var E=m instanceof Vi?fr(m):new Vi(m);if(E.g!="")f&&(E.g=f+"."+E.g),fu(E,E.s);else{var L=a.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var B=new Vi(null);E&&hu(B,E),f&&(B.g=f),L&&fu(B,L),m&&(B.l=m),E=B}return m=l.D,f=l.ya,m&&f&&Be(E,m,f),Be(E,"VER",l.la),fa(l,E),E}function Tv(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Je(new la({eb:m})):new Je(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sv(){}t=Sv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(l,f){return new ln(l,f)};function ln(l,f){gt.call(this),this.g=new fv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ds(this)}_(ln,gt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Sf(this.g)},ln.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=ra(l),l=m);f.i.push(new VC(f.Ya++,l)),f.G==3&&yu(f)},ln.prototype.N=function(){this.g.l=null,delete this.j,Sf(this.g),delete this.g,ln.aa.N.call(this)};function Pv(l){se.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}_(Pv,se);function xv(){re.call(this),this.status=1}_(xv,re);function Ds(l){this.g=l}_(Ds,Sv),Ds.prototype.ua=function(){it(this.g,"a")},Ds.prototype.ta=function(l){it(this.g,new Pv(l))},Ds.prototype.sa=function(l){it(this.g,new xv)},Ds.prototype.ra=function(){it(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,ox=function(){return new wu},sx=function(){return Ve()},ix=ae,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,mc=lu,By.COMPLETE="complete",rx=By,j.EventType=q,q.OPEN="a",q.CLOSE="b",q.ERROR="c",q.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ka=j,nx=la,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,tx=Je}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Kg("@firebase/firestore");function Ta(){return ds.logLevel}function ee(t,...e){if(ds.logLevel<=Se.DEBUG){const n=e.map(Yg);ds.debug(`Firestore (${qo}): ${t}`,...n)}}function kr(t,...e){if(ds.logLevel<=Se.ERROR){const n=e.map(Yg);ds.error(`Firestore (${qo}): ${t}`,...n)}}function Oo(t,...e){if(ds.logLevel<=Se.WARN){const n=e.map(Yg);ds.warn(`Firestore (${qo}): ${t}`,...n)}}function Yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Ue(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wM{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new ax(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Lt(e)}}class _M{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _M(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new TM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new pt(0,0))}static max(){return new ce(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Pl{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Pl{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return xM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie($e.fromString(e))}static fromName(e){return new ie($e.fromString(e).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new $e(e.slice()))}}function AM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Si(i,ie.empty(),e)}function CM(t){return new Si(t.readTime,t.key,-1)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(ce.min(),ie.empty(),-1)}static max(){return new Si(ce.max(),ie.empty(),-1)}}function IM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==RM)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xg.oe=-1;function Qh(t){return t==null}function sh(t){return t===0&&1/t==-1/0}function DM(t){return typeof t=="number"&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new It(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cx("Invalid base64 string: "+s):s}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const OM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=OM.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zg(t){const e=t.mapValue.fields.__previous_value__;return Jg(e)?Zg(e):e}function xl(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jg(t)?4:NM(t)?9007199254740991:10:le()}function lr(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pi(i.timestampValue),a=Pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ps(i.bytesValue).isEqual(ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?sh(o)===sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(E_(o)!==E_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!lr(o[u],a[u])))return!1;return!0}(t,e);default:return le()}}function Cl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),u=lt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return S_(t.timestampValue,e.timestampValue);case 4:return S_(xl(t),xl(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ps(s),u=ps(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=be(a[c],u[c]);if(h!==0)return h}return be(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(lt(s.latitude),lt(o.latitude));return a!==0?a:be(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=No(a[c],u[c]);if(h)return h}return be(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wu.mapValue&&o===Wu.mapValue)return 0;if(s===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const p=be(u[d],h[d]);if(p!==0)return p;const y=No(a[u[d]],c[h[d]]);if(y!==0)return y}return be(u.length,h.length)}(t.mapValue,e.mapValue);default:throw le()}}function S_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Pi(t),r=Pi(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Mo(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=im(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${im(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function P_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sm(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function A_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function Wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(Wa(this.value))}}function hx(t){const e=[];return Ho(t.fields,(n,r)=>{const i=new At([n]);if(gc(r)){const s=hx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,ce.min(),ce.min(),ce.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,ce.min(),ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ce.min(),ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function C_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=No(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function MM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{}class ct extends fx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jM(e,n,r):n==="array-contains"?new BM(e,r):n==="in"?new zM(e,r):n==="not-in"?new $M(e,r):n==="array-contains-any"?new qM(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FM(e,r):new UM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends fx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dx(t){return t.op==="and"}function px(t){return LM(t)&&dx(t)}function LM(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function om(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(px(t))return t.filters.map(e=>om(e)).join(",");{const e=t.filters.map(n=>om(n)).join(",");return`${t.op}(${e})`}}function mx(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mx(o,i.filters[a]),!0):!1}(t,e):void le()}function gx(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(gx).join(" ,")+"}"}(t):"Filter"}class jM extends ct{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class FM extends ct{constructor(e,n){super(e,"in",n),this.keys=yx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UM extends ct{constructor(e,n){super(e,"not-in",n),this.keys=yx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class BM extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ey(n)&&Cl(n.arrayValue,this.value)}}class zM extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class $M extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cl(this.value.arrayValue,n)}}class qM extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function R_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new HM(t,e,n,r,i,s,o)}function ty(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ue=n}return e.ue}function ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function am(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QM(t,e,n,r,i,s,o,a){return new Kl(t,e,n,r,i,s,o,a)}function vx(t){return new Kl(t)}function b_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wx(t){return t.collectionGroup!==null}function Ka(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ah(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new ah(At.keyField(),r))}return e.ce}function or(t){const e=he(t);return e.le||(e.le=WM(e,Ka(t))),e.le}function WM(t,e){if(t.limitType==="F")return R_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ah(i.field,s)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return R_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lm(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function um(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wh(t,e){return ny(or(t),or(e))&&t.limitType===e.limitType}function _x(t){return`${ty(or(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gx(i)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ka(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=C_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ka(r),i)||r.endAt&&!function(o,a,u){const c=C_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ka(r),i))}(t,e)}function KM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ex(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=GM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GM(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?No(u,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ux(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new Xe(ie.comparator);function Dr(){return YM}const Tx=new Xe(ie.comparator);function Da(...t){let e=Tx;for(const n of t)e=e.insert(n.key,n);return e}function Sx(t){let e=Tx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return Ga()}function Px(){return Ga()}function Ga(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XM=new Xe(ie.comparator),JM=new It(ie.comparator);function ye(...t){let e=JM;for(const n of t)e=e.add(n);return e}const ZM=new It(be);function eL(){return ZM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function Ax(t){return{integerValue:""+t}}function tL(t,e){return DM(e)?Ax(e):xx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function nL(t,e,n){return t instanceof lh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jg(s)&&(s=Zg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Il?Ix(t,e):t instanceof Rl?Rx(t,e):function(i,s){const o=Cx(i,s),a=k_(o)+k_(i.Pe);return sm(o)&&sm(i.Pe)?Ax(a):xx(i.serializer,a)}(t,e)}function rL(t,e,n){return t instanceof Il?Ix(t,e):t instanceof Rl?Rx(t,e):n}function Cx(t,e){return t instanceof uh?function(r){return sm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class lh extends Gh{}class Il extends Gh{constructor(e){super(),this.elements=e}}function Ix(t,e){const n=bx(e);for(const r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rl extends Gh{constructor(e){super(),this.elements=e}}function Rx(t,e){let n=bx(e);for(const r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}class uh extends Gh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function k_(t){return lt(t.integerValue||t.doubleValue)}function bx(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Rl&&i instanceof Rl?Vo(r.elements,i.elements,lr):r instanceof uh&&i instanceof uh?lr(r.Pe,i.Pe):r instanceof lh&&i instanceof lh}(t.transform,e.transform)}class sL{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yh{}function kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ox(t.key,Pr.none()):new Gl(t.key,t.data,Pr.none());{const n=t.data,r=xn.empty();let i=new It(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Es(t.key,r,new Bn(i.toArray()),Pr.none())}}function oL(t,e,n){t instanceof Gl?function(i,s,o){const a=i.value.clone(),u=O_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,o){if(!yc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=O_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Dx(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof Gl?function(s,o,a,u){if(!yc(s.precondition,o))return a;const c=s.value.clone(),h=V_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,o,a,u){if(!yc(s.precondition,o))return a;const c=V_(s.fieldTransforms,u,o),h=o.data;return h.setAll(Dx(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return yc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function aL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Cx(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>iL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends Yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends Yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function O_(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rL(o,a,n[i]))}return r}function V_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nL(s,o,e))}return r}class Ox extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lL extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Px();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=kx(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>D_(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>D_(n,r))}}class ry{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return XM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ry(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Te;function fL(t){switch(t){default:return le();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function Vx(t){if(t===void 0)return kr("GRPC error has no .code"),Q.UNKNOWN;switch(t){case at.OK:return Q.OK;case at.CANCELLED:return Q.CANCELLED;case at.UNKNOWN:return Q.UNKNOWN;case at.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case at.INTERNAL:return Q.INTERNAL;case at.UNAVAILABLE:return Q.UNAVAILABLE;case at.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case at.NOT_FOUND:return Q.NOT_FOUND;case at.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case at.ABORTED:return Q.ABORTED;case at.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case at.DATA_LOSS:return Q.DATA_LOSS;default:return le()}}(Te=at||(at={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new is([4294967295,4294967295],0);function N_(t){const e=dL().encode(t),n=new ex;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new is([n,r],0),new is([i,s],0)]}class iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=is.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(is.fromNumber(r)));return i.compare(pL)===1&&(i=new is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=N_(e),[r,i]=M_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=N_(e),[r,i]=M_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xh(ce.min(),i,new Xe(be),Dr(),ye())}}class Yl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Nx{constructor(e,n){this.targetId=e,this.me=n}}class Mx{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L_{constructor(){this.fe=0,this.ge=F_(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Yl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=F_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dr(),this.qe=j_(),this.Qe=new Xe(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(am(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,Ft.newNoDocument(o,ce.min()))}else Ue(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ps(r).toUint8Array()}catch(u){if(u instanceof cx)return Oo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new iy(o,i,s)}catch(u){return Oo(u instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&am(a.target)){const u=new ie(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ft.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Xh(e,n,this.Qe,this.ke,r);return this.ke=Dr(),this.qe=j_(),this.Qe=new Xe(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new L_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function j_(){return new Xe(ie.comparator)}function F_(){return new Xe(ie.comparator)}const gL={asc:"ASCENDING",desc:"DESCENDING"},yL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vL={and:"AND",or:"OR"};class wL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cm(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _L(t,e){return ch(t,e.toTimestamp())}function ar(t){return Ue(!!t),ce.fromTimestamp(function(n){const r=Pi(n);return new pt(r.seconds,r.nanos)}(t))}function sy(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jx(t){const e=$e.fromString(t);return Ue($x(e)),e}function fm(t,e){return sy(t.databaseId,e.path)}function wd(t,e){const n=jx(e);if(n.get(1)!==t.databaseId.projectId)throw new te(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(Ux(n))}function Fx(t,e){return sy(t.databaseId,e)}function EL(t){const e=jx(t);return e.length===4?$e.emptyPath():Ux(e)}function dm(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ux(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U_(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function TL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ue(h===void 0||typeof h=="string"),qt.fromBase64String(h||"")):(Ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array),qt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?Q.UNKNOWN:Vx(c.code);return new te(h,c.message||"")}(o);n=new Mx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wd(t,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):ce.min(),a=new xn({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new vc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wd(t,r.document),s=r.readTime?ar(r.readTime):ce.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wd(t,r.document),s=r.removedTargetIds||[];n=new vc([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hL(i,s),a=r.targetId;n=new Nx(a,o)}}return n}function SL(t,e){let n;if(e instanceof Gl)n={update:U_(t,e.key,e.value)};else if(e instanceof Ox)n={delete:fm(t,e.key)};else if(e instanceof Es)n={update:U_(t,e.key,e.data),updateMask:DL(e.fieldMask)};else{if(!(e instanceof lL))return le();n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof lh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_L(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function PL(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(ce.min())&&(o=ar(s)),new sL(o,i.transformResults||[])}(n,e))):[]}function xL(t,e){return{documents:[Fx(t,e.path)]}}function AL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fx(t,i);const s=function(c){if(c.length!==0)return zx(Qn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ms(p.field),direction:RL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function CL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=Bx(d);return p instanceof Qn&&px(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(_){return new ah(Ls(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Qh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,y=d.values||[];return new oh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new oh(y,p)}(n.endAt)),QM(e,i,o,s,a,"F",u,c)}function IL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Bx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ls(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ls(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ls(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ls(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>Bx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function RL(t){return gL[t]}function bL(t){return yL[t]}function kL(t){return vL[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Ls(t){return At.fromServerFormat(t.fieldPath)}function zx(t){return t instanceof ct?function(n){if(n.op==="=="){if(A_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:bL(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>zx(i));return r.length===1?r[0]:{compositeFilter:{op:kL(n.op),filters:r}}}(t):le()}function DL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $x(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.ct=e}}function VL(t){const e=CL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this._n=new ML}addToCollectionParentIndex(e,n){return this._n.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Si.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class ML{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Lo(0)}static Ln(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ya(r.mutation,i,Bn.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Da();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dr();const o=Ga(),a=function(){return Ga()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Es)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ya(h.mutation,c,h.mutation.getFieldMask(),pt.now())):o.set(c.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new jL(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new Xe((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Bn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const d=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,d=Px();h.forEach(p=>{if(!s.has(p)){const y=kx(n.get(p),r.get(p));y!==null&&d.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(Qi());let a=-1,u=s;return o.next(c=>W.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ye())).next(h=>({batchId:a,changes:Sx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Da();return this.indexManager.getCollectionParents(e,s).next(a=>W.forEach(a,u=>{const c=function(d,p){return new Kl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ft.newInvalidDocument(h)))});let a=Da();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Ya(h.mutation,c,Bn.empty(),pt.now()),Kh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:VL(i.bundledQuery),readTime:ar(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new Xe(ie.comparator),this.hr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qi();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Qi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Qi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return W.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cL(n,r));let s=this.hr.get(n);s===void 0&&(s=ye(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Pr=new It(yt.Ir),this.Tr=new It(yt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new yt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new $e([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new $e([])),r=new yt(n,e),i=new yt(n,e+1);let s=ye();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||be(e.pr,n.pr)}static Er(e,n){return be(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new It(yt.Ir)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(be);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),W.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ie(s),0);let a=new It(be);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),W.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return W.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new yt(n,0),i=this.wr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.vr=e,this.docs=function(){return new Xe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const o=n.path,a=new ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IM(CM(h),r)<=0||(i.has(h.key)||Kh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qL(this)}getSize(e){return W.resolve(this.size)}}class qL extends LL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.persistence=e,this.Mr=new Qo(n=>ty(n),ny),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oy,this.targetCount=0,this.Lr=Lo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),W.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.qn(n),W.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Xg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new HL(this),this.indexManager=new NL,this.remoteDocumentCache=function(i){return new $L(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new OL(n),this.$r=new UL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new zL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new WL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class WL extends bM{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.zr=new oy,this.jr=null}static Hr(e){return new ay(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ly(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return nN()?8:kM(ZV())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KL;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ta()<=Se.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(Ta()<=Se.DEBUG&&ee("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ta()<=Se.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):W.resolve())}ji(e,n){if(b_(n))return W.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,um(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return b_(n)||i.isEqual(ce.min())?W.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?W.resolve(null):(Ta()<=Se.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.es(e,o,n,AM(i,-1)).next(a=>a))})}Zi(e,n){let r=new It(Ex(e));return n.forEach((i,s)=>{Kh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ta()<=Se.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.zi.getDocumentsMatchingQuery(e,n,Si.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xe(be),this.rs=new Qo(s=>ty(s),ny),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function XL(t,e,n,r){return new YL(t,e,n,r)}async function qx(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ye();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function JL(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const d=c.batch,p=d.keys();let y=W.resolve();return p.forEach(_=>{y=y.next(()=>h.getEntry(u,_)).next(x=>{const b=c.docVersions.get(_);Ue(b!==null),x.version.compareTo(b)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Hx(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ZL(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,d)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(qt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(d,y),function(x,b,T){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,h)&&a.push(n.Qr.updateTargetData(s,y))});let u=Dr(),c=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(ej(s,o,e.documentUpdates).next(h=>{u=h.cs,c=h.ls})),!r.isEqual(ce.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function ej(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function tj(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nj(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function pm(t,e,n){const r=he(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function B_(t,e,n){const r=he(t);let i=ce.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const d=he(u),p=d.rs.get(h);return p!==void 0?W.resolve(d.ns.get(p)):d.Qr.getTargetData(c,h)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:ye())).next(a=>(rj(r,KM(e),a),{documents:a,hs:s})))}function rj(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class z_{constructor(){this.activeTargetIds=eL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ij{constructor(){this.no=new z_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function _d(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class lj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=_d(),u=this.vo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(h=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Oo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=oj[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=_d();return new Promise((o,a)=>{const u=new tx;u.setWithCredentials(!0),u.listenOnce(rx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mc.NO_ERROR:const h=u.getResponseJson();ee(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mc.TIMEOUT:ee(Vt,`RPC '${e}' ${s} timed out`),a(new te(Q.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const d=u.getStatus();if(ee(Vt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const _=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(T)>=0?T:Q.UNKNOWN}(y.status);a(new te(_,y.message))}else a(new te(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te(Q.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{ee(Vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(Vt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=_d(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ox(),a=sx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new nx({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");ee(Vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=o.createWebChannel(h,u);let p=!1,y=!1;const _=new aj({lo:b=>{y?ee(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(ee(Vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ee(Vt,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},ho:()=>d.close()}),x=(b,T,v)=>{b.listen(T,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return x(d,ka.EventType.OPEN,()=>{y||(ee(Vt,`RPC '${e}' stream ${i} transport opened.`),_.mo())}),x(d,ka.EventType.CLOSE,()=>{y||(y=!0,ee(Vt,`RPC '${e}' stream ${i} transport closed`),_.po())}),x(d,ka.EventType.ERROR,b=>{y||(y=!0,Oo(Vt,`RPC '${e}' stream ${i} transport errored:`,b),_.po(new te(Q.UNAVAILABLE,"The operation could not be completed")))}),x(d,ka.EventType.MESSAGE,b=>{var T;if(!y){const v=b.data[0];Ue(!!v);const w=v,D=w.error||((T=w[0])===null||T===void 0?void 0:T.error);if(D){ee(Vt,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let U=function(S){const A=at[S];if(A!==void 0)return Vx(A)}(M),P=D.message;U===void 0&&(U=Q.INTERNAL,P="Unknown error status: "+M+" with message "+D.message),y=!0,_.po(new te(U,P)),d.close()}else ee(Vt,`RPC '${e}' stream ${i} received:`,v),_.yo(v)}}),x(a,ix.STAT_EVENT,b=>{b.stat===rm.PROXY?ee(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===rm.NOPROXY&&ee(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return new wL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Qx(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new te(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uj extends Wx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=TL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ar(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=dm(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=am(u)?{documents:xL(s,u)}:{query:AL(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Lx(s,o.resumeToken);const c=cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=ch(s,o.snapshotVersion.toTimestamp());const c=cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=IL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.i_(n)}}class cj extends Wx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=PL(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.A_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=dm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,hm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(Q.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,hm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(Q.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class fj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(kr(n),this.y_=!1):ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=he(u);c.M_.add(4),await Xl(c),c.N_.set("Unknown"),c.M_.delete(4),await Zh(c)}(this))})}),this.N_=new fj(r,i)}}async function Zh(t){if(Ts(t))for(const e of t.x_)await e(!0)}async function Xl(t){for(const e of t.x_)await e(!1)}function Kx(t,e){const n=he(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),fy(n)?hy(n):Wo(n).Xo()&&cy(n,e))}function uy(t,e){const n=he(t),r=Wo(n);n.F_.delete(e),r.Xo()&&Gx(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ts(n)&&n.N_.set("Unknown"))}function cy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).P_(e)}function Gx(t,e){t.L_.xe(e),Wo(t).I_(e)}function hy(t){t.L_=new mL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.N_.w_()}function fy(t){return Ts(t)&&!Wo(t).Zo()&&t.F_.size>0}function Ts(t){return he(t).M_.size===0}function Yx(t){t.L_=void 0}async function pj(t){t.N_.set("Online")}async function mj(t){t.F_.forEach((e,n)=>{cy(t,e)})}async function gj(t,e){Yx(t),fy(t)?(t.N_.D_(e),hy(t)):t.N_.set("Unknown")}async function yj(t,e,n){if(t.N_.set("Online"),e instanceof Mx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof vc?t.L_.Ke(e):e instanceof Nx?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await Hx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.F_.get(c);h&&s.F_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.F_.get(u);if(!h)return;s.F_.set(u,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),Gx(s,u);const d=new ti(h.target,u,c,h.sequenceNumber);cy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Wl(e))throw e;t.M_.add(1),await Xl(t),t.N_.set("Offline"),n||(n=()=>Hx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Zh(t)})}function Xx(t,e){return e().catch(n=>hh(t,n,e))}async function ef(t){const e=he(t),n=xi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;vj(e);)try{const i=await tj(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,wj(e,i)}catch(i){await hh(e,i)}Jx(e)&&Zx(e)}function vj(t){return Ts(t)&&t.v_.length<10}function wj(t,e){t.v_.push(e);const n=xi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Jx(t){return Ts(t)&&!xi(t).Zo()&&t.v_.length>0}function Zx(t){xi(t).start()}async function _j(t){xi(t).V_()}async function Ej(t){const e=xi(t);for(const n of t.v_)e.d_(n.mutations)}async function Tj(t,e,n){const r=t.v_.shift(),i=ry.from(r,e,n);await Xx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ef(t)}async function Sj(t,e){e&&xi(t).E_&&await async function(r,i){if(function(o){return fL(o)&&o!==Q.ABORTED}(i.code)){const s=r.v_.shift();xi(r).t_(),await Xx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ef(r)}}(t,e),Jx(t)&&Zx(t)}async function q_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.M_.add(3),await Xl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Zh(n)}async function Pj(t,e){const n=he(t);e?(n.M_.delete(2),await Zh(n)):e||(n.M_.add(2),await Xl(n),n.N_.set("Unknown"))}function Wo(t){return t.B_||(t.B_=function(n,r,i){const s=he(n);return s.f_(),new uj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:pj.bind(null,t),To:mj.bind(null,t),Ao:gj.bind(null,t),h_:yj.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),fy(t)?hy(t):t.N_.set("Unknown")):(await t.B_.stop(),Yx(t))})),t.B_}function xi(t){return t.k_||(t.k_=function(n,r,i){const s=he(n);return s.f_(),new cj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:_j.bind(null,t),Ao:Sj.bind(null,t),R_:Ej.bind(null,t),A_:Tj.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await ef(t)):(await t.k_.stop(),t.v_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Wl(t))return new te(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Da(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.q_=new Xe(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jo(e,n,lo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Aj{constructor(){this.queries=new Qo(e=>_x(e),Wh),this.onlineState="Unknown",this.z_=new Set}}async function Cj(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new xj,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=py(o,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&my(n)}async function Ij(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rj(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&my(n)}function bj(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function my(t){t.z_.forEach(e=>{e.next()})}var mm,Q_;(Q_=mm||(mm={})).J_="default",Q_.Cache="cache";class kj{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class Dj{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ye(),this.mutatedKeys=ye(),this.Ia=Ex(e),this.Ta=new lo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new H_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),y=Kh(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;p&&y?p.data.isEqual(y.data)?_!==x&&(r.track({type:3,doc:y}),b=!0):this.Ra(p,y)||(r.track({type:2,doc:y}),b=!0,(u&&this.Ia(y,u)>0||c&&this.Ia(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),b=!0):p&&!y&&(r.track({type:1,doc:p}),b=!0,(u||c)&&(a=!0)),b&&(y?(o=o.add(y),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,d)=>function(y,_){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return x(y)-x(_)}(h.type,d.type)||this.Ia(h.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new jo(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new H_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ye(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new tA(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new eA(r))}),n}pa(e){this.la=e.hs,this.Pa=ye();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return jo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Oj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vj{constructor(e){this.key=e,this.wa=!1}}class Nj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Qo(a=>_x(a),Wh),this.Da=new Map,this.Ca=new Set,this.va=new Xe(ie.comparator),this.Fa=new Map,this.Ma=new oy,this.xa={},this.Oa=new Map,this.Na=Lo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Mj(t,e,n=!0){const r=aA(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await nA(r,e,n,!0),i}async function Lj(t,e){const n=aA(t);await nA(n,e,!0,!1)}async function nA(t,e,n,r){const i=await nj(t.localStore,or(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await jj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Kx(t.remoteStore,i),a}async function jj(t,e,n,r,i){t.Ba=(d,p,y)=>async function(x,b,T,v){let w=b.view.da(T);w.Xi&&(w=await B_(x.localStore,b.query,!1).then(({documents:P})=>b.view.da(P,w)));const D=v&&v.targetChanges.get(b.targetId),M=v&&v.targetMismatches.get(b.targetId)!=null,U=b.view.applyChanges(w,x.isPrimaryClient,D,M);return K_(x,b.targetId,U.fa),U.snapshot}(t,d,p,y);const s=await B_(t.localStore,e,!0),o=new Dj(e,s.hs),a=o.da(s.documents),u=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);K_(t,n,c.fa);const h=new Oj(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function Fj(t,e,n){const r=he(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Wh(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uy(r.remoteStore,i.targetId),gm(r,i.targetId)}).catch(Ql)):(gm(r,i.targetId),await pm(r.localStore,i.targetId,!0))}async function Uj(t,e){const n=he(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uy(n.remoteStore,r.targetId))}async function Bj(t,e,n){const r=Kj(t);try{const i=await function(o,a){const u=he(o),c=pt.now(),h=a.reduce((y,_)=>y.add(_.key),ye());let d,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Dr(),x=ye();return u.os.getEntries(y,h).next(b=>{_=b,_.forEach((T,v)=>{v.isValidDocument()||(x=x.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(b=>{d=b;const T=[];for(const v of a){const w=aL(v,d.get(v.key).overlayedDocument);w!=null&&T.push(new Es(v.key,w,hx(w.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,T,a)}).next(b=>{p=b;const T=b.applyToLocalDocumentSet(d,x);return u.documentOverlayCache.saveOverlays(y,b.batchId,T)})}).then(()=>({batchId:p.batchId,changes:Sx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new Xe(be)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Jl(r,i.changes),await ef(r.remoteStore)}catch(i){const s=py(i,"Failed to persist write");n.reject(s)}}async function rA(t,e){const n=he(t);try{const r=await ZL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ue(o.wa):i.removedDocuments.size>0&&(Ue(o.wa),o.wa=!1))}),await Jl(n,r,e)}catch(r){await Ql(r)}}function W_(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((h,d)=>{for(const p of d.U_)p.j_(a)&&(c=!0)}),c&&my(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zj(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Xe(ie.comparator);o=o.insert(s,Ft.newNoDocument(s,ce.min()));const a=ye().add(s),u=new Xh(ce.min(),new Map,new Xe(be),o,a);await rA(r,u),r.va=r.va.remove(s),r.Fa.delete(e),gy(r)}else await pm(r.localStore,e,!1).then(()=>gm(r,e,n)).catch(Ql)}async function $j(t,e){const n=he(t),r=e.batch.batchId;try{const i=await JL(n.localStore,e);sA(n,r,null),iA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,i)}catch(i){await Ql(i)}}async function qj(t,e,n){const r=he(t);try{const i=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ue(d!==null),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);sA(r,e,n),iA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,i)}catch(i){await Ql(i)}}function iA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function sA(t,e,n){const r=he(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||oA(t,r)})}function oA(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(uy(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),gy(t))}function K_(t,e,n){for(const r of n)r instanceof eA?(t.Ma.addReference(r.key,e),Hj(t,r)):r instanceof tA?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||oA(t,r.key)):le()}function Hj(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Ca.add(r),gy(t))}function gy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie($e.fromString(e)),r=t.Na.next();t.Fa.set(r,new Vj(n)),t.va=t.va.insert(n,r),Kx(t.remoteStore,new ti(or(vx(n.path)),r,"TargetPurposeLimboResolution",Xg.oe))}}async function Jl(t,e,n){const r=he(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=ly.Ki(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const h=he(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(c,p=>W.forEach(p.qi,y=>h.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>W.forEach(p.Qi,y=>h.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!Wl(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const y=h.ns.get(p),_=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(_);h.ns=h.ns.insert(p,x)}}}(r.localStore,s))}async function Qj(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await qx(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new te(Q.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.us)}}function Wj(t,e){const n=he(t),r=n.Fa.get(e);if(r&&r.wa)return ye().add(r.key);{let i=ye();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function aA(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zj.bind(null,e),e.Sa.h_=Rj.bind(null,e.eventManager),e.Sa.ka=bj.bind(null,e.eventManager),e}function Kj(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qj.bind(null,e),e}class G_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XL(this.persistence,new GL,e.initialUser,this.serializer)}createPersistence(e){return new QL(ay.Hr,this.serializer)}createSharedClientState(e){return new ij}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qj.bind(null,this.syncEngine),await Pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Aj}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),r=function(s){return new lj(s)}(e.databaseInfo);return function(s,o,a,u){return new hj(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new dj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return $_.D()?new $_:new sj}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const d=new Nj(i,s,o,a,u,c);return h&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=he(r);ee("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Xl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=lx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Td(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zj(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q_(e.remoteStore,i)),t._onlineComponents=e}function Jj(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Zj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Td(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Jj(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Td(t,new G_)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Td(t,new G_);return t._offlineComponents}async function lA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Y_(t,new Gj))),t._onlineComponents}function e4(t){return lA(t).then(e=>e.syncEngine)}async function t4(t){const e=await lA(t),n=e.eventManager;return n.onListen=Mj.bind(null,e.syncEngine),n.onUnlisten=Fj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Uj.bind(null,e.syncEngine),n}function n4(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new Yj({next:p=>{o.enqueueAndForget(()=>Ij(s,d)),p.fromCache&&u.source==="server"?c.reject(new te(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new kj(a,h,{includeMetadataChanges:!0,ra:!0});return Cj(s,d)}(await t4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e,n){if(!n)throw new te(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,r){if(e===!0&&r===!0)throw new te(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!ie.isDocumentKey(t))throw new te(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(ie.isDocumentKey(t))throw new te(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function fh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(t);throw new te(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yM;switch(r.type){case"firstParty":return new EM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X_.get(n);r&&(ee("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())}(this),Promise.resolve()}}function i4(t,e,n,r={}){var i;const s=(t=fh(t,nf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Lt.MOCK_USER;else{a=JV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lt(c)}t._authCredentials=new vM(new ax(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class gi extends Ko{constructor(e,n,r){super(e,n,vx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ie(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Zl(t,e,...n){if(t=Ei(t),cA("collection","path",e),t instanceof nf){const r=$e.fromString(e,...n);return Z_(r),new gi(t,null,r)}{if(!(t instanceof In||t instanceof gi))throw new te(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Z_(r),new gi(t.firestore,null,r)}}function s4(t,e,...n){if(t=Ei(t),arguments.length===1&&(e=lx.newId()),cA("doc","path",e),t instanceof nf){const r=$e.fromString(e,...n);return J_(r),new In(t,null,new ie(r))}{if(!(t instanceof In||t instanceof gi))throw new te(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return J_(r),new In(t.firestore,t instanceof gi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Qx(this,"async_queue_retry"),this.hu=()=>{const n=Ed();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ed();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ed();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new mi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Wl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=dy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class yy extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fA(this),this._firestoreClient.terminate()}}function a4(t,e){const n=typeof t=="object"?t:XP(),r=typeof t=="string"?t:"(default)",i=Hl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YV("firestore");s&&i4(i,...s)}return i}function hA(t){return t._firestoreClient||fA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new VM(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Xj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(qt.fromBase64String(e))}catch(n){throw new te(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=/^__.*__$/;class u4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class _y{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(pA(this.fu)&&l4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class c4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jh(e)}Fu(e,n,r,i=!1){return new _y({fu:e,methodName:n,vu:r,path:At.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mA(t){const e=t._freezeSettings(),n=Jh(t._databaseId);return new c4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h4(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);vA("Data must be an object, but it was:",o,r);const a=gA(r,o);let u,c;if(s.merge)u=new Bn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=d4(e,d,n);if(!o.contains(p))throw new te(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);m4(h,p)||h.push(p)}u=new Bn(h),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new u4(new xn(a),u,c)}function f4(t,e,n,r=!1){return Ey(n,t.Fu(r?4:3,e))}function Ey(t,e){if(yA(t=Ei(t)))return vA("Unsupported field value:",e,t),gA(t,e);if(t instanceof dA)return function(r,i){if(!pA(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Ey(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=pt.fromDate(r);return{timestampValue:ch(i.serializer,s)}}if(r instanceof pt){const s=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,s)}}if(r instanceof wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:Lx(i.serializer,r._byteString)};if(r instanceof In){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${tf(r)}`)}(t,e)}function gA(t,e){const n={};return ux(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,i)=>{const s=Ey(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof wy||t instanceof Fo||t instanceof In||t instanceof dA)}function vA(t,e,n){if(!yA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function d4(t,e,n){if((e=Ei(e))instanceof vy)return e._internalPath;if(typeof e=="string")return wA(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const p4=new RegExp("[~\\*/\\[\\]]");function wA(t,e,n){if(e.search(p4)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vy(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(Q.INVALID_ARGUMENT,a+t+u)}function m4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g4 extends _A{data(){return super.data()}}function Ty(t,e){return typeof e=="string"?wA(t,e):e instanceof vy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class v4 extends Sy{}function EA(t,e,...n){let r=[];e instanceof Sy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Py).length,a=s.filter(u=>u instanceof rf).length;if(o>1||o>0&&a>0)throw new te(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rf extends v4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rf(e,n,r)}_apply(e){const n=this._parse(e);return TA(e._query,n),new Ko(e.firestore,e.converter,lm(e._query,n))}_parse(e){const n=mA(e.firestore);return function(s,o,a,u,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){n1(d,h);const y=[];for(const _ of d)y.push(t1(u,s,_));p={arrayValue:{values:y}}}else p=t1(u,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||n1(d,h),p=f4(a,o,d,h==="in"||h==="not-in");return ct.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wc(t,e,n){const r=e,i=Ty("where",t);return rf._create(i,r,n)}class Py extends Sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Py(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)TA(o,u),o=lm(o,u)}(e._query,n),new Ko(e.firestore,e.converter,lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t1(t,e,n){if(typeof(n=Ei(n))=="string"){if(n==="")throw new te(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wx(e)&&n.indexOf("/")!==-1)throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ie.isDocumentKey(r))throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P_(t,new ie(r))}if(n instanceof In)return P_(t,n._key);throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function n1(t,e){if(!Array.isArray(t)||t.length===0)throw new te(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w4{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new wy(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ue($x(r));const i=new Al(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E4 extends _A{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _c extends E4{data(e={}){return super.data(e)}}class T4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _c(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:S4(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class P4 extends w4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function xy(t){t=fh(t,Ko);const e=fh(t.firestore,yy),n=hA(e),r=new P4(e);return y4(t._query),n4(n,t._query).then(i=>new T4(e,r,t,i))}function SA(t,e){const n=fh(t.firestore,yy),r=s4(t),i=_4(t.converter,e);return x4(n,[h4(mA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function x4(t,e){return function(r,i){const s=new mi;return r.asyncQueue.enqueueAndForget(async()=>Bj(await e4(r),i,s)),s.promise}(hA(t),e)}(function(e,n=!0){(function(i){qo=i})(aM),Ti(new br("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new yy(new wM(r.getProvider("auth-internal")),new SM(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),sr(__,"4.6.4",e),sr(__,"4.6.4","esm2017")})();var A4="firebase",C4="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(A4,C4,"app");/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const I4={};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Yu(t){return Object.isFrozen(t)&&Object.isFrozen(t.raw)}function Xu(t){return t.toString().indexOf("`")===-1}Xu(t=>t``)||Xu(t=>t`\0`)||Xu(t=>t`\n`)||Xu(t=>t`\u0000`);Yu``&&Yu`\0`&&Yu`\n`&&Yu`\u0000`;/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */let PA="google#safe";function R4(){if(typeof window<"u")return window.trustedTypes}function xA(){var t;return PA!==""&&(t=R4())!==null&&t!==void 0?t:null}let Ju;function b4(){var t,e;if(Ju===void 0)try{Ju=(e=(t=xA())===null||t===void 0?void 0:t.createPolicy(PA,{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n}))!==null&&e!==void 0?e:null}catch{Ju=null}return Ju}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */class AA{constructor(e,n){this.privateDoNotAccessOrElseWrappedResourceUrl=e}toString(){return this.privateDoNotAccessOrElseWrappedResourceUrl.toString()}}function r1(t){var e;const n=t,r=(e=b4())===null||e===void 0?void 0:e.createScriptURL(n);return r??new AA(n,I4)}function k4(t){var e;if(!((e=xA())===null||e===void 0)&&e.isScriptURL(t))return t;if(t instanceof AA)return t.privateDoNotAccessOrElseWrappedResourceUrl;{let n="";throw new Error(n)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function D4(t,...e){if(e.length===0)return r1(t[0]);t[0].toLowerCase();let n=t[0];for(let r=0;r<e.length;r++)n+=encodeURIComponent(e[r])+t[r+1];return r1(n)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function O4(t){return V4("script",t)}function V4(t,e){var n;const r=e.document,i=(n=r.querySelector)===null||n===void 0?void 0:n.call(r,`${t}[nonce]`);return i&&(i.nonce||i.getAttribute("nonce"))||""}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function N4(t){const e=t.ownerDocument&&t.ownerDocument.defaultView,n=O4(e||window);n&&t.setAttribute("nonce",n)}function M4(t,e,n){t.src=k4(e),N4(t)}const CA="@firebase/installations",Ay="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=1e4,RA=`w:${Ay}`,bA="FIS_v2",L4="https://firebaseinstallations.googleapis.com/v1",j4=60*60*1e3,F4="installations",U4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gs=new Hh(F4,U4,B4);function kA(t){return t instanceof ki&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA({projectId:t}){return`${L4}/projects/${t}/installations`}function OA(t){return{token:t.token,requestStatus:2,expiresIn:$4(t.expiresIn),creationTime:Date.now()}}async function VA(t,e){const r=(await e.json()).error;return gs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function NA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function z4(t,{refreshToken:e}){const n=NA(t);return n.append("Authorization",q4(e)),n}async function MA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $4(t){return Number(t.replace("s","000"))}function q4(t){return`${bA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=DA(t),i=NA(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:bA,appId:t.appId,sdkVersion:RA},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await MA(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:OA(c.authToken)}}else throw await VA("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=/^[cdef][\w-]{21}$/,ym="";function K4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=G4(t);return W4.test(n)?n:ym}catch{return ym}}function G4(t){return Q4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map;function FA(t,e){const n=sf(t);UA(n,e),Y4(n,e)}function UA(t,e){const n=jA.get(t);if(n)for(const r of n)r(e)}function Y4(t,e){const n=X4();n&&n.postMessage({key:t,fid:e}),J4()}let Wi=null;function X4(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=t=>{UA(t.data.key,t.data.fid)}),Wi}function J4(){jA.size===0&&Wi&&(Wi.close(),Wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-installations-database",eF=1,ys="firebase-installations-store";let Sd=null;function Cy(){return Sd||(Sd=GP(Z4,eF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ys)}}})),Sd}async function ph(t,e){const n=sf(t),i=(await Cy()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&FA(t,e.fid),e}async function BA(t){const e=sf(t),r=(await Cy()).transaction(ys,"readwrite");await r.objectStore(ys).delete(e),await r.done}async function of(t,e){const n=sf(t),i=(await Cy()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&FA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){let e;const n=await of(t.appConfig,r=>{const i=tF(r),s=nF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ym?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tF(t){const e=t||{fid:K4(),registrationStatus:0};return zA(e)}function nF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(gs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iF(t)}:{installationEntry:e}}async function rF(t,e){try{const n=await H4(t,e);return ph(t.appConfig,n)}catch(n){throw kA(n)&&n.customData.serverCode===409?await BA(t.appConfig):await ph(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iF(t){let e=await i1(t.appConfig);for(;e.registrationStatus===1;)await LA(100),e=await i1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Iy(t);return r||n}return e}function i1(t){return of(t,e=>{if(!e)throw gs.create("installation-not-found");return zA(e)})}function zA(t){return sF(t)?{fid:t.fid,registrationStatus:0}:t}function sF(t){return t.registrationStatus===1&&t.registrationTime+IA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF({appConfig:t,heartbeatServiceProvider:e},n){const r=aF(t,n),i=z4(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:RA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await MA(()=>fetch(r,a));if(u.ok){const c=await u.json();return OA(c)}else throw await VA("Generate Auth Token",u)}function aF(t,{fid:e}){return`${DA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!$A(s))throw gs.create("not-registered");const o=s.authToken;if(!e&&cF(o))return s;if(o.requestStatus===1)return n=lF(t,e),s;{if(!navigator.onLine)throw gs.create("app-offline");const a=fF(s);return n=uF(t,a),a}});return n?await n:r.authToken}async function lF(t,e){let n=await s1(t.appConfig);for(;n.authToken.requestStatus===1;)await LA(100),n=await s1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ry(t,e):r}function s1(t){return of(t,e=>{if(!$A(e))throw gs.create("not-registered");const n=e.authToken;return dF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uF(t,e){try{const n=await oF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ph(t.appConfig,r),n}catch(n){if(kA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ph(t.appConfig,r)}throw n}}function $A(t){return t!==void 0&&t.registrationStatus===2}function cF(t){return t.requestStatus===2&&!hF(t)}function hF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+j4}function fF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dF(t){return t.requestStatus===1&&t.requestTime+IA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Iy(e);return r?r.catch(console.error):Ry(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e=!1){const n=t;return await gF(n),(await Ry(n,e)).token}async function gF(t){const{registrationPromise:e}=await Iy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){if(!t||!t.options)throw Pd("App Configuration");if(!t.name)throw Pd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pd(t){return gs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="installations",vF="installations-internal",wF=t=>{const e=t.getProvider("app").getImmediate(),n=yF(e),r=Hl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_F=t=>{const e=t.getProvider("app").getImmediate(),n=Hl(e,qA).getImmediate();return{getId:()=>pF(n),getToken:i=>mF(n,i)}};function EF(){Ti(new br(qA,wF,"PUBLIC")),Ti(new br(vF,_F,"PRIVATE"))}EF();sr(CA,Ay);sr(CA,Ay,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="analytics",TF="firebase_id",SF="origin",PF=60*1e3,xF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AF="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Kg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CF(t,e){const n=document.createElement("script"),r=D4`https://www.googletagmanager.com/gtag/js?l=${t}&id=${e}`;M4(n,r),n.async=!0,document.head.appendChild(n)}function IF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function RF(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await HA(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){dn.error(a)}t("config",i,s)}async function bF(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await HA(n);for(const u of o){const c=a.find(d=>d.measurementId===u),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){dn.error(s)}}function kF(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await bF(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await RF(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){dn.error(a)}}return i}function DF(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=kF(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function OF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(AF)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new Hh("analytics","Analytics",VF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=30,MF=1e3;class LF{constructor(e={},n=MF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QA=new LF;function jF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FF(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:jF(r)},s=xF.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function UF(t,e=QA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $F;return setTimeout(async()=>{a.abort()},PF),WA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function WA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=QA){var s;const{appId:o,measurementId:a}=t;try{await BF(r,e)}catch(u){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await FF(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!zF(c)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?c_(n,i.intervalMillis,NF):c_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${h} millis`),WA(t,d,r,i)}}function BF(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zF(t){if(!(t instanceof ki)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $F{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qF(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(){if(HP())try{await QP()}catch(t){return dn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QF(t,e,n,r,i,s,o){var a;const u=UF(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>dn.error(y)),e.push(u);const c=HF().then(y=>{if(y)return r.getId()}),[h,d]=await Promise.all([u,c]);OF(s)||CF(s,h.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[SF]="firebase",p.update=!0,d!=null&&(p[TF]=d),i("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.app=e}_delete(){return delete Xa[this.app.options.appId],Promise.resolve()}}let Xa={},o1=[];const a1={};let xd="dataLayer",KF="gtag",l1,KA,u1=!1;function GF(){const t=[];if(tN()&&t.push("This is a browser extension environment."),rN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function YF(t,e,n){GF();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Xa[r]!=null)throw Rn.create("already-exists",{id:r});if(!u1){IF(xd);const{wrappedGtag:s,gtagCore:o}=DF(Xa,o1,a1,xd,KF);KA=s,l1=o,u1=!0}return Xa[r]=QF(t,o1,a1,e,l1,xd,n),new WF(t)}function XF(t=XP()){t=Ei(t);const e=Hl(t,mh);return e.isInitialized()?e.getImmediate():JF(t)}function JF(t,e={}){const n=Hl(t,mh);if(n.isInitialized()){const i=n.getImmediate();if(rh(e,n.getOptions()))return i;throw Rn.create("already-initialized")}return n.initialize({options:e})}function ZF(t,e,n,r){t=Ei(t),qF(KA,Xa[t.app.options.appId],e,n,r).catch(i=>dn.error(i))}const c1="@firebase/analytics",h1="0.10.6";function e3(){Ti(new br(mh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return YF(r,i,n)},"PUBLIC")),Ti(new br("analytics-internal",t,"PRIVATE")),sr(c1,h1),sr(c1,h1,"esm2017");function t(e){try{const n=e.getProvider(mh).getImmediate();return{logEvent:(r,i,s)=>ZF(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}e3();const t3={apiKey:"AIzaSyCiI7EGDULZ7HNCWFzg52nhmXkaBnn8d-0",authDomain:"triviaally-99f6a.firebaseapp.com",databaseURL:"https://triviaally-99f6a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"triviaally-99f6a",storageBucket:"triviaally-99f6a.appspot.com",messagingSenderId:"1087957779282",appId:"1:1087957779282:web:8eff33008264d3621ef08b",measurementId:"G-SLD6F9BHGS"},GA=YP(t3);XF(GA);const eu=a4(GA);async function n3(t){const e=Date.now(),n=Zl(eu,"LastPlay");try{await SA(n,{...t,timestamp:e})}catch(r){console.error(r)}}async function r3(t,e=6){const n=Zl(eu,"LastPlay"),r=EA(n,wc("name","==",t));try{const i=await xy(r);if(!i.empty){let s=i.docs.map(a=>a.get("category"));s=s.filter((a,u)=>u===s.indexOf(a));const o=e-s.length;if(o>0){const a=hs.map(u=>u.name).filter(u=>!s.includes(u)).slice(0,o);return[...s,...a]}else return s.slice(0,e)}}catch(i){console.error(i)}return hs.map(i=>i.name).slice(0,e)}const by=N.createContext(void 0);function af(){const t=N.useContext(by);if(!t)throw new Error(`useUserAccount: ${t}, Can't retrieve UserAccount Context`);const{UserAccount:e}=t,[n,r]=e;return{username:n,logout:r}}var YA={exports:{}};(()=>{var t={181:(i,s,o)=>{var a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,p=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,y=typeof self=="object"&&self&&self.Object===Object&&self,_=p||y||Function("return this")(),x=Object.prototype.toString,b=Math.max,T=Math.min,v=function(){return _.Date.now()};function w(M){var U=typeof M;return!!M&&(U=="object"||U=="function")}function D(M){if(typeof M=="number")return M;if(function(g){return typeof g=="symbol"||function(S){return!!S&&typeof S=="object"}(g)&&x.call(g)=="[object Symbol]"}(M))return NaN;if(w(M)){var U=typeof M.valueOf=="function"?M.valueOf():M;M=w(U)?U+"":U}if(typeof M!="string")return M===0?M:+M;M=M.replace(a,"");var P=c.test(M);return P||h.test(M)?d(M.slice(2),P?2:8):u.test(M)?NaN:+M}i.exports=function(M,U,P){var g,S,A,R,O,I,xe=0,ve=!1,De=!1,Le=!0;if(typeof M!="function")throw new TypeError("Expected a function");function G(de){var Ie=g,Qe=S;return g=S=void 0,xe=de,R=M.apply(Qe,Ie)}function ne(de){var Ie=de-I;return I===void 0||Ie>=U||Ie<0||De&&de-xe>=A}function J(){var de=v();if(ne(de))return me(de);O=setTimeout(J,function(Ie){var Qe=U-(Ie-I);return De?T(Qe,A-(Ie-xe)):Qe}(de))}function me(de){return O=void 0,Le&&g?G(de):(g=S=void 0,R)}function pe(){var de=v(),Ie=ne(de);if(g=arguments,S=this,I=de,Ie){if(O===void 0)return function(Qe){return xe=Qe,O=setTimeout(J,U),ve?G(Qe):R}(I);if(De)return O=setTimeout(J,U),G(I)}return O===void 0&&(O=setTimeout(J,U)),R}return U=D(U)||0,w(P)&&(ve=!!P.leading,A=(De="maxWait"in P)?b(D(P.maxWait)||0,U):A,Le="trailing"in P?!!P.trailing:Le),pe.cancel=function(){O!==void 0&&clearTimeout(O),xe=0,g=I=S=O=void 0},pe.flush=function(){return O===void 0?R:me(v())},pe}},858:(i,s,o)=>{var a="Expected a function",u=NaN,c="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,y=/^0o[0-7]+$/i,_=parseInt,x=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,b=typeof self=="object"&&self&&self.Object===Object&&self,T=x||b||Function("return this")(),v=Object.prototype.toString,w=Math.max,D=Math.min,M=function(){return T.Date.now()};function U(g){var S=typeof g;return!!g&&(S=="object"||S=="function")}function P(g){if(typeof g=="number")return g;if(function(R){return typeof R=="symbol"||function(O){return!!O&&typeof O=="object"}(R)&&v.call(R)==c}(g))return u;if(U(g)){var S=typeof g.valueOf=="function"?g.valueOf():g;g=U(S)?S+"":S}if(typeof g!="string")return g===0?g:+g;g=g.replace(h,"");var A=p.test(g);return A||y.test(g)?_(g.slice(2),A?2:8):d.test(g)?u:+g}i.exports=function(g,S,A){var R=!0,O=!0;if(typeof g!="function")throw new TypeError(a);return U(A)&&(R="leading"in A?!!A.leading:R,O="trailing"in A?!!A.trailing:O),function(I,xe,ve){var De,Le,G,ne,J,me,pe=0,de=!1,Ie=!1,Qe=!0;if(typeof I!="function")throw new TypeError(a);function Ht(rt){var Qt=De,mt=Le;return De=Le=void 0,pe=rt,ne=I.apply(mt,Qt)}function Zt(rt){var Qt=rt-me;return me===void 0||Qt>=xe||Qt<0||Ie&&rt-pe>=G}function ur(){var rt=M();if(Zt(rt))return cr(rt);J=setTimeout(ur,function(Qt){var mt=xe-(Qt-me);return Ie?D(mt,G-(Qt-pe)):mt}(rt))}function cr(rt){return J=void 0,Qe&&De?Ht(rt):(De=Le=void 0,ne)}function vn(){var rt=M(),Qt=Zt(rt);if(De=arguments,Le=this,me=rt,Qt){if(J===void 0)return function(mt){return pe=mt,J=setTimeout(ur,xe),de?Ht(mt):ne}(me);if(Ie)return J=setTimeout(ur,xe),Ht(me)}return J===void 0&&(J=setTimeout(ur,xe)),ne}return xe=P(xe)||0,U(ve)&&(de=!!ve.leading,G=(Ie="maxWait"in ve)?w(P(ve.maxWait)||0,xe):G,Qe="trailing"in ve?!!ve.trailing:Qe),vn.cancel=function(){J!==void 0&&clearTimeout(J),pe=0,De=me=Le=J=void 0},vn.flush=function(){return J===void 0?ne:cr(M())},vn}(g,S,{leading:R,maxWait:S,trailing:O})}},694:(i,s,o)=>{var a=o(925);function u(){}function c(){}c.resetWarningCache=u,i.exports=function(){function h(y,_,x,b,T,v){if(v!==a){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}function d(){return h}h.isRequired=h;var p={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:d,element:h,elementType:h,instanceOf:d,node:h,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:c,resetWarningCache:u};return p.PropTypes=p,p}},556:(i,s,o)=>{i.exports=o(694)()},925:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Zo,LazyLoadImage:()=>ra,trackWindowScroll:()=>de});const i=N;var s=n.n(i),o=n(556);function a(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u($){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},u($)}function c($,k){var F=Object.keys($);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols($);k&&(H=H.filter(function(j){return Object.getOwnPropertyDescriptor($,j).enumerable})),F.push.apply(F,H)}return F}function h($,k,F){return(k=p(k))in $?Object.defineProperty($,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):$[k]=F,$}function d($,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,p(H.key),H)}}function p($){var k=function(F,H){if(u(F)!="object"||!F)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var q=j.call(F,"string");if(u(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}($);return u(k)=="symbol"?k:k+""}function y($,k,F){return k=x(k),function(H,j){if(j&&(u(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(H)}($,_()?Reflect.construct(k,F||[],x($).constructor):k.apply($,F))}function _(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!$})()}function x($){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},x($)}function b($,k){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},b($,k)}var T=function($){$.forEach(function(k){k.isIntersecting&&k.target.onVisible()})},v={},w=function($){function k(j){var q;if(function(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,k),(q=y(this,k,[j])).supportsObserver=!j.scrollPosition&&j.useIntersectionObserver&&a(),q.supportsObserver){var se=j.threshold;q.observer=function(re){return v[re]=v[re]||new IntersectionObserver(T,{rootMargin:re+"px"}),v[re]}(se)}return q}return function(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),q&&b(j,q)}(k,$),F=k,H=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,q=this.placeholder.getBoundingClientRect(),se=this.placeholder.style,re=parseInt(se.getPropertyValue("margin-left"),10)||0,ae=parseInt(se.getPropertyValue("margin-top"),10)||0;return{bottom:j.y+q.bottom+ae,left:j.x+q.left+re,right:j.x+q.right+re,top:j.y+q.top+ae}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var j=this.props,q=j.scrollPosition,se=j.threshold,re=this.getPlaceholderBoundingBox(q),ae=q.y+window.innerHeight,Re=q.x,Ve=q.x+window.innerWidth,je=q.y;return je-se<=re.bottom&&ae+se>=re.top&&Re-se<=re.right&&Ve+se>=re.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var j=this,q=this.props,se=q.className,re=q.height,ae=q.placeholder,Re=q.style,Ve=q.width;if(ae&&typeof ae.type!="function")return s().cloneElement(ae,{ref:function(Ae){return j.placeholder=Ae}});var je=function(Ae){for(var st=1;st<arguments.length;st++){var Ee=arguments[st]!=null?arguments[st]:{};st%2?c(Object(Ee),!0).forEach(function(ot){h(Ae,ot,Ee[ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Ee)):c(Object(Ee)).forEach(function(ot){Object.defineProperty(Ae,ot,Object.getOwnPropertyDescriptor(Ee,ot))})}return Ae}({display:"inline-block"},Re);return Ve!==void 0&&(je.width=Ve),re!==void 0&&(je.height=re),s().createElement("span",{className:se,ref:function(Ae){return j.placeholder=Ae},style:je},ae)}}],H&&d(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F;var F,H}(s().Component);w.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},w.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const D=w;var M=n(181),U=n.n(M),P=n(858),g=n.n(P),S=function($){var k=getComputedStyle($,null);return k.getPropertyValue("overflow")+k.getPropertyValue("overflow-y")+k.getPropertyValue("overflow-x")};const A=function($){if(!($ instanceof HTMLElement))return window;for(var k=$;k&&k instanceof HTMLElement;){if(/(scroll|auto)/.test(S(k)))return k;k=k.parentNode}return window};function R($){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},R($)}var O=["delayMethod","delayTime"];function I(){return I=Object.assign?Object.assign.bind():function($){for(var k=1;k<arguments.length;k++){var F=arguments[k];for(var H in F)({}).hasOwnProperty.call(F,H)&&($[H]=F[H])}return $},I.apply(null,arguments)}function xe($,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,ve(H.key),H)}}function ve($){var k=function(F,H){if(R(F)!="object"||!F)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var q=j.call(F,"string");if(R(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}($);return R(k)=="symbol"?k:k+""}function De($,k,F){return k=ne(k),Le($,G()?Reflect.construct(k,F||[],ne($).constructor):k.apply($,F))}function Le($,k){if(k&&(R(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}($)}function G(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G=function(){return!!$})()}function ne($){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},ne($)}function J($,k){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},J($,k)}var me=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},pe=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const de=function($){var k=function(F){function H(se){var re;if(function(Re,Ve){if(!(Re instanceof Ve))throw new TypeError("Cannot call a class as a function")}(this,H),(re=De(this,H,[se])).useIntersectionObserver=se.useIntersectionObserver&&a(),re.useIntersectionObserver)return Le(re);var ae=re.onChangeScroll.bind(re);return se.delayMethod==="debounce"?re.delayedScroll=U()(ae,se.delayTime):se.delayMethod==="throttle"&&(re.delayedScroll=g()(ae,se.delayTime)),re.state={scrollPosition:{x:me(),y:pe()}},re.baseComponentRef=s().createRef(),re}return function(se,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(re&&re.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),re&&J(se,re)}(H,F),j=H,q=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||A(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=A(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:me(),y:pe()}})}},{key:"render",value:function(){var se=this.props,re=(se.delayMethod,se.delayTime,function(Re,Ve){if(Re==null)return{};var je,Ae,st=function(ot,hr){if(ot==null)return{};var Nr={};for(var Rs in ot)if({}.hasOwnProperty.call(ot,Rs)){if(hr.indexOf(Rs)>=0)continue;Nr[Rs]=ot[Rs]}return Nr}(Re,Ve);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(Re);for(Ae=0;Ae<Ee.length;Ae++)je=Ee[Ae],Ve.indexOf(je)>=0||{}.propertyIsEnumerable.call(Re,je)&&(st[je]=Re[je])}return st}(se,O)),ae=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement($,I({forwardRef:this.baseComponentRef,scrollPosition:ae},re))}}],q&&xe(j.prototype,q),Object.defineProperty(j,"prototype",{writable:!1}),j;var j,q}(s().Component);return k.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},k.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},k};function Ie($){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},Ie($)}function Qe($,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,Ht(H.key),H)}}function Ht($){var k=function(F,H){if(Ie(F)!="object"||!F)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var q=j.call(F,"string");if(Ie(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}($);return Ie(k)=="symbol"?k:k+""}function Zt($,k,F){return k=cr(k),function(H,j){if(j&&(Ie(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(H)}($,ur()?Reflect.construct(k,F||[],cr($).constructor):k.apply($,F))}function ur(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ur=function(){return!!$})()}function cr($){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},cr($)}function vn($,k){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},vn($,k)}var rt=function($){function k(j){return function(q,se){if(!(q instanceof se))throw new TypeError("Cannot call a class as a function")}(this,k),Zt(this,k,[j])}return function(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),q&&vn(j,q)}(k,$),F=k,(H=[{key:"render",value:function(){return s().createElement(D,this.props)}}])&&Qe(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F;var F,H}(s().Component);const Qt=de(rt);function mt($){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},mt($)}function Xo($,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,Jo(H.key),H)}}function Jo($){var k=function(F,H){if(mt(F)!="object"||!F)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var q=j.call(F,"string");if(mt(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}($);return mt(k)=="symbol"?k:k+""}function iu($,k,F){return k=Ss(k),function(H,j){if(j&&(mt(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(H)}($,su()?Reflect.construct(k,F||[],Ss($).constructor):k.apply($,F))}function su(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(su=function(){return!!$})()}function Ss($){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},Ss($)}function Ps($,k){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},Ps($,k)}var Di=function($){function k(j){var q;(function(Ve,je){if(!(Ve instanceof je))throw new TypeError("Cannot call a class as a function")})(this,k),q=iu(this,k,[j]);var se=j.afterLoad,re=j.beforeLoad,ae=j.scrollPosition,Re=j.visibleByDefault;return q.state={visible:Re},Re&&(re(),se()),q.onVisible=q.onVisible.bind(q),q.isScrollTracked=!!(ae&&Number.isFinite(ae.x)&&ae.x>=0&&Number.isFinite(ae.y)&&ae.y>=0),q}return function(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),q&&Ps(j,q)}(k,$),F=k,(H=[{key:"componentDidUpdate",value:function(j,q){q.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var j=this.props,q=j.className,se=j.delayMethod,re=j.delayTime,ae=j.height,Re=j.placeholder,Ve=j.scrollPosition,je=j.style,Ae=j.threshold,st=j.useIntersectionObserver,Ee=j.width;return this.isScrollTracked||st&&a()?s().createElement(D,{className:q,height:ae,onVisible:this.onVisible,placeholder:Re,scrollPosition:Ve,style:je,threshold:Ae,useIntersectionObserver:st,width:Ee}):s().createElement(Qt,{className:q,delayMethod:se,delayTime:re,height:ae,onVisible:this.onVisible,placeholder:Re,style:je,threshold:Ae,width:Ee})}}])&&Xo(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F;var F,H}(s().Component);Di.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},Di.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Zo=Di;function Vr($){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},Vr($)}var ea=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function xs($,k){var F=Object.keys($);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols($);k&&(H=H.filter(function(j){return Object.getOwnPropertyDescriptor($,j).enumerable})),F.push.apply(F,H)}return F}function ta($){for(var k=1;k<arguments.length;k++){var F=arguments[k]!=null?arguments[k]:{};k%2?xs(Object(F),!0).forEach(function(H){gt($,H,F[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(F)):xs(Object(F)).forEach(function(H){Object.defineProperty($,H,Object.getOwnPropertyDescriptor(F,H))})}return $}function gt($,k,F){return(k=na(k))in $?Object.defineProperty($,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):$[k]=F,$}function it(){return it=Object.assign?Object.assign.bind():function($){for(var k=1;k<arguments.length;k++){var F=arguments[k];for(var H in F)({}).hasOwnProperty.call(F,H)&&($[H]=F[H])}return $},it.apply(null,arguments)}function As($,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,na(H.key),H)}}function na($){var k=function(F,H){if(Vr(F)!="object"||!F)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var q=j.call(F,"string");if(Vr(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}($);return Vr(k)=="symbol"?k:k+""}function ou($,k,F){return k=Kn(k),function(H,j){if(j&&(Vr(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(H)}($,au()?Reflect.construct(k,F||[],Kn($).constructor):k.apply($,F))}function au(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(au=function(){return!!$})()}function Kn($){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},Kn($)}function Cs($,k){return Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},Cs($,k)}var Is=function($){function k(j){var q;return function(se,re){if(!(se instanceof re))throw new TypeError("Cannot call a class as a function")}(this,k),(q=ou(this,k,[j])).state={loaded:!1},q}return function(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),q&&Cs(j,q)}(k,$),F=k,H=[{key:"onImageLoad",value:function(){var j=this;return this.state.loaded?null:function(q){j.props.onLoad(q),j.props.afterLoad(),j.setState({loaded:!0})}}},{key:"getImg",value:function(){var j=this.props,q=(j.afterLoad,j.beforeLoad,j.delayMethod,j.delayTime,j.effect,j.placeholder,j.placeholderSrc,j.scrollPosition,j.threshold,j.useIntersectionObserver,j.visibleByDefault,j.wrapperClassName,j.wrapperProps,function(se,re){if(se==null)return{};var ae,Re,Ve=function(Ae,st){if(Ae==null)return{};var Ee={};for(var ot in Ae)if({}.hasOwnProperty.call(Ae,ot)){if(st.indexOf(ot)>=0)continue;Ee[ot]=Ae[ot]}return Ee}(se,re);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(se);for(Re=0;Re<je.length;Re++)ae=je[Re],re.indexOf(ae)>=0||{}.propertyIsEnumerable.call(se,ae)&&(Ve[ae]=se[ae])}return Ve}(j,ea));return s().createElement("img",it({},q,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var j=this.props,q=j.beforeLoad,se=j.className,re=j.delayMethod,ae=j.delayTime,Re=j.height,Ve=j.placeholder,je=j.scrollPosition,Ae=j.style,st=j.threshold,Ee=j.useIntersectionObserver,ot=j.visibleByDefault,hr=j.width;return s().createElement(Zo,{beforeLoad:q,className:se,delayMethod:re,delayTime:ae,height:Re,placeholder:Ve,scrollPosition:je,style:Ae,threshold:st,useIntersectionObserver:Ee,visibleByDefault:ot,width:hr},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(j){var q=this.props,se=q.effect,re=q.height,ae=q.placeholderSrc,Re=q.width,Ve=q.wrapperClassName,je=q.wrapperProps,Ae=this.state.loaded,st=Ae?" lazy-load-image-loaded":"",Ee=Ae||!ae?{}:{backgroundImage:"url(".concat(ae,")"),backgroundSize:"100% 100%"};return s().createElement("span",it({className:Ve+" lazy-load-image-background "+se+st,style:ta(ta({},Ee),{},{color:"transparent",display:"inline-block",height:re,width:Re})},je),j)}},{key:"render",value:function(){var j=this.props,q=j.effect,se=j.placeholderSrc,re=j.visibleByDefault,ae=j.wrapperClassName,Re=j.wrapperProps,Ve=this.getLazyLoadImage();return(q||se)&&!re||ae||Re?this.getWrappedLazyLoadImage(Ve):Ve}}],H&&As(F.prototype,H),Object.defineProperty(F,"prototype",{writable:!1}),F;var F,H}(s().Component);Is.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},Is.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ra=Is})(),YA.exports=r})();var ky=YA.exports;const XA=N.createContext(void 0);function lf(){const t=N.useContext(XA);if(!t)throw new Error("Can't find Quiz Provider in the Parent tree");return t}const Dy=N.createContext(void 0);function JA(){const t=N.useContext(Dy);if(!t)throw new Error("Can't find Leaderboard Context on the ancestral tree");const{getScores:e}=t;return{getScores:e}}const f1={easy:0,medium:2e3,hard:1e4},Ad={easy:10,medium:20,hard:30},i3=20;function ZA({category:t,dialogRef:e}){const[n,r]=N.useState(0),[i,s]=N.useState(0),{getScores:o}=JA(),{username:a}=af(),{playGame:u}=lf(),c=N.useCallback(h=>()=>{a&&n3({name:a.name,category:t}),u({category:t,difficulty:h})},[u,t,a]);return N.useEffect(()=>{if(a){const h=setTimeout(async()=>{const d=await o({name:a.name,category:t}).then(p=>p.filter(({name:y})=>y==a.name));if(d.length>0){const{score:p}=d[0];r(p-f1.medium),s(p-f1.hard)}});return()=>clearTimeout(h)}},[a,t,o]),C.jsxs("dialog",{ref:e,className:"modal modal-bottom sm:modal-middle",children:[C.jsxs("div",{className:"modal-box",children:[C.jsx("h3",{className:"font-bold text-lg",children:"Select Category"}),C.jsx("p",{className:"text-neutral-500",children:i<=0&&`You need more ${n<=0?`${-n} scores to unlock medium`:`${-i} points to unlock hard`}`}),C.jsx("div",{className:"modal-action",children:C.jsxs("div",{className:"join join-horizontal",children:[C.jsx("button",{className:"btn join-item bg-primary active:bg-neutral-content",onClick:c("easy"),children:"Easy"}),C.jsx("button",{disabled:n<=0,className:"btn join-item bg-secondary active:bg-neutral-content",onClick:c("medium"),children:C.jsxs("span",{className:"flex",children:["Medium",n<=0&&C.jsx(a_,{})]})}),C.jsx("button",{className:"btn join-item bg-accent active:bg-neutral-content",disabled:i<=0,onClick:c("hard"),children:C.jsxs("span",{className:"flex",children:["Hard",i<=0&&C.jsx(a_,{})]})})]})})]}),C.jsx("form",{method:"dialog",className:"modal-backdrop",children:C.jsx("button",{children:"close"})})]})}function s3(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}function o3({index:t,currentIndex:e,description:n,name:r,src:i}){const s=N.useRef(null),o=N.useRef(null);N.useEffect(()=>{var c;t==e&&((c=o.current)==null||c.scrollIntoView({behavior:"smooth"}))},[t,e]);const{title:a,badge:u}=N.useMemo(()=>{if(r.includes(":")){const[c,h]=r.split(":");return{title:h,badge:c}}else return{title:r}},[r]);return C.jsxs(C.Fragment,{children:[C.jsxs($t.div,{ref:o,className:"w-full card bg-base-100 card-side",initial:{scale:1},whileHover:{scale:1.01},whileTap:{scale:1.03},transition:{duration:.2},onClick:()=>{var c;return(c=s.current)==null?void 0:c.showModal()},children:[C.jsx("figure",{className:"flex-shrink-0 w-36 sm:w-40 lg:w-52 h-full overflow-hidden",children:C.jsx(N.Suspense,{fallback:C.jsx("div",{className:"skeleton h-full w-[100px]"}),children:C.jsx(ky.LazyLoadImage,{src:`/triviaally/${i}`,loading:"lazy",draggable:!1,className:"object-cover w-full h-full"})})}),C.jsxs("div",{className:"card-body select-none",children:[C.jsx("div",{className:"card-title md:text-2xl",children:a}),!!u&&C.jsx("span",{className:"badge",children:u}),C.jsx("p",{className:"text-sm text-ellipsis hidden sm:block",children:n})]}),C.jsx("div",{className:"card-actions items-center m-4 opacity-25",children:C.jsx("span",{children:C.jsx(s3,{})})})]},r),C.jsx(ZA,{dialogRef:s,category:r})]})}function a3(){const{username:t}=af(),[e,n]=N.useState([]),[r,i]=N.useState(0),s=N.useMemo(()=>e.map(o=>hs.find(u=>u.name==o)).filter(o=>o!=null),[e]);return N.useEffect(()=>{const o=setInterval(()=>{i(a=>(a+1)%s.length)},3e3);return()=>clearInterval(o)},[s]),N.useEffect(()=>{if(t){const o=setTimeout(async()=>{n(await r3(t.name))});return()=>clearTimeout(o)}},[t]),C.jsxs($t.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[C.jsx("h2",{className:"text-2xl font-bold leading-loose py-2 pt-4 m-2",children:"Quick Play"}),C.jsx("div",{className:"px-5 sm:px-7 md:px-8 lg:px-10 self-center w-full flex",children:C.jsx("div",{className:"flex-grow rounded-3xl shadow-md border-neutral border-2 carousel h-36 sm:h-40 lg:h-52 w-full",children:s.map(({name:o,src:a,description:u},c)=>C.jsx("div",{className:"carousel-item w-full",children:C.jsx(o3,{currentIndex:r,index:c,name:o,description:u,src:a})},o))})})]})}function l3(){const t=N.useContext(Dy);if(!t)throw new Error("Can't find Leaderboard Context on the ancestral tree");const{overAll:e}=t;return{overAll:e}}function Oy(t){return On({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function u3(t){return On({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function c3(t){return On({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function h3(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.875 6.27a2.225 2.225 0 0 1 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z"},child:[]},{tag:"path",attr:{d:"M10 10l2 -2v8"},child:[]}]})(t)}function f3(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.875 6.27a2.225 2.225 0 0 1 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z"},child:[]},{tag:"path",attr:{d:"M10 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3"},child:[]}]})(t)}function d3(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.875 6.27a2.225 2.225 0 0 1 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z"},child:[]},{tag:"path",attr:{d:"M10 9a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1"},child:[]}]})(t)}function Cd({className:t,name:e,score:n,rank:r}){return C.jsxs($t.div,{className:`even:z-20 z-10 flex flex-col items-center justify-center
                w-28 h-32
                shadow-lg bg-base-200 text-base-content bg-opacity-70 filter backdrop-blur-sm rounded-3xl
                outline
                outline-2
                ${r=="1st"&&"outline-rank-legend"}
                ${r=="2nd"&&"outline-rank-epic"}
                ${r=="3rd"&&"outline-rank-rare"}
                ${t}
            `,drag:!0,dragSnapToOrigin:!0,animate:{scale:[0,r=="1st"?1.25:1]},transition:{delay:r=="1st"?.12:r=="2nd"?.07:0,duration:.5,ease:"backOut"},children:[C.jsxs("h1",{className:"flex flex-col items-center gap-2 relative",children:[C.jsx("span",{className:"drop-shadow absolute text-4xl -translate-y-14",children:r=="1st"&&C.jsx(Oy,{className:"text-rank-legend text-5xl -translate-y-4"})}),C.jsx("p",{className:"font-bold font-serif text-xl",children:e})]}),C.jsx("span",{className:"text-info font-bold",children:n}),C.jsxs("span",{className:`drop-shadow absolute text-2xl translate-y-16 rounded-full p-[2px] text-white
                    
                ${r=="1st"&&"bg-rank-legend"}
                ${r=="2nd"&&"bg-rank-epic"}
                ${r=="3rd"&&"bg-rank-rare"}
                `,children:[r=="1st"&&C.jsx(h3,{}),r=="2nd"&&C.jsx(f3,{}),r=="3rd"&&C.jsx(d3,{})]})]})}function eC(){const{overAll:t}=l3();return C.jsxs("div",{className:"grid grid-cols-3 mt-16 m-10 items-end",children:[t.length>1&&C.jsx(Cd,{name:t[1].name,score:t[1].score,rank:"2nd"}),t.length>0&&C.jsx(Cd,{name:t[0].name,score:t[0].score,rank:"1st"}),t.length>2&&C.jsx(Cd,{name:t[2].name,score:t[2].score,rank:"3rd"})]})}function p3(){return C.jsx(C.Fragment,{children:C.jsx("div",{className:"self-center flex justify-center",children:C.jsx(eC,{})})})}function m3(){return C.jsxs(qh,{overrideClass:!0,isStatic:!0,title:C.jsx($t.div,{className:"flex justify-center drop-shadow text-5xl sm:text-6xl md:text-7xl h-64 bg-primary left-0 w-full fixed z-10",animate:{y:[-50,0],opacity:[0,1],borderBottomLeftRadius:[0,"100%"],borderBottomRightRadius:[0,"100%"]},transition:{duration:1,ease:"anticipate"},children:C.jsxs("p",{className:"flex items-center mx-2 bg-clip-text text-transparent bg-purple-to-pink",children:["Trivi",C.jsx(UV,{className:"mt-1 text-purple-700"}),"Ally"]})}),children:[C.jsx("div",{className:"h-72"}),C.jsx(p3,{}),C.jsx(a3,{})]})}function g3(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M23.0677 11.9929L18.818 7.75739L17.4061 9.17398L19.2415 11.0032L0.932469 11.0012L0.932251 13.0012L19.2369 13.0032L17.4155 14.8308L18.8321 16.2426L23.0677 11.9929Z",fill:"currentColor"},child:[]}]})(t)}function y3({src:t,name:e,description:n}){const[r,i]=N.useState(!1),s=N.useRef(null),{title:o,badge:a}=N.useMemo(()=>{if(e.includes(":")){const[u,c]=e.split(":");return{title:c,badge:u}}else return{title:e}},[e]);return C.jsxs(C.Fragment,{children:[C.jsxs($t.div,{className:"card bg-base-100 shadow card-compact rounded-3xl",initial:{scale:1},whileTap:{scale:1.02},children:[C.jsx("figure",{className:"flex-shrink-0 h-64",children:C.jsx(N.Suspense,{fallback:C.jsx("div",{className:"skeleton h-64 w-[400px]"}),children:C.jsx(ky.LazyLoadImage,{width:400,src:`/triviaally/${t}`,loading:"lazy"})})}),C.jsxs("div",{className:"card-body w-full",children:[C.jsx("h2",{className:"card-title font-bold font-serif",children:o}),!!a&&C.jsx("span",{className:"badge",children:a}),C.jsx("p",{className:"text-sm text-ellipsis",children:n}),C.jsx("div",{className:"card-actions justify-end mt-5",children:C.jsxs("button",{className:"btn btn-accent rounded-full flex",onClick:()=>{var u;(u=s.current)==null||u.showModal()},onTouchStart:()=>i(!0),onTouchEnd:()=>i(!1),onTouchCancel:()=>i(!1),onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),children:[C.jsx("span",{children:"Play Now"}),C.jsx("span",{className:`transition-all ${r&&"translate-x-2"}`,children:C.jsx(g3,{})})]})})]})]}),C.jsx(ZA,{dialogRef:s,category:e})]})}function v3(){return C.jsx(qh,{title:"Categories",children:C.jsx("div",{className:"flex-grow gap-4 flex flex-wrap justify-center items-center p-4",children:hs.map(({name:t,src:e,description:n})=>C.jsx($t.div,{initial:{scale:.5},whileInView:{scale:1},transition:{duration:.2},viewport:{once:!0},children:C.jsx(y3,{name:t,src:e,description:n})},t))})})}function tC(){const t=N.useContext(uS);if(!t)throw new Error("Can't find ScreenManagerProvider in the parent tree");return t}function w3({children:t}){const{setScreen:e}=tC(),n=N.useCallback(({target:r})=>{const i=r.value;if(t){const s=t.indexOf(i);s>=0&&e(s)}},[e,t]);return C.jsx(C.Fragment,{children:C.jsxs("select",{className:"self-center m-4 select select-md select-bordered w-full max-w-xs",onChange:n,children:[C.jsx("option",{disabled:!0,children:"Select Category"}),t==null?void 0:t.map(r=>C.jsx("option",{children:r},r))]})})}function _3({children:t}){const[e,n]=N.useState([]),{getScores:r}=JA();return N.useEffect(()=>{const i=setTimeout(()=>{r({category:t}).then(s=>{n(s)})});return()=>clearTimeout(i)},[r,t]),C.jsx(C.Fragment,{children:e.length>0&&C.jsx($t.div,{className:"rounded-3xl mt-8 mx-4 p-4 shadow bg-neutral text-neutral-content flex flex-col",animate:{y:[200,0]},children:C.jsx("ul",{className:"flex-grow join join-vertical",children:e.map(({name:i,score:s},o)=>C.jsxs("li",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xl w-4",children:o+1}),C.jsxs("div",{className:"flex-grow flex justify-between items-center px-2",children:[C.jsxs("p",{className:"join-item text-2xl font-semibold flex gap-3 items-center",children:[i,o<=0&&s!=0&&C.jsx(Oy,{className:"text-xl text-rank-legend"})]}),C.jsx("p",{className:"join-item text-xl",children:s})]})]},i))})})})}function E3(){const t=N.useMemo(()=>hs.map(({name:e})=>e),[]);return C.jsxs(qh,{title:"Leaderboards",children:[C.jsx("div",{className:"hero",children:C.jsx(eC,{})}),C.jsx(cS,{hasExtraGap:!1,header:C.jsx(w3,{children:t}),children:hs.map(({name:e})=>C.jsx(_3,{children:e},e))})]})}const nC=N.createContext(void 0);function T3(){const t=N.useContext(nC);if(!t)throw new Error("Can't Find ThemeProvider in the ancestral tree");return t}const d1=["cupcake","emerald","valentine","pastel","nord","dark"];function S3({className:t}){const{theme:e,setTheme:n}=T3();return C.jsxs("select",{className:`select select-primary select-bordered w-full max-w-xs ${t}`,defaultValue:e,onChange:({target:r})=>{const i=r.value;d1.includes(i)&&n(i)},children:[C.jsx("option",{disabled:!0,children:"Select Theme"}),d1.map(r=>C.jsx("option",{children:r},r))]})}function P3(){const{username:t,logout:e}=af(),n=N.useCallback(()=>{e()},[e]);return C.jsxs(qh,{title:"Profile",children:[C.jsxs("div",{className:"h-64 flex flex-col justify-center relative",children:[C.jsx($t.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{ease:"anticipate"},className:"flex-grow rounded-b-lg bg-gradient-to-bl from-primary to-secondary"}),C.jsx("div",{className:"flex-grow bg-transparent"}),C.jsx($t.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05,duration:.8,ease:"backOut"},className:"avatar mask mask-hexagon-2 drop-shadow self-center absolute",children:C.jsx("div",{className:"w-32 h-32 rounded-full",children:C.jsx(ky.LazyLoadImage,{loading:"lazy",draggable:!1,src:"/triviaally/blank-dp.png"})})})]}),C.jsx("span",{className:"self-center font-serif text-2xl",children:"Hi, there"}),C.jsx("span",{className:"self-center font-bold font-serif text-3xl",children:t==null?void 0:t.name}),C.jsx("div",{className:"divider"}),C.jsxs("div",{className:"flex-grow flex flex-col gap-2",children:[C.jsx(S3,{className:"self-center"}),C.jsx("ul",{className:"menu w-full h-full bg-base-100 rounded-box gap-2",children:C.jsx("li",{children:C.jsx("a",{onClick:n,children:"LogOut"})})})]})]})}function x3(t){return On({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(t)}function Zu({children:t,title:e,index:n}){const{screen:r,setScreen:i}=tC();return C.jsxs("button",{className:`${r==n?"opacity-100":"opacity-20"} transition-all duration-500`,onClick:()=>{i(n)},children:[!!t&&C.jsx("span",{className:`text-xl ${r==n&&"scale-125"} transition-transform duration-300`,children:t}),!!e&&C.jsx("span",{className:"btm-nav-label text-[8pt] md:text-sm",children:e})]})}function A3(){return C.jsx("div",{className:"fixed bottom-0 left-0 w-screen flex justify-center p-4 px-10",children:C.jsxs("div",{className:"btm-nav md:w-[40rem] static rounded-btn overflow-clip shadow-xl z-10 bg-neutral text-neutral-content",children:[C.jsx(Zu,{index:0,children:C.jsx(c3,{})}),C.jsx(Zu,{index:1,children:C.jsx(Oy,{})}),C.jsx(Zu,{index:2,children:C.jsx(u3,{})}),C.jsx(Zu,{index:3,children:C.jsx(x3,{})})]})})}function rC(t,e){return function(){return t.apply(e,arguments)}}const{toString:C3}=Object.prototype,{getPrototypeOf:Vy}=Object,uf=(t=>e=>{const n=C3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=t=>(t=t.toLowerCase(),e=>uf(e)===t),cf=t=>e=>typeof e===t,{isArray:Go}=Array,bl=cf("undefined");function I3(t){return t!==null&&!bl(t)&&t.constructor!==null&&!bl(t.constructor)&&bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iC=Wn("ArrayBuffer");function R3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iC(t.buffer),e}const b3=cf("string"),bn=cf("function"),sC=cf("number"),hf=t=>t!==null&&typeof t=="object",k3=t=>t===!0||t===!1,Ec=t=>{if(uf(t)!=="object")return!1;const e=Vy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D3=Wn("Date"),O3=Wn("File"),V3=Wn("Blob"),N3=Wn("FileList"),M3=t=>hf(t)&&bn(t.pipe),L3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bn(t.append)&&((e=uf(t))==="formdata"||e==="object"&&bn(t.toString)&&t.toString()==="[object FormData]"))},j3=Wn("URLSearchParams"),[F3,U3,B3,z3]=["ReadableStream","Request","Response","Headers"].map(Wn),$3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Go(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function oC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const aC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lC=t=>!bl(t)&&t!==aC;function vm(){const{caseless:t}=lC(this)&&this||{},e={},n=(r,i)=>{const s=t&&oC(e,i)||i;Ec(e[s])&&Ec(r)?e[s]=vm(e[s],r):Ec(r)?e[s]=vm({},r):Go(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&tu(arguments[r],n);return e}const q3=(t,e,n,{allOwnKeys:r}={})=>(tu(e,(i,s)=>{n&&bn(i)?t[s]=rC(i,n):t[s]=i},{allOwnKeys:r}),t),H3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Q3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},W3=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Vy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},K3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},G3=t=>{if(!t)return null;if(Go(t))return t;let e=t.length;if(!sC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Y3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vy(Uint8Array)),X3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},J3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Z3=Wn("HTMLFormElement"),e9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),p1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),t9=Wn("RegExp"),uC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},n9=t=>{uC(t,(e,n)=>{if(bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},r9=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Go(t)?r(t):r(String(t).split(e)),n},i9=()=>{},s9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Id="abcdefghijklmnopqrstuvwxyz",m1="0123456789",cC={DIGIT:m1,ALPHA:Id,ALPHA_DIGIT:Id+Id.toUpperCase()+m1},o9=(t=16,e=cC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function a9(t){return!!(t&&bn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const l9=t=>{const e=new Array(10),n=(r,i)=>{if(hf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Go(r)?[]:{};return tu(r,(o,a)=>{const u=n(o,i+1);!bl(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},u9=Wn("AsyncFunction"),c9=t=>t&&(hf(t)||bn(t))&&bn(t.then)&&bn(t.catch),z={isArray:Go,isArrayBuffer:iC,isBuffer:I3,isFormData:L3,isArrayBufferView:R3,isString:b3,isNumber:sC,isBoolean:k3,isObject:hf,isPlainObject:Ec,isReadableStream:F3,isRequest:U3,isResponse:B3,isHeaders:z3,isUndefined:bl,isDate:D3,isFile:O3,isBlob:V3,isRegExp:t9,isFunction:bn,isStream:M3,isURLSearchParams:j3,isTypedArray:Y3,isFileList:N3,forEach:tu,merge:vm,extend:q3,trim:$3,stripBOM:H3,inherits:Q3,toFlatObject:W3,kindOf:uf,kindOfTest:Wn,endsWith:K3,toArray:G3,forEachEntry:X3,matchAll:J3,isHTMLForm:Z3,hasOwnProperty:p1,hasOwnProp:p1,reduceDescriptors:uC,freezeMethods:n9,toObjectSet:r9,toCamelCase:e9,noop:i9,toFiniteNumber:s9,findKey:oC,global:aC,isContextDefined:lC,ALPHABET:cC,generateString:o9,isSpecCompliantForm:a9,toJSONObject:l9,isAsyncFn:u9,isThenable:c9};function fe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}z.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const hC=fe.prototype,fC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fC[t]={value:t}});Object.defineProperties(fe,fC);Object.defineProperty(hC,"isAxiosError",{value:!0});fe.from=(t,e,n,r,i,s)=>{const o=Object.create(hC);return z.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),fe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const h9=null;function wm(t){return z.isPlainObject(t)||z.isArray(t)}function dC(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function g1(t,e,n){return t?t.concat(e).map(function(i,s){return i=dC(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function f9(t){return z.isArray(t)&&!t.some(wm)}const d9=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function ff(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!z.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(z.isDate(_))return _.toISOString();if(!u&&z.isBlob(_))throw new fe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(_)||z.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,x,b){let T=_;if(_&&!b&&typeof _=="object"){if(z.endsWith(x,"{}"))x=r?x:x.slice(0,-2),_=JSON.stringify(_);else if(z.isArray(_)&&f9(_)||(z.isFileList(_)||z.endsWith(x,"[]"))&&(T=z.toArray(_)))return x=dC(x),T.forEach(function(w,D){!(z.isUndefined(w)||w===null)&&e.append(o===!0?g1([x],D,s):o===null?x:x+"[]",c(w))}),!1}return wm(_)?!0:(e.append(g1(b,x,s),c(_)),!1)}const d=[],p=Object.assign(d9,{defaultVisitor:h,convertValue:c,isVisitable:wm});function y(_,x){if(!z.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(_),z.forEach(_,function(T,v){(!(z.isUndefined(T)||T===null)&&i.call(e,T,z.isString(v)?v.trim():v,x,p))===!0&&y(T,x?x.concat(v):[v])}),d.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return y(t),e}function y1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ny(t,e){this._pairs=[],t&&ff(t,this,e)}const pC=Ny.prototype;pC.append=function(e,n){this._pairs.push([e,n])};pC.toString=function(e){const n=e?function(r){return e.call(this,r,y1)}:y1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function p9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mC(t,e,n){if(!e)return t;const r=n&&n.encode||p9,i=n&&n.serialize;let s;if(i?s=i(e,n):s=z.isURLSearchParams(e)?e.toString():new Ny(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class v1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m9=typeof URLSearchParams<"u"?URLSearchParams:Ny,g9=typeof FormData<"u"?FormData:null,y9=typeof Blob<"u"?Blob:null,v9={isBrowser:!0,classes:{URLSearchParams:m9,FormData:g9,Blob:y9},protocols:["http","https","file","blob","url","data"]},My=typeof window<"u"&&typeof document<"u",w9=(t=>My&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E9=My&&window.location.href||"http://localhost",T9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:My,hasStandardBrowserEnv:w9,hasStandardBrowserWebWorkerEnv:_9,origin:E9},Symbol.toStringTag,{value:"Module"})),qn={...T9,...v9};function S9(t,e){return ff(t,new qn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qn.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function P9(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function x9(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function yC(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&z.isArray(i)?i.length:o,u?(z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&z.isArray(i[o])&&(i[o]=x9(i[o])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,i)=>{e(P9(r),i,n,0)}),n}return null}function A9(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nu={transitional:gC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=z.isObject(e);if(s&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i?JSON.stringify(yC(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return S9(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ff(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),A9(e)):e}],transformResponse:[function(e){const n=this.transitional||nu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{nu.headers[t]={}});const C9=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&C9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},w1=Symbol("internals");function Sa(t){return t&&String(t).trim().toLowerCase()}function Tc(t){return t===!1||t==null?t:z.isArray(t)?t.map(Tc):String(t)}function R9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const b9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rd(t,e,n,r,i){if(z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function k9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function D9(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class an{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,c){const h=Sa(u);if(!h)throw new Error("header name must be a non-empty string");const d=z.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||u]=Tc(a))}const o=(a,u)=>z.forEach(a,(c,h)=>s(c,h,u));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!b9(e))o(I9(e),n);else if(z.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Sa(e),e){const r=z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return R9(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Sa(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Rd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Sa(o),o){const a=z.findKey(r,o);a&&(!n||Rd(r,r[a],a,n))&&(delete r[a],i=!0)}}return z.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Rd(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return z.forEach(this,(i,s)=>{const o=z.findKey(r,s);if(o){n[o]=Tc(i),delete n[s];return}const a=e?k9(s):String(s).trim();a!==s&&delete n[s],n[a]=Tc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[w1]=this[w1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Sa(o);r[a]||(D9(i,o),r[a]=!0)}return z.isArray(e)?e.forEach(s):s(e),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(an.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(an);function bd(t,e){const n=this||nu,r=e||n,i=an.from(r.headers);let s=r.data;return z.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function vC(t){return!!(t&&t.__CANCEL__)}function Yo(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(Yo,fe,{__CANCEL__:!0});function wC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function O9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function V9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),h=r[s];o||(o=c),n[i]=u,r[i]=c;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const y=h&&c-h;return y?Math.round(p*1e3/y):void 0}}function N9(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const gh=(t,e,n=3)=>{let r=0;const i=V9(50,250);return N9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,t(d)},n)},M9=qn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=z.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),L9=qn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function j9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _C(t,e){return t&&!j9(e)?F9(t,e):e}const _1=t=>t instanceof an?{...t}:t;function vs(t,e){e=e||{};const n={};function r(c,h,d){return z.isPlainObject(c)&&z.isPlainObject(h)?z.merge.call({caseless:d},c,h):z.isPlainObject(h)?z.merge({},h):z.isArray(h)?h.slice():h}function i(c,h,d){if(z.isUndefined(h)){if(!z.isUndefined(c))return r(void 0,c,d)}else return r(c,h,d)}function s(c,h){if(!z.isUndefined(h))return r(void 0,h)}function o(c,h){if(z.isUndefined(h)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>i(_1(c),_1(h),!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=u[h]||i,p=d(t[h],e[h],h);z.isUndefined(p)&&d!==a||(n[h]=p)}),n}const EC=t=>{const e=vs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=an.from(o),e.url=mC(_C(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(z.isFormData(n)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...h]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&M9(e.url))){const c=i&&s&&L9.read(s);c&&o.set(i,c)}return e},U9=typeof XMLHttpRequest<"u",B9=U9&&function(t){return new Promise(function(n,r){const i=EC(t);let s=i.data;const o=an.from(i.headers).normalize();let{responseType:a}=i,u;function c(){i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout;function d(){if(!h)return;const y=an.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:y,config:t,request:h};wC(function(T){n(T),c()},function(T){r(T),c()},x),h=null}"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(d)},h.onabort=function(){h&&(r(new fe("Request aborted",fe.ECONNABORTED,i,h)),h=null)},h.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,i,h)),h=null},h.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||gC;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new fe(_,x.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,i,h)),h=null},s===void 0&&o.setContentType(null),"setRequestHeader"in h&&z.forEach(o.toJSON(),function(_,x){h.setRequestHeader(x,_)}),z.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),a&&a!=="json"&&(h.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&h.addEventListener("progress",gh(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",gh(i.onUploadProgress)),(i.cancelToken||i.signal)&&(u=y=>{h&&(r(!y||y.type?new Yo(null,t,h):y),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=O9(i.url);if(p&&qn.protocols.indexOf(p)===-1){r(new fe("Unsupported protocol "+p+":",fe.ERR_BAD_REQUEST,t));return}h.send(s||null)})},z9=(t,e)=>{let n=new AbortController,r;const i=function(u){if(!r){r=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof fe?c:new Yo(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",i):u.unsubscribe(i))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},$9=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},q9=async function*(t,e,n){for await(const r of t)yield*$9(ArrayBuffer.isView(r)?r:await n(String(r)),e)},E1=(t,e,n,r,i)=>{const s=q9(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:u,value:c}=await s.next();if(u){a.close(),r();return}let h=c.byteLength;n&&n(o+=h),a.enqueue(new Uint8Array(c))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},T1=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},df=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TC=df&&typeof ReadableStream=="function",_m=df&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),H9=TC&&(()=>{let t=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),S1=64*1024,Em=TC&&!!(()=>{try{return z.isReadableStream(new Response("").body)}catch{}})(),yh={stream:Em&&(t=>t.body)};df&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yh[e]&&(yh[e]=z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new fe(`Response type '${e}' is not supported`,fe.ERR_NOT_SUPPORT,r)})})})(new Response);const Q9=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(z.isArrayBufferView(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await _m(t)).byteLength},W9=async(t,e)=>{const n=z.toFiniteNumber(t.getContentLength());return n??Q9(e)},K9=df&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:p}=EC(t);c=c?(c+"").toLowerCase():"text";let[y,_]=i||s||o?z9([i,s],o):[],x,b;const T=()=>{!x&&setTimeout(()=>{y&&y.unsubscribe()}),x=!0};let v;try{if(u&&H9&&n!=="get"&&n!=="head"&&(v=await W9(h,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),P;z.isFormData(r)&&(P=U.headers.get("content-type"))&&h.setContentType(P),U.body&&(r=E1(U.body,S1,T1(v,gh(u)),null,_m))}z.isString(d)||(d=d?"cors":"omit"),b=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let w=await fetch(b);const D=Em&&(c==="stream"||c==="response");if(Em&&(a||D)){const U={};["status","statusText","headers"].forEach(g=>{U[g]=w[g]});const P=z.toFiniteNumber(w.headers.get("content-length"));w=new Response(E1(w.body,S1,a&&T1(P,gh(a,!0)),D&&T,_m),U)}c=c||"text";let M=await yh[z.findKey(yh,c)||"text"](w,t);return!D&&T(),_&&_(),await new Promise((U,P)=>{wC(U,P,{data:M,headers:an.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:b})})}catch(w){throw T(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,t,b),{cause:w.cause||w}):fe.from(w,w&&w.code,t,b)}}),Tm={http:h9,xhr:B9,fetch:K9};z.forEach(Tm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const P1=t=>`- ${t}`,G9=t=>z.isFunction(t)||t===null||t===!1,SC={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!G9(n)&&(r=Tm[(o=String(n)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(P1).join(`
`):" "+P1(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Tm};function kd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yo(null,t)}function x1(t){return kd(t),t.headers=an.from(t.headers),t.data=bd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SC.getAdapter(t.adapter||nu.adapter)(t).then(function(r){return kd(t),r.data=bd.call(t,t.transformResponse,r),r.headers=an.from(r.headers),r},function(r){return vC(r)||(kd(t),r&&r.response&&(r.response.data=bd.call(t,t.transformResponse,r.response),r.response.headers=an.from(r.response.headers))),Promise.reject(r)})}const PC="1.7.2",Ly={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ly[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const A1={};Ly.transitional=function(e,n,r){function i(s,o){return"[Axios v"+PC+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!A1[o]&&(A1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Y9(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new fe("option "+s+" must be "+u,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const Sm={assertOptions:Y9,validators:Ly},Ur=Sm.validators;class ss{constructor(e){this.defaults=e,this.interceptors={request:new v1,response:new v1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Sm.assertOptions(r,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),i!=null&&(z.isFunction(i)?n.paramsSerializer={serialize:i}:Sm.assertOptions(i,{encode:Ur.function,serialize:Ur.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&z.merge(s.common,s[n.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=an.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let h,d=0,p;if(!u){const _=[x1.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),p=_.length,h=Promise.resolve(n);d<p;)h=h.then(_[d++],_[d++]);return h}p=a.length;let y=n;for(d=0;d<p;){const _=a[d++],x=a[d++];try{y=_(y)}catch(b){x.call(this,b);break}}try{h=x1.call(this,y)}catch(_){return Promise.reject(_)}for(d=0,p=c.length;d<p;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=vs(this.defaults,e);const n=_C(e.baseURL,e.url);return mC(n,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){ss.prototype[e]=function(n,r){return this.request(vs(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(vs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ss.prototype[e]=n(),ss.prototype[e+"Form"]=n(!0)});class jy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Yo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new jy(function(i){e=i}),cancel:e}}}function X9(t){return function(n){return t.apply(null,n)}}function J9(t){return z.isObject(t)&&t.isAxiosError===!0}const Pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pm).forEach(([t,e])=>{Pm[e]=t});function xC(t){const e=new ss(t),n=rC(ss.prototype.request,e);return z.extend(n,ss.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xC(vs(t,i))},n}const ht=xC(nu);ht.Axios=ss;ht.CanceledError=Yo;ht.CancelToken=jy;ht.isCancel=vC;ht.VERSION=PC;ht.toFormData=ff;ht.AxiosError=fe;ht.Cancel=ht.CanceledError;ht.all=function(e){return Promise.all(e)};ht.spread=X9;ht.isAxiosError=J9;ht.mergeConfig=vs;ht.AxiosHeaders=an;ht.formToJSON=t=>yC(z.isHTMLForm(t)?new FormData(t):t);ht.getAdapter=SC.getAdapter;ht.HttpStatusCode=Pm;ht.default=ht;const AC=N.createContext(void 0);function pf(){const t=N.useContext(AC);if(!t)throw new Error("Can't find QuizConfigProvider in the ancestral tree");const{difficulty:e}=t;if(e!="easy"&&e!="medium"&&e!="hard")throw new Error(`Invalid difficulty value: ${e}`);return t}function Z9(t){const e=hs.find(n=>n.name==t);return e?e.id:null}async function e5(t,{difficulty:e,amount:n=10,type:r="multiple"}){return(await ht.get("https://opentdb.com/api.php",{params:{type:r,category:t,difficulty:e,amount:n}})).data}function t5(){const t=pf(),e=N.useMemo(()=>Z9(t.category),[t]);if(!e)throw new Error("Invalid Category Name");return i2({queryKey:["trivias",t.gameId],queryFn:()=>e5(e,t),staleTime:60*1e3*10,refetchOnWindowFocus:!1,enabled:!!t.gameId})}const ru=N.createContext(void 0),Fy=N.createContext(void 0),CC=N.createContext(void 0);function Uy(){const t=N.useContext(CC),e=N.useContext(ru);if(!t||!e)throw new Error("Can't locate QuizStatProvider parent in the tree");return{...t,total_count:e.length}}function n5(){const t=N.useContext(ru),e=N.useContext(Fy);if(!e||!t)throw new Error("Can't locate QuizStatProvider parent in the tree");return{items:t,...e}}async function r5(t,{category:e,difficulty:n,score:r}){const i=Date.now(),s=Zl(eu,"Trivia-Scores");try{await SA(s,{timestamp:i,category:e,difficulty:n,name:t,score:r})}catch(o){console.error("Error updating score: ",o)}}function i5(t){return t.map(({name:e})=>({timestamp:0,category:"",difficulty:"easy",name:e,score:0}))}async function s5({name:t,category:e,difficulty:n},r){const i=[];t&&i.push(wc("name","==",t)),e&&i.push(wc("category","==",e)),n&&i.push(wc("difficulty","==",n));const s=Zl(eu,"Trivia-Scores"),o=EA(s,...i);try{const u=(await xy(o)).docs.map(c=>{const h=parseInt(c.get("timestamp")),d=c.get("category"),p=c.get("difficulty"),y=c.get("name"),_=parseInt(c.get("score"));return{timestamp:h,category:d,difficulty:p,name:y,score:_}});return r?[...u,...i5(r)]:u}catch(a){console.error(a)}}const o5={0:"That's a tough start. Looks like there's a lot to work on.",100:"Better luck next time. Keep practicing and you'll see improvement.",200:"You can do better. Review the material and give it another shot.",300:"Decent effort. You're on the right track but there's room for growth.",400:"Not bad. You're making progress, but keep pushing to improve.",500:"Good enough. A solid performance, but there's still potential for more.",600:"You're getting there. Your effort is showing; keep up the hard work.",700:"Solid performance. You're performing well and it's showing in your score.",800:"Nice work. You're doing well, but there's always room for a bit more effort.",900:"Pretty good. You've got a good handle on the material, but aim for even higher.",1e3:"Well played. You're showing strong understanding; keep up the good work.",1100:"Impressive. You've grasped the concepts well, keep aiming higher.",1200:"Quite good. Your skills are evident; continue refining your techniques.",1300:"Strong showing. You're demonstrating great proficiency; keep it up.",1400:"Really good. You're excelling and your hard work is paying off.",1500:"Excellent job. Your performance is outstanding and shows a high level of skill.",1600:"Great job. You've performed exceptionally well and it shows in your score.",1700:"Outstanding effort. Your dedication and skill are clearly evident.",1800:"Very impressive. You've demonstrated a high level of expertise and effort.",1900:"Almost nailed it. You're just a step away from perfection; keep pushing.",2e3:"Perfect score! You've achieved the highest possible result. Well done!"};function a5(t){const e=Math.floor(t/100)*100;return o5[e]||"Score out of range."}function l5(){const{endGame:t}=lf(),{quizProgress:e}=n5(),{category:n,difficulty:r}=pf(),{username:i}=af(),[s,o]=N.useState(!1),a=N.useMemo(()=>Object.values(e).map(d=>(d==null?void 0:d.score)??0).reduce((d,p)=>d+p,0),[e]),u=N.useCallback(()=>{t()},[t]);return N.useEffect(()=>{if(!s){const c=setTimeout(async()=>{try{i&&await r5(i.name,{category:n,difficulty:r,score:a})}finally{o(!0)}});return()=>clearTimeout(c)}},[s,n,r,a,i]),C.jsx("div",{className:"flex flex-col h-screen overflow-hidden",children:C.jsxs(jP,{transition:{ease:"backOut",duration:1},children:[C.jsxs($t.div,{className:"flex flex-col",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},children:[C.jsx("h1",{className:"text-7xl font-semibold self-center py-10",children:"Done!"}),C.jsx("div",{className:"stats shadow self-center w-80 md:w-96 h-48",children:C.jsxs("div",{className:"stat",children:[C.jsx("div",{className:"stat-title text-2xl",children:"Your score"}),C.jsx("div",{className:"stat-value text-4xl",children:a}),C.jsx("p",{className:"stat-desc text-xl text-wrap",children:a5(a)})]})})]}),C.jsx($t.div,{className:"flex-grow flex flex-col-reverse",initial:{opacity:0},animate:{opacity:1},children:C.jsx("button",{className:"btn my-14 md:w-96 md:self-center",onClick:u,children:"continue"})})]})})}const IC=N.createContext(void 0);function RC(){const t=N.useContext(IC);if(t==null)throw new Error("Can't find QuizTimeProvider in the ancestral tree");return t}const u5=10;function c5(){const{counter:t}=RC(),e={"--value":Math.max(t-1,0)};return C.jsx("span",{className:`self-center countdown m-2 ${t<=u5&&"text-error font-bold"}`,children:C.jsx("span",{style:e})})}function h5(t){return On({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}const f5={easy:"progress-primary",medium:"progress-secondary",hard:"progress-accent"};function d5(){const{difficulty:t}=pf(),{currentIndex:e,total_count:n}=Uy(),{endGame:r}=lf(),i=Math.min(e+1,n);return C.jsx("div",{className:"flex flex-col max-w-96 md:max-w-5xl w-full self-center px-4",children:e<n?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsxs("button",{className:"text-neutral-content flex items-center cursor-pointer active:text-primary",onClick:r,children:[C.jsx(h5,{}),C.jsx("span",{children:"back"})]}),C.jsxs("h2",{className:"m-4 font-semibold text-lg",children:["Quiz ",i," / ",n]}),C.jsx(c5,{})]}),C.jsx("progress",{className:`progress ${f5[t]} self-center mx-4`,value:i/n*100,max:"100"})]}):C.jsx(l5,{})})}const C1=i3+1;function p5({children:t}){const[e,n]=N.useState(!1),[r,i]=N.useState(C1);N.useEffect(()=>{let o=Date.now();const a=setInterval(()=>{const u=Date.now();if(e){const c=Math.round((u-o)/1e3);i(h=>Math.max(h-c,0))}o=u},1e3);return()=>{clearInterval(a)}},[e]),N.useEffect(()=>{r<=0&&n(!1)},[r]);const s=N.useCallback((o=!0)=>{o&&i(C1),setTimeout(()=>{n(!0)})},[]);return C.jsx(IC.Provider,{value:{counter:r,startTime:s},children:t})}function m5(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}function g5({selectedState:t,className:e,children:n,correct:r}){const{selected:i,setSelected:s}=t,o=N.useCallback(({target:a})=>{i||s(a.value)},[i,s]);return C.jsxs("div",{className:`card shadow p-0 border-2 border-neutral w-full h-32 overflow-hidden transition-all duration-50 ease-out relative ${!i&&"cursor-pointer active:scale-95"}`,children:[C.jsxs("label",{className:`flex-grow label p-4 ${e} flex justify-center`,children:[C.jsx("span",{className:"label-text text-lg md:text-2xl",children:m5(n)}),C.jsx("input",{className:"radio hidden",type:"radio",name:"quizchoice",value:n,onChange:o,checked:i==n})]}),!!i&&C.jsx($t.div,{initial:{opacity:0,scale:.5,borderRadius:"100%"},animate:{opacity:.5,scale:1,borderRadius:0},transition:{duration:.1},className:`absolute w-full h-full z-30 border-2 ${n==r?"bg-green-500 border-green-500":i==n?"bg-red-500 border-red-500":"bg-transparent"}`})]})}function y5(t){const e=N.useContext(ru),n=N.useContext(Fy);if(!n||!e)throw new Error("Can't locate QuizStatProvider parent in the tree");const{quizProgress:r,setProgress:i}=n,s=N.useCallback((o,a)=>{if(e.find(({question:c})=>t.question==c))i(c=>c[t.question]?c:(c[t.question]={answer:o,score:a},{...c}));else throw new Error(`setQuestionAns Error: Can't find Question: "${t.question}"`)},[e,i,t.question]);return{quizStat:r[t.question],setQuestionAns:s}}function v5(t){const e=N.useContext(ru);if(!e)throw new Error("Can't locate QuizStatProvider parent in the tree");return e[t]}function w5({score:t}){const[e,n]=N.useState(""),[r,i]=N.useState("");return N.useEffect(()=>{!e&&t&&(n(`+${t}`),t>=100?i("text-success"):t<100&&t>0?i("text-warning"):i("text-error"))},[t,e]),C.jsx(C.Fragment,{children:!!e&&C.jsx($t.span,{className:`fixed top-10 self-center text-success font-bold text-lg z-40 drop-shadow ${r}`,animate:{opacity:[0,1,1,0],y:[-100,0,0,-100]},transition:{duration:1,times:[0,.2,.9,1],ease:"backInOut"},children:e})})}function _5(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}function E5({quizIndex:t}){const{counter:e,startTime:n}=RC(),{question:r,choices:i,correct_answer:s}=v5(t),{setQuestionAns:o}=y5({question:r}),{currentIndex:a}=Uy(),[u,c]=N.useState(""),[h,d]=N.useState(0),{difficulty:p}=pf(),y=N.useMemo(()=>{switch(p){case"medium":return Ad.medium;case"hard":return Ad.hard;default:return Ad.easy}},[p]);return N.useEffect(()=>{n()},[n]),N.useEffect(()=>{const _=setTimeout(x=>{if(u){const b=u==s?x*y:0;o(u,b),d(b)}},0,[e]);return()=>{clearTimeout(_)}},[u,s,e,o,y]),N.useEffect(()=>{const _=setTimeout(()=>{e<=0&&!u&&a==t&&(c("No Answerrrr"),d(0))});return()=>{clearTimeout(_)}},[e,u,a,t]),C.jsxs(C.Fragment,{children:[C.jsxs($t.div,{className:"card-body items-center justify-center",initial:{x:5e3,opacity:.5},animate:{x:0,opacity:1},exit:{x:-5e3,opacity:0},children:[C.jsx("h2",{className:"card-title text-4xl text-center select-none",children:_5(r)}),C.jsx(w5,{score:h})]}),C.jsx($t.div,{className:"grid grid-cols-2 gap-3 h-[30%] my-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.map(_=>C.jsx(g5,{className:"text-opacity-50 bg-neutral text-neutral-content bg-opacity-40 font-semibold",selectedState:{selected:u,setSelected:c},correct:s,children:_},_))})]})}function T5({quizIndex:t}){const{currentIndex:e}=Uy();return C.jsx(IV,{children:e==t&&C.jsx(jP,{transition:{duration:1,ease:"anticipate"},children:C.jsx("div",{className:"card max-w-96 md:max-w-7xl h-[70%] w-full self-center absolute",children:C.jsx(E5,{quizIndex:t})})})})}function S5({children:t,items:e}){const[n,r]=N.useState({}),[i,s]=N.useState(0);return N.useEffect(()=>{const o=setTimeout(()=>{const a=Object.keys(n).length;s(a)},500);return()=>{clearTimeout(o)}},[n]),C.jsx(ru.Provider,{value:e,children:C.jsx(Fy.Provider,{value:{quizProgress:n,setProgress:r},children:C.jsx(CC.Provider,{value:{currentIndex:i,setCurrent:s},children:t})})})}function I1({text:t}){const{endGame:e}=lf();return C.jsx("div",{className:"self-center h-screen flex items-center",children:C.jsxs("div",{className:"flex flex-col gap-5",children:[C.jsx("span",{className:"text-lg font-bold",children:t}),C.jsx("button",{className:"btn btn-accent",onClick:e,children:"Go Back"})]})})}function P5(){const{status:t,data:e}=t5(),n=N.useCallback((i,s)=>[...i,s].sort(()=>Math.random()-.5),[]),r=N.useMemo(()=>(e==null?void 0:e.results.map(({question:i,correct_answer:s,incorrect_answers:o})=>({question:i,correct_answer:s,choices:n(o,s)})))??[],[e,n]);return t=="success"?C.jsx("div",{className:"w-screen h-screen z-20 overflow-hidden fixed top-0 left-0 flex flex-col",children:e&&(e==null?void 0:e.response_code)==0?C.jsx(S5,{items:r,children:C.jsxs(p5,{children:[C.jsx(d5,{}),C.jsx("div",{className:"flex flex-col",children:r.map((i,s)=>C.jsx(T5,{quizIndex:s},`${s}-${i.question}`))})]})}):C.jsx(I1,{text:"Sorry🥺, No Content Found"})}):t=="pending"?C.jsx("div",{className:"self-center h-screen flex items-center",children:C.jsx("div",{className:"flex flex-col gap-5",children:C.jsx("span",{className:"loading loading-spinner loading-lg text-primary scale-150"})})}):C.jsx(I1,{text:"Something wen't wrong"})}function x5({children:t,config:e}){const{category:n,difficulty:r,gameId:i}=e;let{amount:s,type:o}=e;if(s??(s=10),o??(o="multiple"),!n||!r||!i)throw new Error(`Invalid configuration. category: ${n}, difficulty: ${r}, gameId: ${i}`);return C.jsx(AC.Provider,{value:{amount:s,type:o,category:n,difficulty:r,gameId:i},children:t})}function A5({children:t}){const e=aS(),[n,r]=N.useState(""),[i,s]=N.useState("easy"),[o,a]=N.useState(null),u=N.useCallback(({category:h,difficulty:d})=>{a(FP()),s(d),r(h)},[]),c=N.useCallback(()=>{a(null),e.removeQueries({queryKey:["trivia"],exact:!0})},[e]);return N.useEffect(()=>{o||(s("easy"),r(""))},[o]),C.jsx(XA.Provider,{value:{playGame:u,endGame:c},children:C.jsx(C.Fragment,{children:o?C.jsx(x5,{config:{category:n,gameId:o,difficulty:i},children:C.jsx(P5,{},o)}):t})})}function C5({children:t}){const[e,n]=N.useState("");return N.useEffect(()=>{var i;const r=localStorage.getItem("theme");if(r)n(r);else{const s=(i=document.querySelector("html"))==null?void 0:i.getAttribute("data-theme");s&&n(s)}},[]),N.useEffect(()=>{var r;e&&((r=document.querySelector("html"))==null||r.setAttribute("data-theme",e),localStorage.setItem("theme",e))},[e]),C.jsx(nC.Provider,{value:{theme:e,setTheme:n},children:t})}const I5=new Bb;function R5(){return C.jsx(Hb,{client:I5,children:C.jsx(C5,{children:C.jsx(A5,{children:C.jsxs(cS,{footer:C.jsx(A3,{}),children:[C.jsx(m3,{}),C.jsx(E3,{}),C.jsx(v3,{}),C.jsx(P3,{})]})})})})}async function b5(){const t=Zl(eu,"Players");try{return(await xy(t)).docs.map(e=>{const n=e.get("name"),r=e.get("src");return{name:n,src:r}})}catch(e){console.error(e)}}function k5({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState(!1),[s,o]=N.useState(void 0),[a,u]=N.useState(-1),c=N.useCallback(d=>{d>=0&&(o(e[d]),localStorage.setItem("profile_index",d.toString()))},[e]);N.useEffect(()=>{b5().then(d=>{d&&n(d)})},[]),N.useEffect(()=>{const d=setTimeout(()=>{const p=localStorage.getItem("profile_index");if(p)try{const y=parseInt(p);c(y)}catch(y){console.error(y)}i(!0)});return()=>clearTimeout(d)},[c]);const h=N.useCallback(()=>{localStorage.removeItem("profile_index"),o(void 0)},[]);return C.jsx(by.Provider,{value:{UserAccount:[s,h],UserList:e},children:C.jsx(C.Fragment,{children:!s&&r?C.jsx("div",{className:"w-screen h-screen z-50 flex items-center justify-center bg-base-100",children:C.jsx("div",{className:"card w-full max-w-xs md:max-w-sm bg-neutral text-neutral-content shadow-lg",children:C.jsx("div",{className:"card-body",children:e.length>0?C.jsxs(C.Fragment,{children:[C.jsx("h2",{className:"card-title self-center font-playlist text-7xl font-extralight",children:"Welcome"}),C.jsxs("div",{className:"flex flex-col space-y-1.5 text-lg mt-4",children:[C.jsx("label",{className:"text-lg",htmlFor:"name",children:"You are:"}),C.jsxs("select",{className:"select select-primary text-primary-content select-bordered select-lg w-full max-w-xs",id:"framework",value:a.toString(),onChange:d=>{const p=parseInt(d.target.value);u(p)},children:[C.jsx("option",{className:"text-gray-500",value:-1,children:"Select a Name"}),e.map((d,p)=>C.jsx("option",{className:"text-xl",value:p.toString(),children:d.name},d.name))]})]}),C.jsx("div",{className:"card-actions mt-4",children:C.jsx("button",{className:"btn btn-primary text-primary-content w-full rounded-full",onClick:()=>{c(a)},disabled:a<0,children:"Continue"})})]}):C.jsx("div",{className:"flex justify-center gap-5 my-24",children:C.jsx("span",{className:"loading loading-spinner loading-lg text-primary scale-150"})})})})}):t})})}function D5(){const t=N.useContext(by);if(!t)throw new Error(`useUserAccount: ${t}, Can't retrieve UserAccount Context`);const{UserList:e}=t;return{UserList:e}}function O5({children:t}){const{UserList:e}=D5(),[n,r]=N.useState([]),i=N.useCallback(async s=>{const o=new Map,a=await s5({...s},e);if(a)for(const{name:u,category:c,difficulty:h,score:d}of a){const y=[u,s.category,s.difficulty].filter(_=>_!=null).join("|");if(o.has(y)){const _=o.get(y);_.score+=d}else o.set(y,{name:u,category:c,difficulty:h,score:d})}return Array.from(o.values()).sort((u,c)=>c.score-u.score)},[e]);return N.useEffect(()=>{i({}).then(s=>{r(s)})},[i]),C.jsx(Dy.Provider,{value:{overAll:n,getScores:i},children:t})}Dd.createRoot(document.getElementById("root")).render(C.jsx(ni.StrictMode,{children:C.jsx(k5,{children:C.jsx(O5,{children:C.jsx(R5,{})})})}));
